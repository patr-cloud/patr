{
  "db": "PostgreSQL",
  "003572bba6e2c9719d902eb4cefc74a1087b9eeb51e867eec080938d306e3bb4": {
    "query": "CREATE INDEX deployment_idx_registry_image_name_image_tag ON deployment (registry, image_name, image_tag);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "01fe497f00dc8157a50bf14531ea0aa14d14f8e361ceea753137c2ba5a955242": {
    "query": "INSERT INTO user_unverified_personal_email( local, domain_id, user_id, verification_token_hash, verification_token_expiry ) VALUES ($1, $2, $3, $4, $5) ON CONFLICT(local, domain_id) DO UPDATE SET user_id = EXCLUDED.user_id, verification_token_hash = EXCLUDED.verification_token_hash, verification_token_expiry = EXCLUDED.verification_token_expiry;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Varchar",
          "Uuid",
          "Uuid",
          "Text",
          "Int8"
        ]
      },
      "nullable": []
    }
  },
  "04bbcd8e6e8c5bfb4fa4462c2c63300921a8c2a6d8d728d3742f8cc164c7dbc4": {
    "query": "CREATE TABLE domain( id UUID CONSTRAINT domain_pk PRIMARY KEY, name TEXT NOT NULL CONSTRAINT domain_chk_name_is_valid CHECK( name ~ '^(([a-z0-9])|([a-z0-9][a-z0-9-]*[a-z0-9]))$' OR name LIKE CONCAT( 'patr-deleted: ', REPLACE(id::TEXT, '-', ''), '@%' ) ), type RESOURCE_OWNER_TYPE NOT NULL, tld TEXT NOT NULL CONSTRAINT domain_fk_tld REFERENCES domain_tld(tld), billable_service_id UUID NOT NULL, CONSTRAINT domain_uq_name_tld UNIQUE(name, tld), CONSTRAINT domain_chk_max_domain_name_length CHECK( (LENGTH(name) + LENGTH(tld)) < 255 ), CONSTRAINT domain_uq_name_type UNIQUE(id, type) );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "05452f7e8ed0ec4322863866b4604e496c5004b7dce28dd96928cc8b7e8ca699": {
    "query": "SELECT id as \"id: _\", workspace_id as \"workspace_id: _\", name::TEXT as \"name!: _\" FROM docker_registry_repository WHERE name = $1 AND workspace_id = $2 AND name NOT LIKE 'patr-deleted:%';",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "workspace_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 2,
          "name": "name!: _",
          "type_info": "Text"
        }
      ],
      "parameters": {
        "Left": [
          {
            "Custom": {
              "name": "citext",
              "kind": "Simple"
            }
          },
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        null
      ]
    }
  },
  "0663f7f2f1db156724600e7322caf8e80f4a0879b7e28a43d9b1904cf8d63bef": {
    "query": "SELECT username, account_type as \"account_type: ResourceType\", password, first_name, last_name, recovery_email_local, recovery_email_domain_id as \"recovery_email_domain_id: Uuid\", recovery_phone_country_code, recovery_phone_number, business_email_local, CASE WHEN business_domain_name IS NULL THEN NULL ELSE CONCAT(business_domain_name, '.', business_domain_tld) END as \"business_domain_name: String\", business_name, otp_hash, otp_expiry FROM user_to_sign_up WHERE username = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "username",
          "type_info": "Varchar"
        },
        {
          "ordinal": 1,
          "name": "account_type: ResourceType",
          "type_info": {
            "Custom": {
              "name": "resource_owner_type",
              "kind": {
                "Enum": [
                  "personal",
                  "business"
                ]
              }
            }
          }
        },
        {
          "ordinal": 2,
          "name": "password",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "first_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 4,
          "name": "last_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 5,
          "name": "recovery_email_local",
          "type_info": "Varchar"
        },
        {
          "ordinal": 6,
          "name": "recovery_email_domain_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 7,
          "name": "recovery_phone_country_code",
          "type_info": "Bpchar"
        },
        {
          "ordinal": 8,
          "name": "recovery_phone_number",
          "type_info": "Varchar"
        },
        {
          "ordinal": 9,
          "name": "business_email_local",
          "type_info": "Varchar"
        },
        {
          "ordinal": 10,
          "name": "business_domain_name: String",
          "type_info": "Text"
        },
        {
          "ordinal": 11,
          "name": "business_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 12,
          "name": "otp_hash",
          "type_info": "Text"
        },
        {
          "ordinal": 13,
          "name": "otp_expiry",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        true,
        true,
        null,
        true,
        false,
        false
      ]
    }
  },
  "06996105bdcc06ade90e67db371aa915dc31e8e8d1a4aa8a778a78909a585f74": {
    "query": "CREATE TABLE role_permissions_resource_type( role_id UUID CONSTRAINT role_permissions_resource_type_fk_role_id REFERENCES role(id), permission_id UUID CONSTRAINT role_permissions_resource_type_fk_permission_id REFERENCES permission(id), resource_type_id UUID CONSTRAINT role_permissions_resource_type_fk_resource_type_id REFERENCES resource_type(id), CONSTRAINT role_permissions_resource_type_pk PRIMARY KEY(role_id, permission_id, resource_type_id) );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "07376b5214a5662ebf3d180daf7108e107f3233929446e418ec06db93558858f": {
    "query": "SELECT id as \"id!: _\", name, description, plan_type as \"plan_type!: _\", product_info_id as \"product_info_id!: _\", price as \"price!: _\", quantity, workspace_id as \"workspace_id!: _\" FROM plans WHERE deployment_machine_type_id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id!: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "description",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "plan_type!: _",
          "type_info": {
            "Custom": {
              "name": "plan_type",
              "kind": {
                "Enum": [
                  "one_time",
                  "fixed_monthly",
                  "dynamic_monthly"
                ]
              }
            }
          }
        },
        {
          "ordinal": 4,
          "name": "product_info_id!: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 5,
          "name": "price!: _",
          "type_info": "Numeric"
        },
        {
          "ordinal": 6,
          "name": "quantity",
          "type_info": "Int4"
        },
        {
          "ordinal": 7,
          "name": "workspace_id!: _",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        true,
        false,
        false,
        false,
        true,
        false
      ]
    }
  },
  "07aac19835c6180a151a944003e5e014a8ba26aac47a3122cc32bf5c9be6af26": {
    "query": "SELECT CONCAT( \"user\".recovery_email_local, '@', domain.name, '.', domain.tld ) as \"email!: String\" FROM \"user\" INNER JOIN domain ON \"user\".recovery_email_domain_id = domain.id WHERE \"user\".id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "email!: String",
          "type_info": "Text"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        null
      ]
    }
  },
  "08133cde3025bc5f5f335c04065b11cc144468352adb85ff3695b424dc0938f9": {
    "query": "SELECT CONCAT( personal_email.local, '@', domain.name, '.', domain.tld ) as \"email!: String\" FROM personal_email INNER JOIN domain ON personal_email.domain_id = domain.id WHERE personal_email.user_id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "email!: String",
          "type_info": "Text"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        null
      ]
    }
  },
  "0a99a795783bd682faac118e140bb40890bcecc424254bf651823cb42022b1ec": {
    "query": "SELECT id as \"id: Uuid\", name, resource_type_id as \"resource_type_id: Uuid\", owner_id as \"owner_id: Uuid\", created FROM resource WHERE id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "resource_type_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "owner_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "created",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false
      ]
    }
  },
  "0b694ac08a8dfc9e40c919d0b23e42b03488d76a381d7072218c805064d165f4": {
    "query": "CREATE TABLE managed_database( id UUID CONSTRAINT managed_database_pk PRIMARY KEY, name CITEXT NOT NULL CONSTRAINT managed_database_chk_name_is_trimmed CHECK( name = TRIM(name) ), db_name VARCHAR(255) NOT NULL CONSTRAINT managed_database_chk_db_name_is_trimmed CHECK( db_name = TRIM(db_name) ), engine MANAGED_DATABASE_ENGINE NOT NULL, version TEXT NOT NULL, num_nodes INTEGER NOT NULL, database_plan MANAGED_DATABASE_PLAN NOT NULL, region TEXT NOT NULL, status MANAGED_DATABASE_STATUS NOT NULL, host TEXT NOT NULL, port INTEGER NOT NULL, username TEXT NOT NULL, password TEXT NOT NULL, workspace_id UUID NOT NULL, digitalocean_db_id TEXT CONSTRAINT managed_database_uq_digitalocean_db_id UNIQUE, billable_service_id UUID NOT NULL, CONSTRAINT managed_database_uq_name_workspace_id UNIQUE(name, workspace_id) );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "0cb6df9a6140b8e068b846e7096392003fff3554a2f2b8b7f6e36a0981dcf1d0": {
    "query": "INSERT INTO resource( id, name, resource_type_id, owner_id, created ) VALUES ($1, $2, $3, $4, $5);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Varchar",
          "Uuid",
          "Uuid",
          "Int8"
        ]
      },
      "nullable": []
    }
  },
  "0d262a2cdb70f0c2af1b7b788df13c6d6da8ce31fd6172023a0490f6cbda6d94": {
    "query": "CREATE INDEX user_to_sign_up_idx_otp_expiry ON user_to_sign_up (otp_expiry);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "0d819c000a296c17387919adf035d46c4a8993c437324fecb8aad4c52bfa6fad": {
    "query": "INSERT INTO password_reset_request( user_id, token, token_expiry ) VALUES ($1, $2, $3) ON CONFLICT(user_id) DO UPDATE SET token = EXCLUDED.token, token_expiry = EXCLUDED.token_expiry;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Int8"
        ]
      },
      "nullable": []
    }
  },
  "0fb31dc7b9fb7b5237113895348c2f42934ef330a3fbb200d384d0e9e88634f6": {
    "query": "INSERT INTO product_info( id, name, description ) VALUES( $1, 'static_site', NULL );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "0fb34c18e524cebd6791a25c764bece0f6b8339abb4e0055dd7678e2a1d8292f": {
    "query": "INSERT INTO deployment( id, name, registry, repository_id, image_name, image_tag, status, workspace_id, region, min_horizontal_scale, max_horizontal_scale, machine_type, deploy_on_push ) VALUES ( $1, $2, 'registry.patr.cloud', $3, NULL, $4, 'created', $5, $6, $7, $8, $9, $10 );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          {
            "Custom": {
              "name": "citext",
              "kind": "Simple"
            }
          },
          "Uuid",
          "Varchar",
          "Uuid",
          "Uuid",
          "Int2",
          "Int2",
          "Uuid",
          "Bool"
        ]
      },
      "nullable": []
    }
  },
  "102ae14f2d65ea1b82c065b152f7ddcac5b4a45730487d829481831e0ec0c191": {
    "query": "SELECT id as \"id: _\", name::TEXT as \"name!: _\", super_admin_id as \"super_admin_id: _\", active, alert_emails as \"alert_emails!: _\" FROM workspace WHERE name = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name!: _",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "super_admin_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "active",
          "type_info": "Bool"
        },
        {
          "ordinal": 4,
          "name": "alert_emails!: _",
          "type_info": "VarcharArray"
        }
      ],
      "parameters": {
        "Left": [
          {
            "Custom": {
              "name": "citext",
              "kind": "Simple"
            }
          }
        ]
      },
      "nullable": [
        false,
        null,
        false,
        false,
        false
      ]
    }
  },
  "109658541c3629fa2b93265b2ac5c6d6dd5d154161d45ef2293027f875ff27f6": {
    "query": "SELECT id as \"id: _\", name::TEXT as \"name!: _\", status as \"status: _\", workspace_id as \"workspace_id: _\" FROM deployment_static_site WHERE name = $1 AND workspace_id = $2 AND status != 'deleted';",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name!: _",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "status: _",
          "type_info": {
            "Custom": {
              "name": "deployment_status",
              "kind": {
                "Enum": [
                  "created",
                  "pushed",
                  "deploying",
                  "running",
                  "stopped",
                  "errored",
                  "deleted"
                ]
              }
            }
          }
        },
        {
          "ordinal": 3,
          "name": "workspace_id: _",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          {
            "Custom": {
              "name": "citext",
              "kind": "Simple"
            }
          },
          "Uuid"
        ]
      },
      "nullable": [
        false,
        null,
        false,
        false
      ]
    }
  },
  "117cf2f33ceb30129812a98389512975c4e4be5a736a0b28e7ee38c77330eae1": {
    "query": "SELECT id FROM domain WHERE id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "1183d69cdd90c6788ef1338ef8dac1be068320acf7603ab4cbd3362975280ff5": {
    "query": "SELECT deployment_id as \"deployment_id: _\", name, value, secret_id as \"secret_id: _\" FROM deployment_environment_variable WHERE deployment_id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "deployment_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "value",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "secret_id: _",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        true,
        true
      ]
    }
  },
  "1367b2c0bb8700daf488f62964c8c1396fb2a3a5a2f33577c4d0c1be8806507c": {
    "query": "SELECT \"user\".*, CONCAT(domain.name, '.', domain.tld) as \"name!\" FROM workspace_domain INNER JOIN domain ON domain.id = workspace_domain.id INNER JOIN resource ON workspace_domain.id = resource.id INNER JOIN workspace ON resource.owner_id = workspace.id INNER JOIN \"user\" ON workspace.super_admin_id = \"user\".id WHERE workspace_domain.id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "username",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "password",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "first_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 4,
          "name": "last_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 5,
          "name": "dob",
          "type_info": "Int8"
        },
        {
          "ordinal": 6,
          "name": "bio",
          "type_info": "Varchar"
        },
        {
          "ordinal": 7,
          "name": "location",
          "type_info": "Varchar"
        },
        {
          "ordinal": 8,
          "name": "created",
          "type_info": "Int8"
        },
        {
          "ordinal": 9,
          "name": "recovery_email_local",
          "type_info": "Varchar"
        },
        {
          "ordinal": 10,
          "name": "recovery_email_domain_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 11,
          "name": "recovery_phone_country_code",
          "type_info": "Bpchar"
        },
        {
          "ordinal": 12,
          "name": "recovery_phone_number",
          "type_info": "Varchar"
        },
        {
          "ordinal": 13,
          "name": "name!",
          "type_info": "Text"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        false,
        true,
        true,
        true,
        true,
        null
      ]
    }
  },
  "13b4d0c822f9e255922c91183e01fb9a071c89a65ea898923dd38661a2eecc63": {
    "query": "INSERT INTO product_info( id, name, description ) VALUES( $1, 'deployment', NULL );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "144f726fa812daa0a68d84a79ce6dde25308df488a580e6c610fd1c3e6fab790": {
    "query": "ALTER TABLE workspace_audit_log ADD CONSTRAINT workspace_audit_log_fk_resource_id FOREIGN KEY(resource_id) REFERENCES resource(id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "1478e049e620cdd3592a2f14e0f25a668c95e62854c5facb14517c62d6210275": {
    "query": "CREATE INDEX business_email_idx_user_id ON business_email (user_id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "14b453faa2e6aa5aaa8922ea8acef257a36d4e7a9c32812d489aaba1847405eb": {
    "query": "CREATE TABLE docker_registry_repository_manifest( repository_id UUID NOT NULL CONSTRAINT docker_registry_repository_manifest_fk_repository_id REFERENCES docker_registry_repository(id), manifest_digest TEXT NOT NULL, size BIGINT NOT NULL CONSTRAINT docker_registry_repository_manifest_chk_size_unsigned CHECK(size >= 0), created BIGINT NOT NULL CONSTRAINT docker_registry_repository_manifest_chk_created_unsigned CHECK( created >= 0 ), CONSTRAINT docker_registry_repository_manifest_pk PRIMARY KEY( repository_id, manifest_digest ) );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "14da6d3904de6025049163bd747b1b346d7da4620259d5aab5f437f50b02a3b2": {
    "query": "ALTER TABLE managed_database ADD CONSTRAINT managed_database_fk_id_workspace_id FOREIGN KEY(id, workspace_id) REFERENCES resource(id, owner_id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "15d97c8249593f00516ac5b30598779bda9d6214d2341d0166ada2e5dbc4a9e5": {
    "query": "UPDATE managed_database SET status = $1 WHERE id = $2;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          {
            "Custom": {
              "name": "managed_database_status",
              "kind": {
                "Enum": [
                  "creating",
                  "running",
                  "stopped",
                  "errored",
                  "deleted"
                ]
              }
            }
          },
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "1744a46ba8ec9a9e788956406cc0ee9aa34844903ecf16ff84af3ff9332dc982": {
    "query": "SELECT id as \"id: _\", name, description FROM permission;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "description",
          "type_info": "Varchar"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        false,
        false,
        false
      ]
    }
  },
  "17c67912f71130b8cf2eecb66af9f86d8e03b0c829f807066cace584360dee71": {
    "query": "SELECT id as \"id: _\", name::TEXT as \"name!: _\", registry, repository_id as \"repository_id: _\", image_name, image_tag, status as \"status: _\", workspace_id as \"workspace_id: _\", region as \"region: _\", min_horizontal_scale, max_horizontal_scale, machine_type as \"machine_type: _\", deploy_on_push FROM deployment WHERE workspace_id = $1 AND status != 'deleted';",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name!: _",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "registry",
          "type_info": "Varchar"
        },
        {
          "ordinal": 3,
          "name": "repository_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "image_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 5,
          "name": "image_tag",
          "type_info": "Varchar"
        },
        {
          "ordinal": 6,
          "name": "status: _",
          "type_info": {
            "Custom": {
              "name": "deployment_status",
              "kind": {
                "Enum": [
                  "created",
                  "pushed",
                  "deploying",
                  "running",
                  "stopped",
                  "errored",
                  "deleted"
                ]
              }
            }
          }
        },
        {
          "ordinal": 7,
          "name": "workspace_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 8,
          "name": "region: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 9,
          "name": "min_horizontal_scale",
          "type_info": "Int2"
        },
        {
          "ordinal": 10,
          "name": "max_horizontal_scale",
          "type_info": "Int2"
        },
        {
          "ordinal": 11,
          "name": "machine_type: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 12,
          "name": "deploy_on_push",
          "type_info": "Bool"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        null,
        false,
        true,
        true,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ]
    }
  },
  "1815e0c66b5645f7e4994f135c7d0622d3219c98297eab447d4cadf9bed4a1f4": {
    "query": "CREATE INDEX user_phone_number_idx_user_id ON user_phone_number (user_id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "190afdb5fff0d8d2459768bf598cb4cbe8a8eac23f33919a06c5057411079a65": {
    "query": "UPDATE managed_url SET path = $2, url_type = $3, deployment_id = $4, port = $5, static_site_id = $6, url = $7 WHERE id = $1;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          {
            "Custom": {
              "name": "managed_url_type",
              "kind": {
                "Enum": [
                  "proxy_to_deployment",
                  "proxy_to_static_site",
                  "proxy_url",
                  "redirect"
                ]
              }
            }
          },
          "Uuid",
          "Int4",
          "Uuid",
          "Text"
        ]
      },
      "nullable": []
    }
  },
  "19a432179c8e7da5140ac965a7bdfa4eb1306ac48fad4c2a47a4f86276eccbfa": {
    "query": "INSERT INTO domain_tld( tld ) VALUES ($1) ON CONFLICT DO NOTHING;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Text"
        ]
      },
      "nullable": []
    }
  },
  "1a1325dffe28f3b5cf4509d403701a99929b28393c4eb8711f0228134a954993": {
    "query": "SELECT username, account_type as \"account_type: ResourceType\", password, first_name, last_name, recovery_email_local, recovery_email_domain_id as \"recovery_email_domain_id: Uuid\", recovery_phone_country_code, recovery_phone_number, business_email_local, CASE WHEN business_domain_name IS NULL THEN NULL ELSE CONCAT(business_domain_name, '.', business_domain_tld) END as \"business_domain_name: String\", business_name, otp_hash, otp_expiry FROM user_to_sign_up WHERE recovery_phone_country_code = $1 AND recovery_phone_number = $2;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "username",
          "type_info": "Varchar"
        },
        {
          "ordinal": 1,
          "name": "account_type: ResourceType",
          "type_info": {
            "Custom": {
              "name": "resource_owner_type",
              "kind": {
                "Enum": [
                  "personal",
                  "business"
                ]
              }
            }
          }
        },
        {
          "ordinal": 2,
          "name": "password",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "first_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 4,
          "name": "last_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 5,
          "name": "recovery_email_local",
          "type_info": "Varchar"
        },
        {
          "ordinal": 6,
          "name": "recovery_email_domain_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 7,
          "name": "recovery_phone_country_code",
          "type_info": "Bpchar"
        },
        {
          "ordinal": 8,
          "name": "recovery_phone_number",
          "type_info": "Varchar"
        },
        {
          "ordinal": 9,
          "name": "business_email_local",
          "type_info": "Varchar"
        },
        {
          "ordinal": 10,
          "name": "business_domain_name: String",
          "type_info": "Text"
        },
        {
          "ordinal": 11,
          "name": "business_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 12,
          "name": "otp_hash",
          "type_info": "Text"
        },
        {
          "ordinal": 13,
          "name": "otp_expiry",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": [
          "Bpchar",
          "Text"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        true,
        true,
        null,
        true,
        false,
        false
      ]
    }
  },
  "1a22653fa91b8253b6ac6440aef2826bcb839954b73ee66f202f3682d8f6b6ef": {
    "query": "SELECT user_unverified_phone_number.country_code, user_unverified_phone_number.phone_number, user_unverified_phone_number.user_id as \"user_id: Uuid\", user_unverified_phone_number.verification_token_hash, user_unverified_phone_number.verification_token_expiry FROM user_unverified_phone_number INNER JOIN phone_number_country_code ON user_unverified_phone_number.country_code = phone_number_country_code.country_code WHERE user_id = $1 AND user_unverified_phone_number.country_code = $2 AND user_unverified_phone_number.phone_number = $3;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "country_code",
          "type_info": "Bpchar"
        },
        {
          "ordinal": 1,
          "name": "phone_number",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "user_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "verification_token_hash",
          "type_info": "Text"
        },
        {
          "ordinal": 4,
          "name": "verification_token_expiry",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Bpchar",
          "Text"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false
      ]
    }
  },
  "1a3b8e1bff241f2560652afe203c892e15868c7c48da74963afeccc550d90a9d": {
    "query": "DELETE FROM role_permissions_resource_type WHERE role_id = $1;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "1b91d51ce01a40c989017198a841c47361919562817d7f58d41e147a10bc2b2c": {
    "query": "SELECT tag, last_updated FROM docker_registry_repository_tag WHERE repository_id = $1 AND manifest_digest = $2;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "tag",
          "type_info": "Text"
        },
        {
          "ordinal": 1,
          "name": "last_updated",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      },
      "nullable": [
        false,
        false
      ]
    }
  },
  "1bb5d7f76d7fe36ec6bf5b12742e8b3b1112b350979bff98a46bb84c2add992f": {
    "query": "SELECT CONCAT(domain.name, '.', domain.tld) as \"name!\", workspace_domain.id as \"id!: Uuid\", workspace_domain.domain_type as \"domain_type!: ResourceType\", workspace_domain.is_verified as \"is_verified!\", workspace_domain.nameserver_type as \"nameserver_type!: DomainNameserverType\", patr_controlled_domain.zone_identifier as \"zone_identifier?\" FROM workspace_domain INNER JOIN domain ON domain.id = workspace_domain.id LEFT JOIN patr_controlled_domain ON patr_controlled_domain.domain_id = workspace_domain.id WHERE is_verified = TRUE AND domain.name NOT LIKE CONCAT( 'patr-deleted: ', REPLACE(domain.id::TEXT, '-', ''), '@%' );",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "name!",
          "type_info": "Text"
        },
        {
          "ordinal": 1,
          "name": "id!: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 2,
          "name": "domain_type!: ResourceType",
          "type_info": {
            "Custom": {
              "name": "resource_owner_type",
              "kind": {
                "Enum": [
                  "personal",
                  "business"
                ]
              }
            }
          }
        },
        {
          "ordinal": 3,
          "name": "is_verified!",
          "type_info": "Bool"
        },
        {
          "ordinal": 4,
          "name": "nameserver_type!: DomainNameserverType",
          "type_info": {
            "Custom": {
              "name": "domain_nameserver_type",
              "kind": {
                "Enum": [
                  "internal",
                  "external"
                ]
              }
            }
          }
        },
        {
          "ordinal": 5,
          "name": "zone_identifier?",
          "type_info": "Text"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        null,
        true,
        true,
        true,
        true,
        false
      ]
    }
  },
  "1c258cdf5e4f891a42018dbd6a99ad7cae3698e386c38415a5823d07d48ace98": {
    "query": "SELECT country_code, number as \"phone_number\" FROM user_phone_number WHERE user_id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "country_code",
          "type_info": "Bpchar"
        },
        {
          "ordinal": 1,
          "name": "phone_number",
          "type_info": "Varchar"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false
      ]
    }
  },
  "1d05ab27fbc6052a09fe32569ad75b5041f02c31ea8e7fcb880c557da0db666f": {
    "query": "CREATE TABLE workspace_audit_log ( id UUID NOT NULL CONSTRAINT workspace_audit_log_pk PRIMARY KEY, date TIMESTAMPTZ NOT NULL, ip_address TEXT NOT NULL, workspace_id UUID NOT NULL CONSTRAINT workspace_audit_log_fk_workspace_id REFERENCES workspace(id), user_id UUID, login_id UUID, resource_id UUID NOT NULL, action UUID NOT NULL, request_id UUID NOT NULL, metadata JSON NOT NULL, patr_action BOOL NOT NULL, success BOOL NOT NULL, CONSTRAINT workspace_audit_log_chk_patr_action CHECK( ( patr_action = true AND user_id IS NULL AND login_id IS NULL ) OR ( patr_action = false AND user_id IS NOT NULL AND login_id IS NOT NULL ) ) );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "1d060e8f1c3d2ddbc982c7006b489a10007b4e6dd2eed4ff01c2200912301c2f": {
    "query": "CREATE TABLE personal_domain( id UUID CONSTRAINT personal_domain_pk PRIMARY KEY, domain_type RESOURCE_OWNER_TYPE NOT NULL CONSTRAINT personal_domain_chk_domain_type CHECK( domain_type = 'personal' ), CONSTRAINT personal_domain_fk_id_domain_type FOREIGN KEY(id, domain_type) REFERENCES domain(id, type) );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "1e9f9c42861e8bc6a5c383d96212e6d271a9a46447b30e1a3fdec17afda99352": {
    "query": "INSERT INTO patr_controlled_domain( domain_id, zone_identifier, nameserver_type ) VALUES ($1, $2, 'internal');",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      },
      "nullable": []
    }
  },
  "1f6ff6cf661a6007d78b7a30f0f8599c0ad2accd42912eb3f28d45c411f23674": {
    "query": "SELECT user_id as \"user_id: Uuid\", token, token_expiry FROM password_reset_request WHERE user_id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "user_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "token",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "token_expiry",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false
      ]
    }
  },
  "1fbbf7824b6eec88e9a07501d790b7ec4a3d154754defc787de7e4c8ba323981": {
    "query": "CREATE TYPE MANAGED_DATABASE_STATUS AS ENUM( 'creating', /* Started the creation of database */ 'running', /* Database is running successfully */ 'stopped', /* Database is stopped by the user */ 'errored', /* Database encountered errors */ 'deleted' /* Database is deled by the user */ );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "2051f9929ae7b78d7594f0451130cc67700bb81d54c7df6191ddeb29eed577af": {
    "query": "INSERT INTO user_login( login_id, refresh_token, token_expiry, user_id, last_login, last_activity ) VALUES ($1, $2, $3, $4, $5, $6);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Int8",
          "Uuid",
          "Int8",
          "Int8"
        ]
      },
      "nullable": []
    }
  },
  "228e6bc3a8eb9c3113acda6e4fa32f347b99cf44fb9935e39461eaa8e8cef7e7": {
    "query": "SELECT * FROM meta_data WHERE id = 'version_major' OR id = 'version_minor' OR id = 'version_patch';",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Varchar"
        },
        {
          "ordinal": 1,
          "name": "value",
          "type_info": "Text"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        false,
        false
      ]
    }
  },
  "228f448b2b9762ad776a9141f6d887b5b8bc31c914c927619b580ae829b118a8": {
    "query": "DELETE FROM user_phone_number WHERE user_id = $1 AND country_code = $2 AND number = $3;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Bpchar",
          "Text"
        ]
      },
      "nullable": []
    }
  },
  "22ffa1d7616fd7c73e9bceebff257394d23b60558ae748196429f04410e5d616": {
    "query": "UPDATE deployment SET machine_type = $1 WHERE id = $2;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "241d2d5275d061fa9f24043adb72590b240a691cf68bf703dc63546fa7705ec8": {
    "query": "SELECT patr_domain_dns_record.id as \"id: _\", patr_domain_dns_record.record_identifier, patr_domain_dns_record.domain_id as \"domain_id: _\", patr_domain_dns_record.name, patr_domain_dns_record.type as \"type: _\", patr_domain_dns_record.value, patr_domain_dns_record.priority, patr_domain_dns_record.ttl, patr_domain_dns_record.proxied FROM patr_domain_dns_record INNER JOIN domain ON patr_domain_dns_record.domain_id = domain.id WHERE patr_domain_dns_record.id = $1 AND domain.name NOT LIKE CONCAT( 'patr-deleted: ', REPLACE(domain.id::TEXT, '-', ''), '@%' );",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "record_identifier",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "domain_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "name",
          "type_info": "Text"
        },
        {
          "ordinal": 4,
          "name": "type: _",
          "type_info": {
            "Custom": {
              "name": "dns_record_type",
              "kind": {
                "Enum": [
                  "A",
                  "MX",
                  "TXT",
                  "AAAA",
                  "CNAME"
                ]
              }
            }
          }
        },
        {
          "ordinal": 5,
          "name": "value",
          "type_info": "Text"
        },
        {
          "ordinal": 6,
          "name": "priority",
          "type_info": "Int4"
        },
        {
          "ordinal": 7,
          "name": "ttl",
          "type_info": "Int8"
        },
        {
          "ordinal": 8,
          "name": "proxied",
          "type_info": "Bool"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        true,
        false,
        true
      ]
    }
  },
  "245418717057bfa66558065924ff98b68ec31ac95754482415e9896211e519cb": {
    "query": "CREATE TABLE patr_controlled_domain( domain_id UUID NOT NULL CONSTRAINT patr_controlled_domain_pk PRIMARY KEY, zone_identifier TEXT NOT NULL, nameserver_type DOMAIN_NAMESERVER_TYPE NOT NULL CONSTRAINT patr_controlled_domain_chk_nameserver_type CHECK( nameserver_type = 'internal' ), CONSTRAINT patr_controlled_domain_fk_domain_id_nameserver_type FOREIGN KEY(domain_id, nameserver_type) REFERENCES workspace_domain(id, nameserver_type) );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "24651378057df5d6b31be9a55d60d02884c8c9d9f7cb441254a408e7dc4f05b9": {
    "query": "SELECT * FROM phone_number_country_code WHERE country_code = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "country_code",
          "type_info": "Bpchar"
        },
        {
          "ordinal": 1,
          "name": "phone_code",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "country_name",
          "type_info": "Varchar"
        }
      ],
      "parameters": {
        "Left": [
          "Bpchar"
        ]
      },
      "nullable": [
        false,
        false,
        false
      ]
    }
  },
  "25e9105d2a4f541cf9d4a25b5052629777e59c308caa24e83eb2efa386757b87": {
    "query": "CREATE TABLE deployment_exposed_port( deployment_id UUID CONSTRAINT deployment_exposed_port_fk_deployment_id REFERENCES deployment(id), port INTEGER NOT NULL CONSTRAINT deployment_exposed_port_chk_port_u16 CHECK( port > 0 AND port <= 65535 ), port_type EXPOSED_PORT_TYPE NOT NULL, CONSTRAINT deployment_exposed_port_pk PRIMARY KEY(deployment_id, port) );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "25eafab4c0a9b0440ac9cdf11910ccd6be067d8ef4ed4132d555dd9e0d57f949": {
    "query": "SELECT login_id as \"login_id: Uuid\", refresh_token, token_expiry, user_id as \"user_id: Uuid\", last_login, last_activity FROM user_login WHERE user_id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "login_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "refresh_token",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "token_expiry",
          "type_info": "Int8"
        },
        {
          "ordinal": 3,
          "name": "user_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "last_login",
          "type_info": "Int8"
        },
        {
          "ordinal": 5,
          "name": "last_activity",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false
      ]
    }
  },
  "265d098fb12a72689196f941ca78205cdf6d8d45bfcbacbd2cc1f637da0baa4e": {
    "query": "SELECT user_id as \"user_id: _\", workspace_id as \"workspace_id: _\", role_id as \"role_id: _\" FROM workspace_user WHERE workspace_id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "user_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "workspace_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 2,
          "name": "role_id: _",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false
      ]
    }
  },
  "266a1c952223fefd2a2e0fa2d9ea716b06e7f2a79829fd7bb129dc70f0bcaaa7": {
    "query": "UPDATE workspace SET drone_username = NULL AND drone_token = NULL WHERE id = $1;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "26f0fe7e74f3f9b631fa7db317a7e43982825f015b78a7e00f0e1428c869d453": {
    "query": "INSERT INTO billable_service( id, plan_id, workspace_id, price, quantity, product_info_id, resource_id, date, active ) VALUES( $1, $2, $3, $4, $5, $6, $7, $8, $9 );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid",
          "Uuid",
          "Numeric",
          "Int4",
          "Uuid",
          "Uuid",
          "Timestamptz",
          "Bool"
        ]
      },
      "nullable": []
    }
  },
  "292b36a0ab84f6022c19fafc224ce4d2a090fa4a4df94a861480c5835ff6f864": {
    "query": "CREATE EXTENSION IF NOT EXISTS postgis;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "2a338d8661b637bcd06f1f98e6fb4128d9d922f739630f04204c7817dd6071b4": {
    "query": "UPDATE role SET name = $1 WHERE id = $2;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Varchar",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "2a8531f5a4448c2d77be6b5353946591bf213407b9a58b0b342a03bef0acd99c": {
    "query": "CREATE TYPE MANAGED_URL_TYPE AS ENUM( 'proxy_to_deployment', 'proxy_to_static_site', 'proxy_url', 'redirect' );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "2c79497ab37337c73fcde73f28078249266aaeeaf257f256d0e3897e4420fef1": {
    "query": "UPDATE \"user\" SET recovery_email_local = $1, recovery_email_domain_id = $2 WHERE id = $3;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Varchar",
          "Uuid",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "2cb41f5c54c48533ead4f91bfff2d150eb7b5de9e156b2d8c50c410efeaadb40": {
    "query": "SELECT \"user\".id as \"id: Uuid\", \"user\".username, \"user\".password, \"user\".first_name, \"user\".last_name, \"user\".dob, \"user\".bio, \"user\".location, \"user\".created, \"user\".recovery_email_local, \"user\".recovery_email_domain_id as \"recovery_email_domain_id: Uuid\", \"user\".recovery_phone_country_code, \"user\".recovery_phone_number FROM \"user\" WHERE id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "username",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "password",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "first_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 4,
          "name": "last_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 5,
          "name": "dob",
          "type_info": "Int8"
        },
        {
          "ordinal": 6,
          "name": "bio",
          "type_info": "Varchar"
        },
        {
          "ordinal": 7,
          "name": "location",
          "type_info": "Varchar"
        },
        {
          "ordinal": 8,
          "name": "created",
          "type_info": "Int8"
        },
        {
          "ordinal": 9,
          "name": "recovery_email_local",
          "type_info": "Varchar"
        },
        {
          "ordinal": 10,
          "name": "recovery_email_domain_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 11,
          "name": "recovery_phone_country_code",
          "type_info": "Bpchar"
        },
        {
          "ordinal": 12,
          "name": "recovery_phone_number",
          "type_info": "Varchar"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        false,
        true,
        true,
        true,
        true
      ]
    }
  },
  "2d9bd34aec2d4a7e2b0a0a989686426764736a4d4c82d91fa157b387bc0a4642": {
    "query": "SELECT id as \"id: _\", workspace_id as \"workspace_id: _\", name::TEXT as \"name!: _\" FROM docker_registry_repository WHERE id = $1 AND name NOT LIKE 'patr-deleted:%';",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "workspace_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 2,
          "name": "name!: _",
          "type_info": "Text"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        null
      ]
    }
  },
  "2ed7694989087062b9d43d0c0d294a84b766a979c580e450703c5119ca9a4562": {
    "query": "UPDATE deployment_static_site SET name = $1 WHERE id = $2;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          {
            "Custom": {
              "name": "citext",
              "kind": "Simple"
            }
          },
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "2ede8e9523b6ba2de4e6a58e162236bbde4c01cba4ed3c115c14455d7b86c34a": {
    "query": "ALTER TABLE workspace ADD CONSTRAINT workspace_fk_resource_limit_id FOREIGN KEY(resource_limit_id) REFERENCES resource_limits(id) DEFERRABLE INITIALLY IMMEDIATE;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "30653640dbfdeb1e2caa666a9b85be290220813278ce2acad9cc3590b7198d18": {
    "query": "CREATE TYPE DEPLOYMENT_STATUS AS ENUM( 'created', /* Created, but nothing pushed to it yet */ 'pushed', /* Something is pushed, but the system has not deployed it yet */ 'deploying', /* Something is pushed, and the system is currently deploying it */ 'running', /* Deployment is running successfully */ 'stopped', /* Deployment is stopped by the user */ 'errored', /* Deployment is stopped because of too many errors */ 'deleted' /* Deployment is deleted by the user */ );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "307345f2a5c65e8f92e5e1efff4d6b9975d1405095cb5e31dc91bc4e58b9f783": {
    "query": "DELETE FROM resource WHERE id = $1;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "314cdde568cc1bfecbf084691f4a11d98320ca9ca86b3a5c4548abd8382a4e67": {
    "query": "SELECT id as \"id: _\", sub_domain, domain_id as \"domain_id: _\", path, url_type as \"url_type: _\", deployment_id as \"deployment_id: _\", port, static_site_id as \"static_site_id: _\", url, workspace_id as \"workspace_id: _\" FROM managed_url WHERE workspace_id = $1 AND sub_domain NOT LIKE CONCAT( 'patr-deleted: ', REPLACE(id::TEXT, '-', ''), '@%' );",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "sub_domain",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "domain_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "path",
          "type_info": "Text"
        },
        {
          "ordinal": 4,
          "name": "url_type: _",
          "type_info": {
            "Custom": {
              "name": "managed_url_type",
              "kind": {
                "Enum": [
                  "proxy_to_deployment",
                  "proxy_to_static_site",
                  "proxy_url",
                  "redirect"
                ]
              }
            }
          }
        },
        {
          "ordinal": 5,
          "name": "deployment_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 6,
          "name": "port",
          "type_info": "Int4"
        },
        {
          "ordinal": 7,
          "name": "static_site_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 8,
          "name": "url",
          "type_info": "Text"
        },
        {
          "ordinal": 9,
          "name": "workspace_id: _",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        true,
        false
      ]
    }
  },
  "31fa3365a18b7cdbb3532ea5559f8a6fafda313ec59e82c3d790c31ac45fb452": {
    "query": "CREATE TABLE business_email( user_id UUID NOT NULL CONSTRAINT business_email_fk_user_id REFERENCES \"user\"(id), local VARCHAR(64) NOT NULL CONSTRAINT business_email_chk_local_is_lower_case CHECK( local = LOWER(local) ), domain_id UUID NOT NULL CONSTRAINT business_email_fk_domain_id REFERENCES workspace_domain(id), CONSTRAINT business_email_pk PRIMARY KEY(local, domain_id) );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "334d5e07965406e65178c69651ce3f91e4c2c4c16f7b1927d8f121f517aa4f67": {
    "query": "SELECT id as \"id: _\", sub_domain, domain_id as \"domain_id: _\", path, url_type as \"url_type: _\", deployment_id as \"deployment_id: _\", port, static_site_id as \"static_site_id: _\", url, workspace_id as \"workspace_id: _\" FROM managed_url WHERE domain_id = $1 AND sub_domain NOT LIKE CONCAT( 'patr-deleted: ', REPLACE(id::TEXT, '-', ''), '@%' );",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "sub_domain",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "domain_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "path",
          "type_info": "Text"
        },
        {
          "ordinal": 4,
          "name": "url_type: _",
          "type_info": {
            "Custom": {
              "name": "managed_url_type",
              "kind": {
                "Enum": [
                  "proxy_to_deployment",
                  "proxy_to_static_site",
                  "proxy_url",
                  "redirect"
                ]
              }
            }
          }
        },
        {
          "ordinal": 5,
          "name": "deployment_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 6,
          "name": "port",
          "type_info": "Int4"
        },
        {
          "ordinal": 7,
          "name": "static_site_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 8,
          "name": "url",
          "type_info": "Text"
        },
        {
          "ordinal": 9,
          "name": "workspace_id: _",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        true,
        false
      ]
    }
  },
  "33846eaf8014085364f0ee8032337df4c4d8c4c7fe4df6df74c76049dd3a43f8": {
    "query": "ALTER TABLE patr_domain_dns_record ADD CONSTRAINT patr_domain_dns_record_fk_id FOREIGN KEY(id) REFERENCES resource(id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "33b487de7c39eb343675c2213545e8c83566f565f3a4f0f2379170a9bad047fe": {
    "query": "CREATE TYPE EXPOSED_PORT_TYPE AS ENUM( 'http' );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "33de91de165ded9563e49b455ddc1c5161743231f6d7693ce9c0855de0959c5d": {
    "query": "INSERT INTO user_phone_number( user_id, country_code, number ) VALUES ($1, $2, $3);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Bpchar",
          "Varchar"
        ]
      },
      "nullable": []
    }
  },
  "34a6c091329abb7322f4583844fc2bcd5a5d8a6b610da77113647a6583bff569": {
    "query": "CREATE INDEX resource_idx_owner_id ON resource (owner_id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "353ded9cc4ab26bb0b06b1d9ae212dd16336aa261d501f393967955becb485a2": {
    "query": "UPDATE \"user\" SET recovery_phone_country_code = $1, recovery_phone_number = $2 WHERE id = $3;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Bpchar",
          "Varchar",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "35725518dbac83499f9bce45b05d2c9840f79915f0f28feb6e8981ccae25ad52": {
    "query": "SELECT * FROM role WHERE id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "description",
          "type_info": "Varchar"
        },
        {
          "ordinal": 3,
          "name": "owner_id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false
      ]
    }
  },
  "36a07994042c7ad6bc93e25b0d951c244168fb2df7c6ce76101d979d956f1641": {
    "query": "CREATE TABLE deployment_machine_type( id UUID CONSTRAINT deployment_machint_type_pk PRIMARY KEY, cpu_count SMALLINT NOT NULL, memory_count INTEGER NOT NULL /* Multiples of 0.25 GB */ );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "373f49a79215c14fff9b20f486d990ad59e47d670c7c95e11b2a205a3ff891cf": {
    "query": "CREATE TABLE phone_number_country_code( country_code CHAR(2) CONSTRAINT phone_number_country_code_pk PRIMARY KEY CONSTRAINT phone_number_country_code_chk_country_code_is_upper_case CHECK( country_code = UPPER(country_code) ), phone_code VARCHAR(5) NOT NULL, country_name VARCHAR(80) NOT NULL );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "37fda78be3fc16338fc75ea255eae29b98d91a1d3a1ca38e09eec11c7948bbee": {
    "query": "CREATE TABLE resource_type( id UUID CONSTRAINT resource_type_pk PRIMARY KEY, name VARCHAR(100) NOT NULL CONSTRAINT resource_type_uq_name UNIQUE, description VARCHAR(500) NOT NULL );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "3965581880bfbe752b776a4c3b8cd706b08ab342b24781170ad0025fd8133a5f": {
    "query": "CREATE INDEX phone_number_country_code_idx_phone_code ON phone_number_country_code (phone_code);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "398b1a1b1dddce0dbc830251e983b322b76bccd24385a9484a398de91adece60": {
    "query": "SELECT drone_username, drone_token FROM workspace WHERE id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "drone_username",
          "type_info": "Text"
        },
        {
          "ordinal": 1,
          "name": "drone_token",
          "type_info": "Text"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        true,
        true
      ]
    }
  },
  "3bcc0a9c9e1dc446aacddfe8104737c113df526097f83daecc4a10d66d61674e": {
    "query": "ALTER TABLE product_limits ADD CONSTRAINT resource_usage_fk_workspace_id FOREIGN KEY(workspace_id) REFERENCES workspace(id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "3c88f9a6f62c223f1faa143eb4ec4ad07a8f538268ad5941c1895d2124108b4b": {
    "query": "SELECT COUNT(*) as \"count\" FROM patr_domain_dns_record WHERE domain_id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "count",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        null
      ]
    }
  },
  "3dcc984f6870716b1bdc57d4f61d6fa87d190a0b20dd2c8efa38b67e9c4306ae": {
    "query": "SELECT country_code, phone_number, user_id as \"user_id: Uuid\", verification_token_hash, verification_token_expiry FROM user_unverified_phone_number WHERE country_code = $1 AND phone_number = $2;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "country_code",
          "type_info": "Bpchar"
        },
        {
          "ordinal": 1,
          "name": "phone_number",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "user_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "verification_token_hash",
          "type_info": "Text"
        },
        {
          "ordinal": 4,
          "name": "verification_token_expiry",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": [
          "Bpchar",
          "Text"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false
      ]
    }
  },
  "3f3db5bf71dab7a287aa95fe76ec466e2fd65cb836c3c04dde424d244fc21cd4": {
    "query": "UPDATE deployment SET status = $1 WHERE id = $2;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          {
            "Custom": {
              "name": "deployment_status",
              "kind": {
                "Enum": [
                  "created",
                  "pushed",
                  "deploying",
                  "running",
                  "stopped",
                  "errored",
                  "deleted"
                ]
              }
            }
          },
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "3f67392b96b39a7df360ad4b54de8a56a5f12c1f6f17534917236072eb283680": {
    "query": "SELECT CONCAT(domain.name, '.', domain.tld) as \"name!\", workspace_domain.id as \"id!: Uuid\", workspace_domain.domain_type as \"domain_type!: ResourceType\", workspace_domain.is_verified as \"is_verified!\", workspace_domain.nameserver_type as \"nameserver_type!: DomainNameserverType\", patr_controlled_domain.zone_identifier as \"zone_identifier?\" FROM workspace_domain INNER JOIN domain ON domain.id = workspace_domain.id LEFT JOIN patr_controlled_domain ON patr_controlled_domain.domain_id = workspace_domain.id WHERE is_verified = FALSE AND domain.name NOT LIKE CONCAT( 'patr-deleted: ', REPLACE(domain.id::TEXT, '-', ''), '@%' );",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "name!",
          "type_info": "Text"
        },
        {
          "ordinal": 1,
          "name": "id!: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 2,
          "name": "domain_type!: ResourceType",
          "type_info": {
            "Custom": {
              "name": "resource_owner_type",
              "kind": {
                "Enum": [
                  "personal",
                  "business"
                ]
              }
            }
          }
        },
        {
          "ordinal": 3,
          "name": "is_verified!",
          "type_info": "Bool"
        },
        {
          "ordinal": 4,
          "name": "nameserver_type!: DomainNameserverType",
          "type_info": {
            "Custom": {
              "name": "domain_nameserver_type",
              "kind": {
                "Enum": [
                  "internal",
                  "external"
                ]
              }
            }
          }
        },
        {
          "ordinal": 5,
          "name": "zone_identifier?",
          "type_info": "Text"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        null,
        true,
        true,
        true,
        true,
        false
      ]
    }
  },
  "40c047228ffd0db5a1063a2fbc6a5337848bdd1e26cde2fef9e41368baae8387": {
    "query": "INSERT INTO product_limits( id, product_info_id, max_limit, workspace_id ) VALUES( $1, $2, $3, $4 );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid",
          "Int4",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "42777471cc473557fb21e903c56db9b3759496bfebc29fac1bb568fd0c2182c6": {
    "query": "SELECT DISTINCT workspace.id as \"id: _\", workspace.name::TEXT as \"name!: _\", workspace.super_admin_id as \"super_admin_id: _\", workspace.active, workspace.alert_emails FROM workspace LEFT JOIN workspace_user ON workspace.id = workspace_user.workspace_id WHERE ( workspace.super_admin_id = $1 OR workspace_user.user_id = $1 ) AND workspace.name NOT LIKE CONCAT( 'patr-deleted: ', REPLACE(id::TEXT, '-', ''), '@%' );",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name!: _",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "super_admin_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "active",
          "type_info": "Bool"
        },
        {
          "ordinal": 4,
          "name": "alert_emails",
          "type_info": "VarcharArray"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        null,
        false,
        false,
        false
      ]
    }
  },
  "42a3e7e04f5b80211c82b6485eb7359d5b03fd8b3378f14537f349ce5a2d5508": {
    "query": "UPDATE workspace_domain SET is_verified = $2 WHERE id = $1;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Bool"
        ]
      },
      "nullable": []
    }
  },
  "4357441a58d66b47fffabe8c10fa5ddedbe067c22d5c59d00cb492be40abc1a8": {
    "query": "ALTER TABLE workspace_audit_log ADD CONSTRAINT workspace_audit_log_fk_action FOREIGN KEY(action) REFERENCES permission(id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "4400e5ab0dcf30307f0179f0b6ce04900369f78fd65dce59fa746e9e0e9a6173": {
    "query": "CREATE TABLE docker_registry_repository( id UUID CONSTRAINT docker_registry_repository_pk PRIMARY KEY, workspace_id UUID NOT NULL CONSTRAINT docker_registry_repository_fk_workspace_id REFERENCES workspace(id), name CITEXT NOT NULL, billable_service_id UUID NOT NULL, CONSTRAINT docker_registry_repository_uq_workspace_id_name UNIQUE(workspace_id, name), CONSTRAINT docker_registry_repository_uq_id_workspace_id UNIQUE( id, workspace_id ) );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "4473fad035c7e0e8c1466af8dae29925137071c56c7b8827b37fa3c6ee5505f5": {
    "query": "CREATE TABLE user_phone_number( user_id UUID NOT NULL CONSTRAINT user_phone_number_fk_user_id REFERENCES \"user\"(id) DEFERRABLE INITIALLY IMMEDIATE, country_code CHAR(2) NOT NULL CONSTRAINT user_phone_number_fk_country_code REFERENCES phone_number_country_code(country_code) CONSTRAINT user_phone_number_chk_country_code_is_upper_case CHECK( country_code = UPPER(country_code) ), number VARCHAR(15) NOT NULL CONSTRAINT user_phone_number_chk_number_valid CHECK( LENGTH(number) >= 7 AND LENGTH(number) <= 15 AND CAST(number AS BIGINT) > 0 ), CONSTRAINT user_phone_number_pk PRIMARY KEY(country_code, number), CONSTRAINT user_phone_number_uq_user_id_country_code_number UNIQUE(user_id, country_code, number) );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "465499cd312427f9daac7b5b6a05aa0c4e266f2e44e2a880626698aee28a2577": {
    "query": "CREATE TABLE meta_data( id VARCHAR(100) CONSTRAINT meta_data_pk PRIMARY KEY, value TEXT NOT NULL );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "48614d899808b4b6293aeee2784b04096759b7e3b608a03b2915ec35d4c51221": {
    "query": "INSERT INTO personal_email( user_id, local, domain_id ) VALUES ($1, $2, $3);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Varchar",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "4a5a68c97c5ca2cb9ec0155654d49074b63521bee0db502e8e479dbe6dbf40b9": {
    "query": "CREATE TYPE DOMAIN_NAMESERVER_TYPE AS ENUM( 'internal', 'external' );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "4ba31bb2539cd746174cb31e6a73d3eaec2f04355f87ecf8c7aa3a7396b3409e": {
    "query": "ALTER TABLE resource_limits ADD CONSTRAINT resource_limits_fk_workspace_id FOREIGN KEY(workspace_id) REFERENCES workspace(id) DEFERRABLE INITIALLY IMMEDIATE;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "4bd9a22a3f2ac8aab228c971872edde263118a43760697b2fd73b05a66630c35": {
    "query": "SELECT id as \"id: Uuid\", workspace_id as \"workspace_id: Uuid\", name::TEXT as \"name!: String\", COALESCE(size, 0) as \"size!\", ( SELECT GREATEST( resource.created, ( SELECT COALESCE(created, 0) FROM docker_registry_repository_manifest WHERE repository_id = docker_registry_repository.id ORDER BY created DESC LIMIT 1 ), ( SELECT COALESCE(last_updated, 0) FROM docker_registry_repository_tag WHERE repository_id = docker_registry_repository.id ORDER BY created DESC LIMIT 1 ) ) FROM resource WHERE resource.id = docker_registry_repository.id ) as \"last_updated!\" FROM docker_registry_repository LEFT JOIN ( SELECT SUM(size) as size, repository_id FROM docker_registry_repository_manifest GROUP BY repository_id ) docker_registry_repository_manifest ON docker_registry_repository_manifest.repository_id = docker_registry_repository.id WHERE workspace_id = $1 AND name NOT LIKE 'patr-deleted:%';",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "workspace_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 2,
          "name": "name!: String",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "size!",
          "type_info": "Numeric"
        },
        {
          "ordinal": 4,
          "name": "last_updated!",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        null,
        null,
        null
      ]
    }
  },
  "4c0d5a07f426d2d09eff3fa6ae2b90f0d8d49106c94357eaa4ce24d4b32bee9f": {
    "query": "SELECT id as \"id: _\", name::TEXT as \"name!: _\", workspace_id as \"workspace_id: _\", deployment_id as \"deployment_id: _\" FROM secret WHERE workspace_id = $1 AND name NOT LIKE CONCAT( 'patr-deleted: ', REPLACE(id::TEXT, '-', ''), '@%' );",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name!: _",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "workspace_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "deployment_id: _",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        null,
        false,
        true
      ]
    }
  },
  "4d4d3f0596fa4cb76250545fe274ac8edb6d56fd4a60d7f5b3085280ea880105": {
    "query": "UPDATE managed_database SET digitalocean_db_id = $1 WHERE id = $2;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Text",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "4e0cdb9cdbfb4d2360aa8eff5c49dfa18da9969f601ae2532cc2c13588d2011c": {
    "query": "CREATE TABLE user_unverified_personal_email( local VARCHAR(64) NOT NULL CONSTRAINT user_unverified_personal_email_chk_local_is_lower_case CHECK( local = LOWER(local) ), domain_id UUID NOT NULL CONSTRAINT user_unverified_personal_email_fk_domain_id REFERENCES personal_domain(id), user_id UUID NOT NULL CONSTRAINT user_unverified_personal_email_fk_user_id REFERENCES \"user\"(id), verification_token_hash TEXT NOT NULL, verification_token_expiry BIGINT NOT NULL CONSTRAINT user_unverified_personal_email_chk_token_expiry_unsigned CHECK(verification_token_expiry >= 0), CONSTRAINT user_unverified_personal_email_pk PRIMARY KEY(local, domain_id), CONSTRAINT user_unverified_personal_email_uq_user_id_local_domain_id UNIQUE(user_id, local, domain_id) );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "4ed81997ccc37b07cd883568f279869a4ab76bd29ae84bd82c32636b205fd857": {
    "query": "INSERT INTO workspace( id, name, super_admin_id, active, alert_emails, drone_username, drone_token ) VALUES ($1, $2, $3, $4, $5, NULL, NULL);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          {
            "Custom": {
              "name": "citext",
              "kind": "Simple"
            }
          },
          "Uuid",
          "Bool",
          "VarcharArray"
        ]
      },
      "nullable": []
    }
  },
  "4f1a513b45750aa514a8928122a22edd728e7ae6bb07301dd58885e7ac3da3e4": {
    "query": "DELETE FROM role_permissions_resource WHERE role_id = $1;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "50282dcc98562ef247ea4d4978153d7ea74dc9001b89ed36885a6446f8543fc8": {
    "query": "DELETE FROM workspace_domain WHERE id = $1;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "51b48c931af24c0048305a577d2d0c1203f4bbfe08d39fec8106d6fec8fcb13b": {
    "query": "INSERT INTO secret( id, name, workspace_id, deployment_id ) VALUES ($1, $2, $3, $4);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          {
            "Custom": {
              "name": "citext",
              "kind": "Simple"
            }
          },
          "Uuid",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "51e6f9c43ba3f7a6e75421aee62a007526052edb231f8b12812fc510b9870d0d": {
    "query": "SELECT id as \"id: _\", name, description FROM resource_type;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "description",
          "type_info": "Varchar"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        false,
        false,
        false
      ]
    }
  },
  "523a50a5e2630a62b80a7d82c44b851c93d77c2e502dde3a5117dcdc55e0228e": {
    "query": "INSERT INTO docker_registry_repository_manifest( repository_id, manifest_digest, size, created ) VALUES ($1, $2, $3, $4) ON CONFLICT DO NOTHING;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Int8",
          "Int8"
        ]
      },
      "nullable": []
    }
  },
  "52ac62f4e8c8f6a6938d445572ac9c6e11cd6320407226bc575bf667f438e6c9": {
    "query": "SELECT workspace_audit_log.id as \"id: _\", date as \"date: _\", ip_address, workspace_id as \"workspace_id: _\", user_id as \"user_id: _\", login_id as \"login_id: _\", resource_id as \"resource_id: _\", permission.name as \"action\", request_id as \"request_id: _\", metadata as \"metadata: _\", patr_action as \"patr_action: _\", success FROM workspace_audit_log INNER JOIN permission ON permission.id = workspace_audit_log.action WHERE resource_id = $1 AND ( metadata ->> 'action' = 'create' OR metadata ->> 'action' = 'start' OR metadata ->> 'action' = 'stop' OR metadata ->> 'action' = 'updateImage' );",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "date: _",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 2,
          "name": "ip_address",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "workspace_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "user_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 5,
          "name": "login_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 6,
          "name": "resource_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 7,
          "name": "action",
          "type_info": "Varchar"
        },
        {
          "ordinal": 8,
          "name": "request_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 9,
          "name": "metadata: _",
          "type_info": "Json"
        },
        {
          "ordinal": 10,
          "name": "patr_action: _",
          "type_info": "Bool"
        },
        {
          "ordinal": 11,
          "name": "success",
          "type_info": "Bool"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        true,
        true,
        false,
        false,
        false,
        false,
        false,
        false
      ]
    }
  },
  "53c7572b8ce9249337d6ebe6439bf4d36b67ee3ce0832585b1d8c8433f64f2e2": {
    "query": "CREATE TABLE IF NOT EXISTS payment_method( id TEXT CONSTRAINT payment_method_pk PRIMARY KEY, method_type PAYMENT_METHOD_TYPE NOT NULL, workspace_id UUID NOT NULL );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "5571b74fc5da17a2cbb423295f3499aa3c3ef78fd04e659cf57acac7a2b88a18": {
    "query": "SELECT COUNT(*) as \"count!\" FROM deployment_static_site INNER JOIN workspace ON deployment_static_site.workspace_id = workspace.id WHERE status != 'deleted' AND workspace.super_admin_id NOT IN ( '543de4f5808f4a99b2ee96dbdf9afff7', 'b4560e9530904195a0999c6d26aa9c29' );",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "count!",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        null
      ]
    }
  },
  "55928bf7053a2a886b4945df3ef925674eb8486de9869e09fc22c77e3c864acc": {
    "query": "INSERT INTO managed_database( id, name, db_name, engine, version, num_nodes, database_plan, region, status, host, port, username, password, workspace_id, digitalocean_db_id ) VALUES ( $1, $2, $3, $4, $5, $6, $7, $8, 'creating', $9, $10, $11, $12, $13, NULL );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          {
            "Custom": {
              "name": "citext",
              "kind": "Simple"
            }
          },
          "Varchar",
          {
            "Custom": {
              "name": "managed_database_engine",
              "kind": {
                "Enum": [
                  "postgres",
                  "mysql"
                ]
              }
            }
          },
          "Text",
          "Int4",
          {
            "Custom": {
              "name": "managed_database_plan",
              "kind": {
                "Enum": [
                  "nano",
                  "micro",
                  "small",
                  "medium",
                  "large",
                  "xlarge",
                  "xxlarge",
                  "mammoth"
                ]
              }
            }
          },
          "Text",
          "Text",
          "Int4",
          "Text",
          "Text",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "561a68357a791929a142bab054437c0984b9d36ab55569146d65999052234837": {
    "query": "UPDATE deployment SET region = $1 WHERE id = $2;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "571435b90fe135c72da1588938fba41d3e6371f8da7f50ca74e254a6a6826699": {
    "query": "SELECT tld FROM domain_tld WHERE ( SELECT COUNT(*) FROM domain WHERE domain.tld = tld ) = 0;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "tld",
          "type_info": "Text"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        false
      ]
    }
  },
  "57a89c653f90b904c143d6263df053d108a12bd115950afeeb8a973fe2c12716": {
    "query": "ALTER TABLE \"user\" ADD CONSTRAINT user_fk_id_recovery_email_local_recovery_email_domain_id FOREIGN KEY( id, recovery_email_local, recovery_email_domain_id ) REFERENCES personal_email( user_id, local, domain_id ) DEFERRABLE INITIALLY IMMEDIATE;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "583cdcacd5ff86e4093cc4703f12424220ff0d0b0dec468cf60a81d00e1894eb": {
    "query": "SELECT username, account_type as \"account_type: ResourceType\", password, first_name, last_name, recovery_email_local, recovery_email_domain_id as \"recovery_email_domain_id: Uuid\", recovery_phone_country_code, recovery_phone_number, business_email_local, CASE WHEN business_domain_name IS NULL THEN NULL ELSE CONCAT(business_domain_name, '.', business_domain_tld) END as \"business_domain_name: String\", business_name, otp_hash, otp_expiry FROM user_to_sign_up WHERE business_name = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "username",
          "type_info": "Varchar"
        },
        {
          "ordinal": 1,
          "name": "account_type: ResourceType",
          "type_info": {
            "Custom": {
              "name": "resource_owner_type",
              "kind": {
                "Enum": [
                  "personal",
                  "business"
                ]
              }
            }
          }
        },
        {
          "ordinal": 2,
          "name": "password",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "first_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 4,
          "name": "last_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 5,
          "name": "recovery_email_local",
          "type_info": "Varchar"
        },
        {
          "ordinal": 6,
          "name": "recovery_email_domain_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 7,
          "name": "recovery_phone_country_code",
          "type_info": "Bpchar"
        },
        {
          "ordinal": 8,
          "name": "recovery_phone_number",
          "type_info": "Varchar"
        },
        {
          "ordinal": 9,
          "name": "business_email_local",
          "type_info": "Varchar"
        },
        {
          "ordinal": 10,
          "name": "business_domain_name: String",
          "type_info": "Text"
        },
        {
          "ordinal": 11,
          "name": "business_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 12,
          "name": "otp_hash",
          "type_info": "Text"
        },
        {
          "ordinal": 13,
          "name": "otp_expiry",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        true,
        true,
        null,
        true,
        false,
        false
      ]
    }
  },
  "5b11baccc8d40205e1054eb75997aea9d3c398b6ec3cfe6fb75811da2915f2ee": {
    "query": "SELECT manifest_digest, size, created FROM docker_registry_repository_manifest WHERE repository_id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "manifest_digest",
          "type_info": "Text"
        },
        {
          "ordinal": 1,
          "name": "size",
          "type_info": "Int8"
        },
        {
          "ordinal": 2,
          "name": "created",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false
      ]
    }
  },
  "5f1d0325462a97c5165fdae1c672a40d3589e067a8785b7b2da2e1256010aae9": {
    "query": "ALTER TABLE workspace_audit_log ADD CONSTRAINT workspace_audit_log_fk_login_id FOREIGN KEY(user_id, login_id) REFERENCES user_login(user_id, login_id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "5f4da81e11690f78c860744212e2d92c210d50982c52e97afe27b96c070caa27": {
    "query": "SELECT * FROM resource WHERE id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "resource_type_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "owner_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "created",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false
      ]
    }
  },
  "60052c09546b142087edbb8c7677a63a9567bbdc0ae3a6cb1626a3fd3b520c67": {
    "query": "SELECT * FROM \"user\" WHERE id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "username",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "password",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "first_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 4,
          "name": "last_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 5,
          "name": "dob",
          "type_info": "Int8"
        },
        {
          "ordinal": 6,
          "name": "bio",
          "type_info": "Varchar"
        },
        {
          "ordinal": 7,
          "name": "location",
          "type_info": "Varchar"
        },
        {
          "ordinal": 8,
          "name": "created",
          "type_info": "Int8"
        },
        {
          "ordinal": 9,
          "name": "recovery_email_local",
          "type_info": "Varchar"
        },
        {
          "ordinal": 10,
          "name": "recovery_email_domain_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 11,
          "name": "recovery_phone_country_code",
          "type_info": "Bpchar"
        },
        {
          "ordinal": 12,
          "name": "recovery_phone_number",
          "type_info": "Varchar"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        false,
        true,
        true,
        true,
        true
      ]
    }
  },
  "60383fb5599092877e06a8e6a920ae78e76d609cc8ea603b5f1a9dda010f4e2e": {
    "query": "UPDATE patr_domain_dns_record SET record_identifier = $1 WHERE id = $2;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Text",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "60af027f2e663763fc387f893cb4fb3d82ad2cc31340f27df96cdffee8198f88": {
    "query": "CREATE TYPE DNS_RECORD_TYPE AS ENUM( 'A', 'MX', 'TXT', 'AAAA', 'CNAME' );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "61459ad9f96ec14221d1f72ea908e87f7d66f49747ddc186048cdf37ec5cf318": {
    "query": "UPDATE managed_database SET host = $1, port = $2, username = $3, password = $4 WHERE id = $5;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Text",
          "Int4",
          "Text",
          "Text",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "61af2922ffbe3863d8b4f5649718ea401c473d3a00205df8f4de399f7523ce00": {
    "query": "CREATE TABLE \"user\"( id UUID CONSTRAINT user_pk PRIMARY KEY, username VARCHAR(100) NOT NULL CONSTRAINT user_uq_username UNIQUE CONSTRAINT user_chk_username_is_valid CHECK( /* Username is a-z, 0-9, _, cannot begin or end with a . or - */ username ~ '^[a-z0-9_][a-z0-9_\\.\\-]*[a-z0-9_]$' AND username NOT LIKE '%..%' AND username NOT LIKE '%.-%' AND username NOT LIKE '%-.%' ), password TEXT NOT NULL, first_name VARCHAR(100) NOT NULL, last_name VARCHAR(100) NOT NULL, dob BIGINT DEFAULT NULL CONSTRAINT user_chk_dob_unsigned CHECK(dob >= 0), bio VARCHAR(128) DEFAULT NULL, location VARCHAR(128) DEFAULT NULL, created BIGINT NOT NULL CONSTRAINT user_chk_created_unsigned CHECK(created >= 0), /* Recovery options */ recovery_email_local VARCHAR(64) CONSTRAINT user_chk_recovery_email_is_lower_case CHECK( recovery_email_local = LOWER(recovery_email_local) ), recovery_email_domain_id UUID, recovery_phone_country_code CHAR(2) CONSTRAINT user_chk_recovery_phone_country_code_is_upper_case CHECK( recovery_phone_country_code = UPPER(recovery_phone_country_code) ), recovery_phone_number VARCHAR(15), CONSTRAINT user_uq_recovery_email_local_recovery_email_domain_id UNIQUE(recovery_email_local, recovery_email_domain_id), CONSTRAINT user_uq_recovery_phone_country_code_recovery_phone_number UNIQUE(recovery_phone_country_code, recovery_phone_number), CONSTRAINT user_chk_rcvry_eml_or_rcvry_phn_present CHECK( ( recovery_email_local IS NOT NULL AND recovery_email_domain_id IS NOT NULL ) OR ( recovery_phone_country_code IS NOT NULL AND recovery_phone_number IS NOT NULL ) ) );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "629c00298724c7b118fa471652c112c774ebc0c0d08a288c41c1cf7b9a27b5f9": {
    "query": "SELECT COUNT(*) as \"count!\" FROM managed_database INNER JOIN workspace ON managed_database.workspace_id = workspace.id WHERE status = 'deleted' AND workspace.super_admin_id NOT IN ( '543de4f5808f4a99b2ee96dbdf9afff7', 'b4560e9530904195a0999c6d26aa9c29' );",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "count!",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        null
      ]
    }
  },
  "62fb0148b3f71ab7dc2bc59d826bf780fec38cee98fd4c70c364da4801452f4d": {
    "query": "INSERT INTO user_unverified_phone_number( country_code, phone_number, user_id, verification_token_hash, verification_token_expiry ) VALUES ($1, $2, $3, $4, $5) ON CONFLICT(country_code, phone_number) DO UPDATE SET user_id = EXCLUDED.user_id, verification_token_hash = EXCLUDED.verification_token_hash, verification_token_expiry = EXCLUDED.verification_token_expiry;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Bpchar",
          "Varchar",
          "Uuid",
          "Text",
          "Int8"
        ]
      },
      "nullable": []
    }
  },
  "63439958aa9cecd9d6a798ec0cb6af18487e751bfd5bdb5f808f954b1d834f74": {
    "query": "ALTER TABLE transactions ADD CONSTRAINT transactions_fk_product_info_id FOREIGN KEY(product_info_id) REFERENCES product_info(id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "6505122d8c40c26849eb3a6144e2de08388b087d10d049cdbba7a1742fefc5de": {
    "query": "CREATE INDEX role_permissions_resource_idx_role_id ON role_permissions_resource (role_id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "6684afded21a486e0b2246c1376483e58abfe453a4831dd2b84eb6a7ae16d252": {
    "query": "INSERT INTO deployment_region( id, name, provider, location, parent_region_id ) VALUES ($1, $2, $3, ST_SetSRID(POINT($4, $5)::GEOMETRY, 4326), $6);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          {
            "Custom": {
              "name": "deployment_cloud_provider",
              "kind": {
                "Enum": [
                  "digitalocean"
                ]
              }
            }
          },
          "Float8",
          "Float8",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "66d3f65687b9fccb1ee80549ffc2a7a855bcb790d7c9df75a3b8c26a6bd1ff54": {
    "query": "ALTER TABLE managed_url ADD CONSTRAINT managed_url_fk_domain_id FOREIGN KEY(domain_id) REFERENCES workspace_domain(id), ADD CONSTRAINT managed_url_fk_domain_id_workspace_id FOREIGN KEY(domain_id, workspace_id) REFERENCES resource(id, owner_id), ADD CONSTRAINT managed_url_fk_deployment_id_port FOREIGN KEY(deployment_id, port) REFERENCES deployment_exposed_port(deployment_id, port) DEFERRABLE INITIALLY IMMEDIATE, ADD CONSTRAINT managed_url_fk_deployment_id_workspace_id FOREIGN KEY(deployment_id, workspace_id) REFERENCES deployment(id, workspace_id), ADD CONSTRAINT managed_url_fk_static_site_id_workspace_id FOREIGN KEY(static_site_id, workspace_id) REFERENCES deployment_static_site(id, workspace_id), ADD CONSTRAINT managed_url_fk_id_workspace_id FOREIGN KEY(id, workspace_id) REFERENCES resource(id, owner_id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "696bdaf6f707eea875bebce9c7b5f9ed6aee64eafcaf520113320625f71f988c": {
    "query": "SELECT CONCAT(domain.name, '.', domain.tld) as \"name!\", workspace_domain.id as \"id: _\", workspace_domain.domain_type as \"domain_type: _\", workspace_domain.is_verified, workspace_domain.nameserver_type as \"nameserver_type: _\" FROM workspace_domain INNER JOIN domain ON domain.id = workspace_domain.id WHERE domain.id = $1 AND domain.name NOT LIKE CONCAT( 'patr-deleted: ', REPLACE(domain.id::TEXT, '-', ''), '@%' );",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "name!",
          "type_info": "Text"
        },
        {
          "ordinal": 1,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 2,
          "name": "domain_type: _",
          "type_info": {
            "Custom": {
              "name": "resource_owner_type",
              "kind": {
                "Enum": [
                  "personal",
                  "business"
                ]
              }
            }
          }
        },
        {
          "ordinal": 3,
          "name": "is_verified",
          "type_info": "Bool"
        },
        {
          "ordinal": 4,
          "name": "nameserver_type: _",
          "type_info": {
            "Custom": {
              "name": "domain_nameserver_type",
              "kind": {
                "Enum": [
                  "internal",
                  "external"
                ]
              }
            }
          }
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        null,
        false,
        false,
        false,
        false
      ]
    }
  },
  "6a0d1cfc76ac95e30b79b46ed790f7967b3a9551ccaff381a0101ce7b352f279": {
    "query": "INSERT INTO product_info( id, name, description ) VALUES( $1, 'managed_url', NULL );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "6ad2f021500f77e5ac540f128fc071c0aead61d48db51dc32132ccba1a2120ab": {
    "query": "UPDATE \"user\" SET last_name = $1 WHERE id = $2;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Varchar",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "6b678ec64a61d5c20d7ea207efa6fce83058481b7af34fb81a36022b0a52dbc6": {
    "query": "DELETE FROM docker_registry_repository_manifest WHERE repository_id = $1;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "6c06e110efb137ecfc7322d47557b6492b827c0f9d5690ada1f826a98865b9c0": {
    "query": "UPDATE user_to_sign_up SET otp_hash = $1, otp_expiry = $2 WHERE username = $3;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Text",
          "Int8",
          "Text"
        ]
      },
      "nullable": []
    }
  },
  "6d073aee1779702ca055d61d249600c11148f6df419ae1221b3030279f364539": {
    "query": "SELECT workspace_audit_log.id as \"id: _\", date as \"date: _\", ip_address, workspace_id as \"workspace_id: _\", user_id as \"user_id: _\", login_id as \"login_id: _\", resource_id as \"resource_id: _\", permission.name as \"action\", request_id as \"request_id: _\", metadata as \"metadata: _\", patr_action as \"patr_action: _\", success FROM workspace_audit_log INNER JOIN permission ON permission.id = workspace_audit_log.action WHERE workspace_id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "date: _",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 2,
          "name": "ip_address",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "workspace_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "user_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 5,
          "name": "login_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 6,
          "name": "resource_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 7,
          "name": "action",
          "type_info": "Varchar"
        },
        {
          "ordinal": 8,
          "name": "request_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 9,
          "name": "metadata: _",
          "type_info": "Json"
        },
        {
          "ordinal": 10,
          "name": "patr_action: _",
          "type_info": "Bool"
        },
        {
          "ordinal": 11,
          "name": "success",
          "type_info": "Bool"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        true,
        true,
        false,
        false,
        false,
        false,
        false,
        false
      ]
    }
  },
  "6eb4872470c34d3f6a2cfd6633025ad91e3f581ad1fc557341f8e0ea80022359": {
    "query": "CREATE TABLE user_to_sign_up( username VARCHAR(100) CONSTRAINT user_to_sign_up_pk PRIMARY KEY CONSTRAINT user_to_sign_up_chk_username_is_valid CHECK( /* Username is a-z, 0-9, _, cannot begin or end with a . or - */ username ~ '^[a-z0-9_][a-z0-9_\\.\\-]*[a-z0-9_]$' AND username NOT LIKE '%..%' AND username NOT LIKE '%.-%' AND username NOT LIKE '%-.%' ), account_type RESOURCE_OWNER_TYPE NOT NULL, password TEXT NOT NULL, first_name VARCHAR(100) NOT NULL, last_name VARCHAR(100) NOT NULL, /* Personal email address OR recovery email */ recovery_email_local VARCHAR(64) CONSTRAINT user_to_sign_up_chk_recovery_email_is_lower_case CHECK( recovery_email_local = LOWER(recovery_email_local) ), recovery_email_domain_id UUID CONSTRAINT user_to_sign_up_fk_recovery_email_domain_id REFERENCES personal_domain(id), recovery_phone_country_code CHAR(2) CONSTRAINT user_to_sign_up_fk_recovery_phone_country_code REFERENCES phone_number_country_code(country_code) CONSTRAINT user_to_sign_up_chk_recovery_phone_country_code_upper_case CHECK( recovery_phone_country_code = UPPER(recovery_phone_country_code) ), recovery_phone_number VARCHAR(15) CONSTRAINT user_to_sign_up_chk_phone_number_valid CHECK( LENGTH(recovery_phone_number) >= 7 AND LENGTH(recovery_phone_number) <= 15 AND CAST(recovery_phone_number AS BIGINT) > 0 ), /* Workspace email address */ business_email_local VARCHAR(64) CONSTRAINT user_to_sign_up_chk_business_email_local_is_lower_case CHECK( business_email_local = LOWER(business_email_local) ), business_domain_name TEXT CONSTRAINT user_to_sign_up_chk_business_domain_name_is_valid CHECK( business_domain_name ~ '^(([a-z0-9])|([a-z0-9][a-z0-9-]*[a-z0-9]))$' ), business_domain_tld TEXT CONSTRAINT user_to_sign_up_chk_business_domain_tld_is_length_valid CHECK( LENGTH(business_domain_tld) >= 2 AND LENGTH(business_domain_tld) <= 6 ) CONSTRAINT user_to_sign_up_chk_business_domain_tld_is_valid CHECK( business_domain_tld ~ '^(([a-z0-9])|([a-z0-9][a-z0-9\\-\\.]*[a-z0-9]))$' ) CONSTRAINT user_to_sign_up_fk_business_domain_tld REFERENCES domain_tld(tld), business_name VARCHAR(100) CONSTRAINT user_to_sign_up_chk_business_name_is_lower_case CHECK(business_name = LOWER(business_name)), otp_hash TEXT NOT NULL, otp_expiry BIGINT NOT NULL CONSTRAINT user_to_sign_up_chk_expiry_unsigned CHECK(otp_expiry >= 0), CONSTRAINT user_to_sign_up_chk_max_domain_name_length CHECK( (LENGTH(business_domain_name) + LENGTH(business_domain_tld)) < 255 ), CONSTRAINT user_to_sign_up_chk_business_details_valid CHECK( ( account_type = 'personal' AND ( business_email_local IS NULL AND business_domain_name IS NULL AND business_domain_tld IS NULL AND business_name IS NULL ) ) OR ( account_type = 'business' AND ( business_email_local IS NOT NULL AND business_domain_name IS NOT NULL AND business_domain_tld IS NOT NULL AND business_name IS NOT NULL ) ) ), CONSTRAINT user_to_sign_up_chk_recovery_details CHECK( ( recovery_email_local IS NOT NULL AND recovery_email_domain_id IS NOT NULL AND recovery_phone_country_code IS NULL AND recovery_phone_number IS NULL ) OR ( recovery_email_local IS NULL AND recovery_email_domain_id IS NULL AND recovery_phone_country_code IS NOT NULL AND recovery_phone_number IS NOT NULL ) ) );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "6f356f929f3a1a25814f9182c06462b5ec8a1f32ae91c52c552661acadc1c57b": {
    "query": "INSERT INTO workspace_domain( id, domain_type, is_verified, nameserver_type ) VALUES ($1, 'business', FALSE, $2);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          {
            "Custom": {
              "name": "domain_nameserver_type",
              "kind": {
                "Enum": [
                  "internal",
                  "external"
                ]
              }
            }
          }
        ]
      },
      "nullable": []
    }
  },
  "6f7f9061d9b0ef20410537f9f662cc3a501d0a3ec931a68f7ef6c0891bfa4a06": {
    "query": "SELECT id as \"id: _\", name, provider as \"cloud_provider: _\" FROM deployment_region;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "cloud_provider: _",
          "type_info": {
            "Custom": {
              "name": "deployment_cloud_provider",
              "kind": {
                "Enum": [
                  "digitalocean"
                ]
              }
            }
          }
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        false,
        false,
        true
      ]
    }
  },
  "7015ca1971b4bd5267ccd4c96e1d0f67c845e125c6cd11aa5e145a04c5c6dc8b": {
    "query": "CREATE TYPE PLAN_TYPE AS ENUM( 'one_time', 'fixed_monthly', 'dynamic_monthly' /* 'fixed_annually', */ /* 'dynamic_annually', */ /* 'fixed_resources', */ );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "708a531906c5a9d680d024db1bd04ae511002fd927ef1bd2bebe3935a22a3a59": {
    "query": "SELECT id as \"id: _\", name::TEXT as \"name!: _\", super_admin_id as \"super_admin_id: _\", active, alert_emails FROM workspace WHERE super_admin_id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name!: _",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "super_admin_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "active",
          "type_info": "Bool"
        },
        {
          "ordinal": 4,
          "name": "alert_emails",
          "type_info": "VarcharArray"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        null,
        false,
        false,
        false
      ]
    }
  },
  "716f9c60fafbfa79a2dd1eebd546e54e5abdde8c1cdc56c8b3f776f547f08625": {
    "query": "INSERT INTO \"user\"( id, username, password, first_name, last_name, dob, bio, location, created, recovery_email_local, recovery_email_domain_id, recovery_phone_country_code, recovery_phone_number ) VALUES ( $1, $2, $3, $4, $5, NULL, NULL, NULL, $6, $7, $8, $9, $10 );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Varchar",
          "Text",
          "Varchar",
          "Varchar",
          "Int8",
          "Varchar",
          "Uuid",
          "Bpchar",
          "Varchar"
        ]
      },
      "nullable": []
    }
  },
  "72ac7bbce66b7ce6bf31c659da6b9c2b4f396b0a1738bdf2ccf4ef98e3ae61eb": {
    "query": "SELECT id as \"id: _\", sub_domain, domain_id as \"domain_id: _\", path, url_type as \"url_type: _\", deployment_id as \"deployment_id: _\", port, static_site_id as \"static_site_id: _\", url, workspace_id as \"workspace_id: _\" FROM managed_url WHERE sub_domain NOT LIKE CONCAT( 'patr-deleted: ', REPLACE(id::TEXT, '-', ''), '@%' );",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "sub_domain",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "domain_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "path",
          "type_info": "Text"
        },
        {
          "ordinal": 4,
          "name": "url_type: _",
          "type_info": {
            "Custom": {
              "name": "managed_url_type",
              "kind": {
                "Enum": [
                  "proxy_to_deployment",
                  "proxy_to_static_site",
                  "proxy_url",
                  "redirect"
                ]
              }
            }
          }
        },
        {
          "ordinal": 5,
          "name": "deployment_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 6,
          "name": "port",
          "type_info": "Int4"
        },
        {
          "ordinal": 7,
          "name": "static_site_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 8,
          "name": "url",
          "type_info": "Text"
        },
        {
          "ordinal": 9,
          "name": "workspace_id: _",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        true,
        false
      ]
    }
  },
  "737d2bec853fc049071993d090838da713f3f24ca972cba74b45aa0318ccdf7d": {
    "query": "SELECT id as \"id: _\", name::TEXT as \"name!: _\", status as \"status: _\", workspace_id as \"workspace_id: _\" FROM deployment_static_site WHERE workspace_id = $1 AND status != 'deleted';",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name!: _",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "status: _",
          "type_info": {
            "Custom": {
              "name": "deployment_status",
              "kind": {
                "Enum": [
                  "created",
                  "pushed",
                  "deploying",
                  "running",
                  "stopped",
                  "errored",
                  "deleted"
                ]
              }
            }
          }
        },
        {
          "ordinal": 3,
          "name": "workspace_id: _",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        null,
        false,
        false
      ]
    }
  },
  "7401f9df0e6e0b99c923aed5a8e8be4ed52aa49dc8780e4ded18882872b8b95d": {
    "query": "CREATE TABLE deployment_region( id UUID CONSTRAINT deployment_region_pk PRIMARY KEY, name TEXT NOT NULL, provider DEPLOYMENT_CLOUD_PROVIDER, location GEOMETRY, parent_region_id UUID CONSTRAINT deployment_region_fk_parent_region_id REFERENCES deployment_region(id), CONSTRAINT deployment_region_chk_provider_location_parent_region_is_valid CHECK( ( location IS NULL AND provider IS NULL ) OR ( provider IS NOT NULL AND location IS NOT NULL AND parent_region_id IS NOT NULL ) ) );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "751f7ae4b4c1d76c43283ccb88c5247004ed8b1db984dd9aa92903eca6cfe56a": {
    "query": "UPDATE deployment SET deploy_on_push = $1 WHERE id = $2;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Bool",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "75865c9eeef9db34c98ec27fa26d8895973d7e841b98347ac2222a6d9ad034ca": {
    "query": "SELECT COUNT(*) as \"count!\" FROM managed_url INNER JOIN workspace ON managed_url.workspace_id = workspace.id WHERE url_type = 'proxy_to_static_site' AND workspace.super_admin_id NOT IN ( '543de4f5808f4a99b2ee96dbdf9afff7', 'b4560e9530904195a0999c6d26aa9c29' );",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "count!",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        null
      ]
    }
  },
  "75bdeb64bbd4a28d8d283d6d64fb3174c0b62ac1bfbaf19b324d2071d769ce28": {
    "query": "INSERT INTO resource_type( id, name, description ) VALUES ($1, $2, $3);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Varchar",
          "Varchar"
        ]
      },
      "nullable": []
    }
  },
  "7671c31d102e405bd463541d12803b0daf7a8fc6e39804071f22386e3c431597": {
    "query": "SELECT id FROM plans WHERE id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "799f1b78ac4c1bd45251b83af9dea7179be61357e5241533c66406c1cf0b60de": {
    "query": "DELETE FROM user_unverified_personal_email WHERE user_id = $1 AND local = $2 AND domain_id = $3;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "79fa1bf34cf8566001fb2ee8107216fad2a2595b346a4e51d4b1b1d9537c55b6": {
    "query": "SELECT COUNT(*) as \"count!\" FROM managed_url INNER JOIN workspace ON managed_url.workspace_id = workspace.id WHERE url_type = 'proxy_to_deployment' AND workspace.super_admin_id NOT IN ( '543de4f5808f4a99b2ee96dbdf9afff7', 'b4560e9530904195a0999c6d26aa9c29' );",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "count!",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        null
      ]
    }
  },
  "7a34816fd1a0ca06874d100aca7f6d42684bf8c340064df9b10d8349d193df57": {
    "query": "INSERT INTO user_to_sign_up( username, account_type, password, first_name, last_name, recovery_email_local, recovery_email_domain_id, recovery_phone_country_code, recovery_phone_number, business_email_local, business_domain_name, business_domain_tld, business_name, otp_hash, otp_expiry ) VALUES ( $1, 'business', $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14 ) ON CONFLICT(username) DO UPDATE SET account_type = 'business', password = EXCLUDED.password, first_name = EXCLUDED.first_name, last_name = EXCLUDED.last_name, recovery_email_local = EXCLUDED.recovery_email_local, recovery_email_domain_id = EXCLUDED.recovery_email_domain_id, recovery_phone_country_code = EXCLUDED.recovery_phone_country_code, recovery_phone_number = EXCLUDED.recovery_phone_number, business_email_local = EXCLUDED.business_email_local, business_domain_name = EXCLUDED.business_domain_name, business_domain_tld = EXCLUDED.business_domain_tld, business_name = EXCLUDED.business_name, otp_hash = EXCLUDED.otp_hash, otp_expiry = EXCLUDED.otp_expiry;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Varchar",
          "Text",
          "Varchar",
          "Varchar",
          "Varchar",
          "Uuid",
          "Bpchar",
          "Varchar",
          "Varchar",
          "Text",
          "Text",
          "Varchar",
          "Text",
          "Int8"
        ]
      },
      "nullable": []
    }
  },
  "7b4f1a65db5e2653a606942aae5d1f08356267032e46f7f1e5f96e026ef41ac4": {
    "query": "SELECT username, account_type as \"account_type: ResourceType\", password, first_name, last_name, recovery_email_local, recovery_email_domain_id as \"recovery_email_domain_id: Uuid\", recovery_phone_country_code, recovery_phone_number, business_email_local, CASE WHEN business_domain_name IS NULL THEN NULL ELSE CONCAT(business_domain_name, '.', business_domain_tld) END as \"business_domain_name: String\", business_name, otp_hash, otp_expiry FROM user_to_sign_up WHERE business_domain_name = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "username",
          "type_info": "Varchar"
        },
        {
          "ordinal": 1,
          "name": "account_type: ResourceType",
          "type_info": {
            "Custom": {
              "name": "resource_owner_type",
              "kind": {
                "Enum": [
                  "personal",
                  "business"
                ]
              }
            }
          }
        },
        {
          "ordinal": 2,
          "name": "password",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "first_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 4,
          "name": "last_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 5,
          "name": "recovery_email_local",
          "type_info": "Varchar"
        },
        {
          "ordinal": 6,
          "name": "recovery_email_domain_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 7,
          "name": "recovery_phone_country_code",
          "type_info": "Bpchar"
        },
        {
          "ordinal": 8,
          "name": "recovery_phone_number",
          "type_info": "Varchar"
        },
        {
          "ordinal": 9,
          "name": "business_email_local",
          "type_info": "Varchar"
        },
        {
          "ordinal": 10,
          "name": "business_domain_name: String",
          "type_info": "Text"
        },
        {
          "ordinal": 11,
          "name": "business_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 12,
          "name": "otp_hash",
          "type_info": "Text"
        },
        {
          "ordinal": 13,
          "name": "otp_expiry",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        true,
        true,
        null,
        true,
        false,
        false
      ]
    }
  },
  "7ba58481a8f9dd009564004d350954011271737ebeb2b0e2fcab1f7b6c9fe401": {
    "query": "INSERT INTO meta_data( id, value ) VALUES ('version_major', $1), ('version_minor', $2), ('version_patch', $3) ON CONFLICT(id) DO UPDATE SET value = EXCLUDED.value;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Text",
          "Text",
          "Text"
        ]
      },
      "nullable": []
    }
  },
  "7c8582745f948c36a597434e40fb7f9679e9d35f06b2bbac3bb58d7fd8707098": {
    "query": "SELECT manifest_digest, size, created FROM docker_registry_repository_manifest WHERE repository_id = $1 AND manifest_digest = $2;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "manifest_digest",
          "type_info": "Text"
        },
        {
          "ordinal": 1,
          "name": "size",
          "type_info": "Int8"
        },
        {
          "ordinal": 2,
          "name": "created",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      },
      "nullable": [
        false,
        false,
        false
      ]
    }
  },
  "7cbabf53a73fe673bfa522455fbd2fefbc657f6def3531eb922564a9c3627590": {
    "query": "WITH RECURSIVE managed_url_list AS ( SELECT managed_url.* FROM managed_url INNER JOIN domain ON managed_url.domain_id = domain.id WHERE managed_url.deployment_id = $1 AND managed_url.url_type = 'proxy_to_deployment' UNION ALL SELECT managed_url.* FROM managed_url INNER JOIN domain ON managed_url.domain_id = domain.id JOIN managed_url_list ON managed_url.url LIKE CONCAT( managed_url.sub_domain, '.', domain.name, '.', domain.tld, CASE managed_url.path WHEN '/' THEN '%' ELSE CONCAT(managed_url.path, '%') END ) WHERE managed_url.url_type = 'redirect' OR managed_url.url_type = 'proxy_url' ) SELECT id as \"id!: _\", sub_domain as \"sub_domain!: _\", domain_id as \"domain_id!: _\", path as \"path!: _\", url_type as \"url_type!: _\", deployment_id as \"deployment_id: _\", port, static_site_id as \"static_site_id: _\", url, workspace_id as \"workspace_id!: _\" FROM managed_url_list WHERE managed_url_list.workspace_id = $2 AND managed_url_list.sub_domain NOT LIKE CONCAT( 'patr-deleted: ', REPLACE(id::TEXT, '-', ''), '@%' );",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id!: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "sub_domain!: _",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "domain_id!: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "path!: _",
          "type_info": "Text"
        },
        {
          "ordinal": 4,
          "name": "url_type!: _",
          "type_info": {
            "Custom": {
              "name": "managed_url_type",
              "kind": {
                "Enum": [
                  "proxy_to_deployment",
                  "proxy_to_static_site",
                  "proxy_url",
                  "redirect"
                ]
              }
            }
          }
        },
        {
          "ordinal": 5,
          "name": "deployment_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 6,
          "name": "port",
          "type_info": "Int4"
        },
        {
          "ordinal": 7,
          "name": "static_site_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 8,
          "name": "url",
          "type_info": "Text"
        },
        {
          "ordinal": 9,
          "name": "workspace_id!: _",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid"
        ]
      },
      "nullable": [
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ]
    }
  },
  "7d4f82ad1a647d0bcb90321774d7e4261578091c7822d00cef3ec66a8a4f0174": {
    "query": "CREATE INDEX role_permissions_resource_type_idx_role_id_resource_type_id ON role_permissions_resource_type (role_id, resource_type_id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "7e07dd285ab55985a65de09b3873044801b3cfad26520fb218e055ec47512932": {
    "query": "CREATE TABLE workspace_domain( id UUID CONSTRAINT workspace_domain_pk PRIMARY KEY, domain_type RESOURCE_OWNER_TYPE NOT NULL CONSTRAINT workspace_domain_chk_domain_type CHECK( domain_type = 'business' ), is_verified BOOLEAN NOT NULL, nameserver_type DOMAIN_NAMESERVER_TYPE NOT NULL, CONSTRAINT workspace_domain_uq_id_nameserver_type UNIQUE(id, nameserver_type), CONSTRAINT workspace_domain_fk_id_domain_type FOREIGN KEY(id, domain_type) REFERENCES domain(id, type) );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "800be378aa534e253f75a64c956799e120102f6b9ae464053f8a38d493f46877": {
    "query": "CREATE TABLE user_unverified_phone_number( country_code CHAR(2) NOT NULL CONSTRAINT user_unverified_phone_number_fk_country_code REFERENCES phone_number_country_code(country_code) CONSTRAINT user_unverified_phone_number_chk_country_code_is_upper_case CHECK( country_code = UPPER(country_code) ), phone_number VARCHAR(15) NOT NULL, user_id UUID NOT NULL CONSTRAINT user_unverified_phone_number_fk_user_id REFERENCES \"user\"(id), verification_token_hash TEXT NOT NULL, verification_token_expiry BIGINT NOT NULL CONSTRAINT user_unverified_phone_number_chk_token_expiry_unsigned CHECK(verification_token_expiry >= 0), CONSTRAINT user_univerified_phone_number_pk PRIMARY KEY(country_code, phone_number), CONSTRAINT user_univerified_phone_number_uq_country_code_phone_number UNIQUE(user_id, country_code, phone_number) );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "80fa0cff43932600e815f32385f983ff6c643e04f261fd5df7ff43b8ca98a9cf": {
    "query": "ALTER TABLE workspace_domain ADD CONSTRAINT workspace_domain_fk_id FOREIGN KEY(id) REFERENCES resource(id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "815f0a1d1640aeb2705790facc7dc003fdc37caf47c3b08b7977963a69a8af1b": {
    "query": "CREATE TABLE deployment_environment_variable( deployment_id UUID CONSTRAINT deployment_environment_variable_fk_deployment_id REFERENCES deployment(id), name VARCHAR(256) NOT NULL, value TEXT, secret_id UUID, CONSTRAINT deployment_environment_variable_pk PRIMARY KEY(deployment_id, name), CONSTRAINT deployment_environment_variable_fk_secret_id FOREIGN KEY(secret_id) REFERENCES secret(id), CONSTRAINT deployment_env_var_chk_value_secret_id_either_not_null CHECK( ( value IS NOT NULL AND secret_id IS NULL ) OR ( value IS NULL AND secret_id IS NOT NULL ) ) );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "819e618434cdff425c67c3f046f6b17017f502cf2e5d54e82b57a6dc619fb851": {
    "query": "SELECT id as \"id: _\", name::TEXT as \"name!: _\", workspace_id as \"workspace_id: _\", deployment_id as \"deployment_id: _\" FROM secret WHERE id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name!: _",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "workspace_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "deployment_id: _",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        null,
        false,
        true
      ]
    }
  },
  "826e599fedc33685020d1747bd3893a23f22c5de69b36cd64fb0e2efceab782d": {
    "query": "UPDATE secret SET name = $1 WHERE id = $2;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          {
            "Custom": {
              "name": "citext",
              "kind": "Simple"
            }
          },
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "8318ccd0ab8b84917e77f226fca33304a5d4df55b5fd0dda1eec1449aa63a4f4": {
    "query": "SELECT * FROM workspace_audit_log WHERE id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "date",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 2,
          "name": "ip_address",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "workspace_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "user_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 5,
          "name": "login_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 6,
          "name": "resource_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 7,
          "name": "action",
          "type_info": "Uuid"
        },
        {
          "ordinal": 8,
          "name": "request_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 9,
          "name": "metadata",
          "type_info": "Json"
        },
        {
          "ordinal": 10,
          "name": "patr_action",
          "type_info": "Bool"
        },
        {
          "ordinal": 11,
          "name": "success",
          "type_info": "Bool"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        true,
        true,
        false,
        false,
        false,
        false,
        false,
        false
      ]
    }
  },
  "8462bd0e0f4ced9e6f53b6bb2ae95f0d393c2217d033072ca79e842b71881e06": {
    "query": "INSERT INTO business_email( user_id, local, domain_id ) VALUES ($1, $2, $3);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Varchar",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "85c2b0a9bf48c5cc257af57e4ecf5b439153fe1b82d213953db1f10bdc14fd87": {
    "query": "SELECT * FROM resource_type WHERE id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "description",
          "type_info": "Varchar"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false
      ]
    }
  },
  "860c561776aaf1f078eb0392b11b2be437f2cf6847a00b4d7214a158514664c4": {
    "query": "CREATE INDEX role_permissions_resource_idx_role_id_resource_id ON role_permissions_resource (role_id, resource_id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "86da166d78d720baa27481d402b8f31a8e589c8da416d4cf8f17ef67a4e6f899": {
    "query": "INSERT INTO docker_registry_repository_tag( repository_id, tag, manifest_digest, last_updated ) VALUES ($1, $2, $3, $4) ON CONFLICT(repository_id, tag) DO UPDATE SET manifest_digest = $3, last_updated = $4;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Text",
          "Int8"
        ]
      },
      "nullable": []
    }
  },
  "876d22fdf71fcc4bdecad17628e4cb378fe3074d55e0c3960d966fadf87f188b": {
    "query": "CREATE TABLE IF NOT EXISTS plans( id UUID CONSTRAINT plans_pk PRIMARY KEY, name TEXT NOT NULL, description TEXT, plan_type PLAN_TYPE NOT NULL, product_info_id UUID NOT NULL, price DECIMAL(10, 2) NOT NULL, quantity INTEGER, workspace_id UUID NOT NULL, deployment_machine_type_id UUID CONSTRAINT plans_uq_deployment_machine_type_id UNIQUE );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "87bca736fca728f58dad62df4bc2c4973eaad8c008f9b456c629907210a26ce3": {
    "query": "DELETE FROM personal_email WHERE user_id = $1 AND local = $2 AND domain_id = $3;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "88e4f20d981c955242b2774cc93a5028ea7b61478bad3f63d62cf6e3237eede2": {
    "query": "SELECT * FROM resource_limits WHERE id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "workspace_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 2,
          "name": "max_resources",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false
      ]
    }
  },
  "8a7f673204b386ab84508b8bd966898a6fb940501f2caa676285b90295d9a7bf": {
    "query": "SELECT permission_id as \"permission_id: Uuid\", resource_id as \"resource_id: Uuid\" FROM role_permissions_resource WHERE role_id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "permission_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "resource_id: Uuid",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false
      ]
    }
  },
  "8ba7e810211002c1b6033836493c2f48f72dbf7718a0ee8571cf200f07bbeb4d": {
    "query": "SELECT port, port_type as \"port_type: ExposedPortType\" FROM deployment_exposed_port WHERE deployment_id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "port",
          "type_info": "Int4"
        },
        {
          "ordinal": 1,
          "name": "port_type: ExposedPortType",
          "type_info": {
            "Custom": {
              "name": "exposed_port_type",
              "kind": {
                "Enum": [
                  "http"
                ]
              }
            }
          }
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false
      ]
    }
  },
  "8d0a4c011fc58624c93d87270ff0cc7db7a41927801b42f826871cc11a37ce02": {
    "query": "SELECT CONCAT(domain.name, '.', domain.tld) as \"name!\", workspace_domain.id as \"id: _\", workspace_domain.domain_type as \"domain_type: _\", workspace_domain.is_verified, workspace_domain.nameserver_type as \"nameserver_type: _\" FROM domain INNER JOIN workspace_domain ON workspace_domain.id = domain.id INNER JOIN resource ON domain.id = resource.id WHERE resource.owner_id = $1 AND domain.name NOT LIKE CONCAT( 'patr-deleted: ', REPLACE(domain.id::TEXT, '-', ''), '@%' );",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "name!",
          "type_info": "Text"
        },
        {
          "ordinal": 1,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 2,
          "name": "domain_type: _",
          "type_info": {
            "Custom": {
              "name": "resource_owner_type",
              "kind": {
                "Enum": [
                  "personal",
                  "business"
                ]
              }
            }
          }
        },
        {
          "ordinal": 3,
          "name": "is_verified",
          "type_info": "Bool"
        },
        {
          "ordinal": 4,
          "name": "nameserver_type: _",
          "type_info": {
            "Custom": {
              "name": "domain_nameserver_type",
              "kind": {
                "Enum": [
                  "internal",
                  "external"
                ]
              }
            }
          }
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        null,
        false,
        false,
        false,
        false
      ]
    }
  },
  "8d72ae0818e4164c031c48aefd83eab24188d066b54ef81050d670d08804ff7e": {
    "query": "DELETE FROM deployment_environment_variable WHERE deployment_id = $1;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "8e7433b1af4c66de9bc7eba31cb2639190f235a410264641ba86b0cd6890c736": {
    "query": "ALTER TABLE workspace_audit_log ADD CONSTRAINT workspace_audit_log_fk_user_id FOREIGN KEY(user_id) REFERENCES \"user\"(id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "8e8442a69038da41e5966a479775fb1d9dbe1408096ccc93695d0c4713eb59b1": {
    "query": "DELETE FROM user_to_sign_up WHERE username = $1;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Text"
        ]
      },
      "nullable": []
    }
  },
  "8f40c85c9a884c7baefc91aace67efcf5d1966aa9589f1b2d408e3f27cadd6e9": {
    "query": "CREATE TABLE resource( id UUID CONSTRAINT resource_pk PRIMARY KEY, name VARCHAR(100) NOT NULL, resource_type_id UUID NOT NULL CONSTRAINT resource_fk_resource_type_id REFERENCES resource_type(id), owner_id UUID NOT NULL CONSTRAINT resource_fk_owner_id REFERENCES workspace(id) DEFERRABLE INITIALLY IMMEDIATE, created BIGINT NOT NULL CONSTRAINT resource_created_chk_unsigned CHECK(created >= 0), CONSTRAINT resource_uq_id_owner_id UNIQUE(id, owner_id) );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "902eb1b77efa78c6fcb9b9ca53b1b37b6bc5f8b661d46294934b91a5a665942e": {
    "query": "CREATE TABLE IF NOT EXISTS product_info( id UUID CONSTRAINT product_info_pk PRIMARY KEY, name TEXT NOT NULL, description TEXT );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "94754e687618da3960c58a3510202b7e9f408ff3b18edb9978f81948f77da63f": {
    "query": "CREATE TYPE PAYMENT_METHOD_TYPE AS ENUM( 'credit_card', 'debit_card' );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "950e9b68ae5974afe26208b12498d2863660e67871aa2ad387b54a03255d339d": {
    "query": "INSERT INTO role( id, name, description, owner_id ) VALUES ($1, $2, $3, $4);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Varchar",
          "Varchar",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "9581388fb7bb98001ffa0a401a9b5e263bea871ef4cb5f1305b65af163ed3205": {
    "query": "CREATE INDEX deployment_idx_image_name_image_tag ON deployment (image_name, image_tag);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "9582936370eb63b0e0c92f9987f9da5398f0b38a252f231af795c080be0d35f9": {
    "query": "SELECT COUNT(*) as \"count!\" FROM deployment_static_site INNER JOIN workspace ON deployment_static_site.workspace_id = workspace.id WHERE status = 'deleted' AND workspace.super_admin_id NOT IN ( '543de4f5808f4a99b2ee96dbdf9afff7', 'b4560e9530904195a0999c6d26aa9c29' );",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "count!",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        null
      ]
    }
  },
  "9619d6b989536b51299ed94b0c88316ac91290cd6bfcee615f9f252699f77add": {
    "query": "DELETE FROM user_unverified_phone_number WHERE user_id = $1 AND country_code = $2 AND phone_number = $3;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Bpchar",
          "Text"
        ]
      },
      "nullable": []
    }
  },
  "969935e79e1d00ec5a2ec715240a07dd5ba7f2eb6aa846500bac31473ec2d361": {
    "query": "CREATE TABLE address( id UUID NOT NULL CONSTRAINT address_pk PRIMARY KEY, first_name TEXT NOT NULL, last_name TEXT NOT NULL, address_line_1 TEXT NOT NULL, address_line_2 TEXT, address_line_3 TEXT, city TEXT NOT NULL, state TEXT NOT NULL, zip TEXT NOT NULL, country TEXT NOT NULL );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "96b3517ef88f76e14a7f25c2ee6c94502f52a8e72314b6ba8e5e2010e9c06965": {
    "query": "CREATE TABLE workspace_user( user_id UUID NOT NULL CONSTRAINT workspace_user_fk_user_id REFERENCES \"user\"(id), workspace_id UUID NOT NULL CONSTRAINT workspace_user_fk_workspace_id REFERENCES workspace(id), role_id UUID NOT NULL CONSTRAINT workspace_user_fk_role_id REFERENCES role(id), CONSTRAINT workspace_user_pk PRIMARY KEY(user_id, workspace_id, role_id) );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "96e525b047f0838a7c25a1277bae273d2ce2aaf541f0b2aad82404728baecc42": {
    "query": "CREATE TYPE RESOURCE_OWNER_TYPE AS ENUM( 'personal', 'business' );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "9733ca414a05574a04cc7e723043e606936d009f3b5fa595225aaedcd4e71d07": {
    "query": "INSERT INTO secret( id, name, workspace_id, deployment_id ) VALUES ($1, $2, $3, NULL);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          {
            "Custom": {
              "name": "citext",
              "kind": "Simple"
            }
          },
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "97dc58af5c9c3baed320a573d34a5069c2f7919b6a3ace08bdbbf1a2e90b4789": {
    "query": "DELETE FROM managed_url WHERE id = $1;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "97ec68c32ba61f2d35aa4553765fa2609bbdcb1c94e333d84b60a775e4e62ddd": {
    "query": "SELECT \"user\".id as \"id: Uuid\", \"user\".username, \"user\".password, \"user\".first_name, \"user\".last_name, \"user\".dob, \"user\".bio, \"user\".location, \"user\".created, \"user\".recovery_email_local, \"user\".recovery_email_domain_id as \"recovery_email_domain_id: Uuid\", \"user\".recovery_phone_country_code, \"user\".recovery_phone_number FROM \"user\" LEFT JOIN personal_email ON personal_email.user_id = \"user\".id LEFT JOIN business_email ON business_email.user_id = \"user\".id LEFT JOIN domain ON domain.id = personal_email.domain_id OR domain.id = business_email.domain_id LEFT JOIN user_phone_number ON user_phone_number.user_id = \"user\".id LEFT JOIN phone_number_country_code ON phone_number_country_code.country_code = user_phone_number.country_code WHERE \"user\".username = $1 OR CONCAT( personal_email.local, '@', domain.name, '.', domain.tld ) = $1 OR CONCAT( business_email.local, '@', domain.name, '.', domain.tld ) = $1 OR CONCAT( '+', phone_number_country_code.phone_code, user_phone_number.number ) = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "username",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "password",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "first_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 4,
          "name": "last_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 5,
          "name": "dob",
          "type_info": "Int8"
        },
        {
          "ordinal": 6,
          "name": "bio",
          "type_info": "Varchar"
        },
        {
          "ordinal": 7,
          "name": "location",
          "type_info": "Varchar"
        },
        {
          "ordinal": 8,
          "name": "created",
          "type_info": "Int8"
        },
        {
          "ordinal": 9,
          "name": "recovery_email_local",
          "type_info": "Varchar"
        },
        {
          "ordinal": 10,
          "name": "recovery_email_domain_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 11,
          "name": "recovery_phone_country_code",
          "type_info": "Bpchar"
        },
        {
          "ordinal": 12,
          "name": "recovery_phone_number",
          "type_info": "Varchar"
        }
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        false,
        true,
        true,
        true,
        true
      ]
    }
  },
  "985017bf290c3b482b9ecf7c939085b9f344b97e9ef6f57696fe91e7affb5e91": {
    "query": "UPDATE \"user\" SET location = $1 WHERE id = $2;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Varchar",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "993770c56d7df8ebefdac1486f71a352b963560884054a7e7a2ad90e4565c74b": {
    "query": "ALTER TABLE transactions ADD CONSTRAINT transactions_fk_workspace_id FOREIGN KEY(workspace_id) REFERENCES workspace(id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "9a3de7f88487616a70b025316dfa10b5ec412d40d7c15567e0dd9d19c369a3c1": {
    "query": "SELECT * FROM user_login WHERE login_id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "login_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "refresh_token",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "token_expiry",
          "type_info": "Int8"
        },
        {
          "ordinal": 3,
          "name": "user_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "last_login",
          "type_info": "Int8"
        },
        {
          "ordinal": 5,
          "name": "last_activity",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false
      ]
    }
  },
  "9b88d7c5fc101c3ee54f19f893dcd561664e63b7206aa46df6a7868ae52d5157": {
    "query": "CREATE INDEX workspace_idx_active ON workspace (active);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "9b967d734dd6b74e206a70026d38917c0e8a81fec88e56ec341715c660adeb5b": {
    "query": "SELECT COALESCE(SUM(size), 0)::BIGINT as \"size!\" FROM docker_registry_repository_manifest WHERE repository_id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "size!",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        null
      ]
    }
  },
  "9bdfa463022aadafe5079554d6e75a40ee92a07bf7be483c3a5945c3a4009d45": {
    "query": "CREATE MATERIALIZED VIEW credits AS SELECT SUM( CASE debit WHEN 'true' THEN -amount ELSE amount END ) AS credits FROM transactions WHERE billable_service_id IS NULL AND product_info_id IS NULL AND plan_id IS NULL GROUP BY workspace_id WITH NO DATA; /*This clause specifies whether or not the materialized view should be populated at creation time. If not, the materialized view will be flagged as unscannable and cannot be queried until REFRESH MATERIALIZED VIEW is used. */",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "9c3a8439eb72bacedd686bc01944398392c09f761ddc8fc7fac2fa3e97f74f3b": {
    "query": "CREATE INDEX role_permissions_resource_type_idx_role_id ON role_permissions_resource_type (role_id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "9d12957af2506956a6c245b5822233f06bb1b51740cc77867c9269d16d53c635": {
    "query": "SELECT id as \"id: Uuid\" FROM \"user\" ORDER BY created LIMIT 1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: Uuid",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        false
      ]
    }
  },
  "9d4dc829149a21a54b86ebeecd1a45b402b19bb29f1e73ce6f9db96ff980a78a": {
    "query": "ALTER TABLE payment_method ADD CONSTRAINT payment_method_fk_workspace_id FOREIGN KEY(workspace_id) REFERENCES workspace(id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "9d805b746f71afeaa409450ca91c0ae52f6ff41e82fdd9610a4ff702bb4c36e7": {
    "query": "CREATE TABLE permission( id UUID CONSTRAINT permission_pk PRIMARY KEY, name VARCHAR(100) NOT NULL CONSTRAINT permission_uq_name UNIQUE, description VARCHAR(500) NOT NULL );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "9e3736b6e5d9a9db4281d8ce42a2fa507275cbb428769ab441069341dc304212": {
    "query": "CREATE TABLE role_permissions_resource( role_id UUID CONSTRAINT role_permissions_resource_fk_role_id REFERENCES role(id), permission_id UUID CONSTRAINT role_permissions_resource_fk_permission_id REFERENCES permission(id), resource_id UUID CONSTRAINT role_permissions_resource_fk_resource_id REFERENCES resource(id), CONSTRAINT role_permissions_resource_pk PRIMARY KEY(role_id, permission_id, resource_id) );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "9e700afbaa2bcee044788a11c5b123d5cad8158dbc54ef99c35d20dfb72c6dd3": {
    "query": "INSERT INTO managed_url( id, sub_domain, domain_id, path, url_type, deployment_id, port, static_site_id, url, workspace_id ) VALUES ( $1, $2, $3, $4, $5, $6, $7, $8, $9, $10 );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Uuid",
          "Text",
          {
            "Custom": {
              "name": "managed_url_type",
              "kind": {
                "Enum": [
                  "proxy_to_deployment",
                  "proxy_to_static_site",
                  "proxy_url",
                  "redirect"
                ]
              }
            }
          },
          "Uuid",
          "Int4",
          "Uuid",
          "Text",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "9e8e2ff3a720e95dfb284e5fe053621df3a009d454eb5c571d73782e59507efb": {
    "query": "DELETE FROM docker_registry_repository WHERE id = $1;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "9eb0993ca671ecb32e1ed2303b5bd741a025fb8b0c7ce6a1600cc64f57eb8002": {
    "query": "DELETE FROM personal_domain WHERE id = $1;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "9fbae237f57d2ec4e73a150869fbb399fb6f4906afae729c85f93002b27d894b": {
    "query": "INSERT INTO role_permissions_resource_type( role_id, permission_id, resource_type_id ) VALUES ($1, $2, $3);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "9fd9a0789b91eb2be01664d4ce94d89303376e356cf1d188ba64b7b1b3ccf732": {
    "query": "SELECT * FROM information_schema.tables WHERE table_catalog = $1 AND table_schema = 'public' AND table_type = 'BASE TABLE' AND table_name != 'spatial_ref_sys';",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "table_catalog",
          "type_info": "Name"
        },
        {
          "ordinal": 1,
          "name": "table_schema",
          "type_info": "Name"
        },
        {
          "ordinal": 2,
          "name": "table_name",
          "type_info": "Name"
        },
        {
          "ordinal": 3,
          "name": "table_type",
          "type_info": "Varchar"
        },
        {
          "ordinal": 4,
          "name": "self_referencing_column_name",
          "type_info": "Name"
        },
        {
          "ordinal": 5,
          "name": "reference_generation",
          "type_info": "Varchar"
        },
        {
          "ordinal": 6,
          "name": "user_defined_type_catalog",
          "type_info": "Name"
        },
        {
          "ordinal": 7,
          "name": "user_defined_type_schema",
          "type_info": "Name"
        },
        {
          "ordinal": 8,
          "name": "user_defined_type_name",
          "type_info": "Name"
        },
        {
          "ordinal": 9,
          "name": "is_insertable_into",
          "type_info": "Varchar"
        },
        {
          "ordinal": 10,
          "name": "is_typed",
          "type_info": "Varchar"
        },
        {
          "ordinal": 11,
          "name": "commit_action",
          "type_info": "Varchar"
        }
      ],
      "parameters": {
        "Left": [
          "Name"
        ]
      },
      "nullable": [
        true,
        true,
        true,
        true,
        true,
        true,
        true,
        true,
        true,
        true,
        true,
        true
      ]
    }
  },
  "a03759e3d7230bf40f95045d32da6bf26fc2e2928a11f9fe236a67ee75caf349": {
    "query": "SELECT \"user\".recovery_phone_country_code as \"recovery_phone_country_code!\", \"user\".recovery_phone_number as \"recovery_phone_number!\" FROM \"user\" WHERE \"user\".id = $1 AND \"user\".recovery_phone_number IS NOT NULL AND \"user\".recovery_phone_country_code IS NOT NULL;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "recovery_phone_country_code!",
          "type_info": "Bpchar"
        },
        {
          "ordinal": 1,
          "name": "recovery_phone_number!",
          "type_info": "Varchar"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        true,
        true
      ]
    }
  },
  "a1ef5b3c2269453d465e5f47f7bd9a8d8e7cd237085cf1a59a4c55ddd093c269": {
    "query": "SELECT id as \"id: _\", cpu_count, memory_count FROM deployment_machine_type;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "cpu_count",
          "type_info": "Int2"
        },
        {
          "ordinal": 2,
          "name": "memory_count",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        false,
        false,
        false
      ]
    }
  },
  "a1fbca12fee638f4712ee6c0458d471e6978fbe3745de16d24c157b960491206": {
    "query": "DELETE FROM domain_tld WHERE tld = $1;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Text"
        ]
      },
      "nullable": []
    }
  },
  "a1fc8e20cc2b4dffb0496fe29468b2bc7854e5a263d88d255ffb74761062438e": {
    "query": "SELECT \"user\".id as \"id: Uuid\", \"user\".username, \"user\".password, \"user\".first_name, \"user\".last_name, \"user\".dob, \"user\".bio, \"user\".location, \"user\".created, \"user\".recovery_email_local, \"user\".recovery_email_domain_id as \"recovery_email_domain_id: Uuid\", \"user\".recovery_phone_country_code, \"user\".recovery_phone_number FROM \"user\" INNER JOIN workspace_user ON \"user\".id = workspace_user.user_id WHERE workspace_user.role_id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "username",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "password",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "first_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 4,
          "name": "last_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 5,
          "name": "dob",
          "type_info": "Int8"
        },
        {
          "ordinal": 6,
          "name": "bio",
          "type_info": "Varchar"
        },
        {
          "ordinal": 7,
          "name": "location",
          "type_info": "Varchar"
        },
        {
          "ordinal": 8,
          "name": "created",
          "type_info": "Int8"
        },
        {
          "ordinal": 9,
          "name": "recovery_email_local",
          "type_info": "Varchar"
        },
        {
          "ordinal": 10,
          "name": "recovery_email_domain_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 11,
          "name": "recovery_phone_country_code",
          "type_info": "Bpchar"
        },
        {
          "ordinal": 12,
          "name": "recovery_phone_number",
          "type_info": "Varchar"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        false,
        true,
        true,
        true,
        true
      ]
    }
  },
  "a3d44c2d7c66de013a3510d3f42bf75f60a71f34682522a2882471f9a1f4414e": {
    "query": "SELECT permission_id as \"permission_id: Uuid\", resource_type_id as \"resource_type_id: Uuid\" FROM role_permissions_resource_type WHERE role_id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "permission_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "resource_type_id: Uuid",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false
      ]
    }
  },
  "a4a2f1cf647e8612f0b461bc85e215e590fc186f0ef948c3d2c2786e7c7fd50f": {
    "query": "SELECT * FROM permission WHERE id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "description",
          "type_info": "Varchar"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false
      ]
    }
  },
  "a4d7d46ee8672dd1c3458c0b1bd4e80d52b4014ae600d5ee4c1f987d75743c52": {
    "query": "SELECT id as \"id!: _\", plan_id as \"plan_id!: _\", workspace_id as \"workspace_id!: _\", price as \"price!: _\", total_price as \"total_price!: _\", quantity, product_info_id as \"product_info_id!: _\", resource_id as \"resource_id!: _\", date as \"date!: _\", active FROM billable_service WHERE workspace_id = $1 AND date BETWEEN $2 AND $3 GROUP BY id, resource_id ORDER BY date ASC;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id!: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "plan_id!: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 2,
          "name": "workspace_id!: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "price!: _",
          "type_info": "Numeric"
        },
        {
          "ordinal": 4,
          "name": "total_price!: _",
          "type_info": "Numeric"
        },
        {
          "ordinal": 5,
          "name": "quantity",
          "type_info": "Int4"
        },
        {
          "ordinal": 6,
          "name": "product_info_id!: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 7,
          "name": "resource_id!: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 8,
          "name": "date!: _",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 9,
          "name": "active",
          "type_info": "Bool"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Timestamptz",
          "Timestamptz"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ]
    }
  },
  "a5198d9a132fc4f80202d5d1072a6684945fbc50f1c5dc9298f5a376acee0d5b": {
    "query": "CREATE TABLE IF NOT EXISTS coupons( id UUID CONSTRAINT coupons_pk PRIMARY KEY, name TEXT NOT NULL, description TEXT, credits DECIMAL(10, 2) NOT NULL, valid_from TIMESTAMPTZ NOT NULL, valid_till TIMESTAMPTZ NOT NULL );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "a52af9e8867c7460b1f9958bed22d9164e0e57977225a2c94d4fb0dad48b595f": {
    "query": "INSERT INTO role_permissions_resource( role_id, permission_id, resource_id ) VALUES ($1, $2, $3);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "a60068015a62e8d0b0a4dfacc331d2c73961b217f5f99baea143bcd26da64079": {
    "query": "INSERT INTO product_info( id, name, description ) VALUES( $1, 'managed_database', NULL );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "a69106420eb20523380486866b32d9b4d3c45c39b139274c4aeb9442bb823300": {
    "query": "SELECT COUNT(personal_email.domain_id) as \"count!: i64\" FROM personal_email WHERE personal_email.domain_id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "count!: i64",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        null
      ]
    }
  },
  "a6c83f5f64873b3dead96b6f5c799920469799db1d8ccd198cb92db5bcd9208e": {
    "query": "SELECT user_to_sign_up.username, user_to_sign_up.account_type as \"account_type: ResourceType\", user_to_sign_up.password, user_to_sign_up.first_name, user_to_sign_up.last_name, user_to_sign_up.recovery_email_local, user_to_sign_up.recovery_email_domain_id as \"recovery_email_domain_id: Uuid\", user_to_sign_up.recovery_phone_country_code, user_to_sign_up.recovery_phone_number, user_to_sign_up.business_email_local, CASE WHEN user_to_sign_up.business_domain_name IS NULL THEN NULL ELSE CONCAT( user_to_sign_up.business_domain_name, '.', user_to_sign_up.business_domain_tld ) END as \"business_domain_name: String\", user_to_sign_up.business_name, user_to_sign_up.otp_hash, user_to_sign_up.otp_expiry FROM user_to_sign_up INNER JOIN domain ON domain.id = user_to_sign_up.recovery_email_domain_id WHERE CONCAT( user_to_sign_up.recovery_email_local, '@', domain.name, '.', domain.tld ) = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "username",
          "type_info": "Varchar"
        },
        {
          "ordinal": 1,
          "name": "account_type: ResourceType",
          "type_info": {
            "Custom": {
              "name": "resource_owner_type",
              "kind": {
                "Enum": [
                  "personal",
                  "business"
                ]
              }
            }
          }
        },
        {
          "ordinal": 2,
          "name": "password",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "first_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 4,
          "name": "last_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 5,
          "name": "recovery_email_local",
          "type_info": "Varchar"
        },
        {
          "ordinal": 6,
          "name": "recovery_email_domain_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 7,
          "name": "recovery_phone_country_code",
          "type_info": "Bpchar"
        },
        {
          "ordinal": 8,
          "name": "recovery_phone_number",
          "type_info": "Varchar"
        },
        {
          "ordinal": 9,
          "name": "business_email_local",
          "type_info": "Varchar"
        },
        {
          "ordinal": 10,
          "name": "business_domain_name: String",
          "type_info": "Text"
        },
        {
          "ordinal": 11,
          "name": "business_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 12,
          "name": "otp_hash",
          "type_info": "Text"
        },
        {
          "ordinal": 13,
          "name": "otp_expiry",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        true,
        true,
        null,
        true,
        false,
        false
      ]
    }
  },
  "a780a4512b2ca58787f293e3033771d289cd7b0308573b4271865e3d63121215": {
    "query": "DELETE FROM password_reset_request WHERE user_id = $1;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "a79600e831f2627811e318ead3846bd3c9e716108c7f5cd66d94a87e22ab6c00": {
    "query": "CREATE TABLE IF NOT EXISTS transactions( id UUID CONSTRAINT transactions_pk PRIMARY KEY, billable_service_id UUID, product_info_id UUID NOT NULL, transaction_type TRANSACTION_TYPE NOT NULL, plan_id UUID, amount DECIMAL(10, 2) NOT NULL, quantity INTEGER NOT NULL, workspace_id UUID NOT NULL, date TIMESTAMPTZ NOT NULL, coupon_id UUID, debit bool NOT NULL );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "a7e2c73b0f02390e207b0895a89dcb37d7a6d6e5c09fb225f340d10b403b268e": {
    "query": "INSERT INTO deployment( id, name, registry, repository_id, image_name, image_tag, status, workspace_id, region, min_horizontal_scale, max_horizontal_scale, machine_type, deploy_on_push ) VALUES ( $1, $2, $3, NULL, $4, $5, 'created', $6, $7, $8, $9, $10, $11 );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          {
            "Custom": {
              "name": "citext",
              "kind": "Simple"
            }
          },
          "Varchar",
          "Varchar",
          "Varchar",
          "Uuid",
          "Uuid",
          "Int2",
          "Int2",
          "Uuid",
          "Bool"
        ]
      },
      "nullable": []
    }
  },
  "a8dfd8f6a56f4c8e30c8f2facf3152ae085c3d63656f3d161eba35171e601221": {
    "query": "ALTER TABLE transactions ADD CONSTRAINT transactions_fk_coupon_id FOREIGN KEY(coupon_id) REFERENCES coupons(id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "a8e8fb84578ff712e0eab063df8971552d9357e7b8af4c65115ff75f71bee8c9": {
    "query": "CREATE TABLE managed_url( id UUID CONSTRAINT managed_url_pk PRIMARY KEY, sub_domain TEXT NOT NULL CONSTRAINT managed_url_chk_sub_domain_valid CHECK( sub_domain ~ '^(([a-z0-9_]|[a-z0-9_][a-z0-9_\\-]*[a-z0-9_])\\.)*([a-z0-9_]|[a-z0-9_][a-z0-9_\\-]*[a-z0-9_])$' OR sub_domain = '@' OR sub_domain LIKE CONCAT( 'patr-deleted: ', REPLACE(id::TEXT, '-', ''), '@%' ) ), domain_id UUID NOT NULL, path TEXT NOT NULL, url_type MANAGED_URL_TYPE NOT NULL, deployment_id UUID, port INTEGER CONSTRAINT managed_url_chk_port_u16 CHECK( port > 0 AND port <= 65535 ), static_site_id UUID, url TEXT, workspace_id UUID NOT NULL, billable_service_id UUID NOT NULL, CONSTRAINT managed_url_uq_sub_domain_domain_id_path UNIQUE( sub_domain, domain_id, path ), CONSTRAINT managed_url_chk_values_null_or_not_null CHECK( ( url_type = 'proxy_to_deployment' AND deployment_id IS NOT NULL AND port IS NOT NULL AND static_site_id IS NULL AND url IS NULL ) OR ( url_type = 'proxy_to_static_site' AND deployment_id IS NULL AND port IS NULL AND static_site_id IS NOT NULL AND url IS NULL ) OR ( url_type = 'proxy_url' AND deployment_id IS NULL AND port IS NULL AND static_site_id IS NULL AND url IS NOT NULL ) OR ( url_type = 'redirect' AND deployment_id IS NULL AND port IS NULL AND static_site_id IS NULL AND url IS NOT NULL ) ) );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "a96073b72c29dee2028e0e62e6896f294cd6e6aae843c2de17db78b35b7a3a6c": {
    "query": "UPDATE deployment SET max_horizontal_scale = $1 WHERE id = $2;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int2",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "a989868983bf253bdd13f74c908e93274257d2fb39458d402bceb522fa2e63ca": {
    "query": "SELECT id as \"id: _\", name::TEXT as \"name!: _\", registry, repository_id as \"repository_id: _\", image_name, image_tag, status as \"status: _\", workspace_id as \"workspace_id: _\", region as \"region: _\", min_horizontal_scale, max_horizontal_scale, machine_type as \"machine_type: _\", deploy_on_push FROM deployment WHERE repository_id = $1 AND status != 'deleted';",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name!: _",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "registry",
          "type_info": "Varchar"
        },
        {
          "ordinal": 3,
          "name": "repository_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "image_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 5,
          "name": "image_tag",
          "type_info": "Varchar"
        },
        {
          "ordinal": 6,
          "name": "status: _",
          "type_info": {
            "Custom": {
              "name": "deployment_status",
              "kind": {
                "Enum": [
                  "created",
                  "pushed",
                  "deploying",
                  "running",
                  "stopped",
                  "errored",
                  "deleted"
                ]
              }
            }
          }
        },
        {
          "ordinal": 7,
          "name": "workspace_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 8,
          "name": "region: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 9,
          "name": "min_horizontal_scale",
          "type_info": "Int2"
        },
        {
          "ordinal": 10,
          "name": "max_horizontal_scale",
          "type_info": "Int2"
        },
        {
          "ordinal": 11,
          "name": "machine_type: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 12,
          "name": "deploy_on_push",
          "type_info": "Bool"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        null,
        false,
        true,
        true,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ]
    }
  },
  "a98cea2a8f8fc45db9251140e9bdedf0f23cfb31386c6a9ff0b4496068407532": {
    "query": "UPDATE docker_registry_repository SET name = $2 WHERE id = $1;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          {
            "Custom": {
              "name": "citext",
              "kind": "Simple"
            }
          }
        ]
      },
      "nullable": []
    }
  },
  "aa02302c781df12aec94b98737d6d284570ac6032aeb4222f2a08980a6c11e19": {
    "query": "SELECT workspace_audit_log.id as \"id: _\", date as \"date: _\", ip_address, workspace_id as \"workspace_id: _\", user_id as \"user_id: _\", login_id as \"login_id: _\", resource_id as \"resource_id: _\", permission.name as \"action\", request_id as \"request_id: _\", metadata as \"metadata: _\", patr_action as \"patr_action: _\", success FROM workspace_audit_log INNER JOIN permission ON permission.id = workspace_audit_log.action WHERE resource_id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "date: _",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 2,
          "name": "ip_address",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "workspace_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "user_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 5,
          "name": "login_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 6,
          "name": "resource_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 7,
          "name": "action",
          "type_info": "Varchar"
        },
        {
          "ordinal": 8,
          "name": "request_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 9,
          "name": "metadata: _",
          "type_info": "Json"
        },
        {
          "ordinal": 10,
          "name": "patr_action: _",
          "type_info": "Bool"
        },
        {
          "ordinal": 11,
          "name": "success",
          "type_info": "Bool"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        true,
        true,
        false,
        false,
        false,
        false,
        false,
        false
      ]
    }
  },
  "ac1034b956efa62c01ba79bff480479ba4614fa20e9fb63304173b92b3dbe01d": {
    "query": "CREATE EXTENSION IF NOT EXISTS citext;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "ae5e734931df8f580cb968e78ea108ff757eaca98000ef9c23b592b9c47cb6d7": {
    "query": "INSERT INTO resource_limits( id, workspace_id, max_resources ) VALUES( $1, $2, $3 );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid",
          "Int4"
        ]
      },
      "nullable": []
    }
  },
  "aec6e34747f88716757f9bda17cfea7cef75d08125220026cbea614587c05706": {
    "query": "SELECT id as \"id: _\", name::TEXT as \"name!: _\", db_name, engine as \"engine: _\", version, num_nodes, database_plan as \"database_plan: _\", region, status as \"status: _\", host, port, username, password, workspace_id as \"workspace_id: _\", digitalocean_db_id FROM managed_database WHERE workspace_id = $1 AND status != 'deleted';",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name!: _",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "db_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 3,
          "name": "engine: _",
          "type_info": {
            "Custom": {
              "name": "managed_database_engine",
              "kind": {
                "Enum": [
                  "postgres",
                  "mysql"
                ]
              }
            }
          }
        },
        {
          "ordinal": 4,
          "name": "version",
          "type_info": "Text"
        },
        {
          "ordinal": 5,
          "name": "num_nodes",
          "type_info": "Int4"
        },
        {
          "ordinal": 6,
          "name": "database_plan: _",
          "type_info": {
            "Custom": {
              "name": "managed_database_plan",
              "kind": {
                "Enum": [
                  "nano",
                  "micro",
                  "small",
                  "medium",
                  "large",
                  "xlarge",
                  "xxlarge",
                  "mammoth"
                ]
              }
            }
          }
        },
        {
          "ordinal": 7,
          "name": "region",
          "type_info": "Text"
        },
        {
          "ordinal": 8,
          "name": "status: _",
          "type_info": {
            "Custom": {
              "name": "managed_database_status",
              "kind": {
                "Enum": [
                  "creating",
                  "running",
                  "stopped",
                  "errored",
                  "deleted"
                ]
              }
            }
          }
        },
        {
          "ordinal": 9,
          "name": "host",
          "type_info": "Text"
        },
        {
          "ordinal": 10,
          "name": "port",
          "type_info": "Int4"
        },
        {
          "ordinal": 11,
          "name": "username",
          "type_info": "Text"
        },
        {
          "ordinal": 12,
          "name": "password",
          "type_info": "Text"
        },
        {
          "ordinal": 13,
          "name": "workspace_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 14,
          "name": "digitalocean_db_id",
          "type_info": "Text"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        null,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        true
      ]
    }
  },
  "af57b6e2b163068221fc77de6a45fffa44527b93a8a1232a795ef76db6474cbe": {
    "query": "SELECT id as \"id: _\", name::TEXT as \"name!: _\", registry, repository_id as \"repository_id: _\", image_name, image_tag, status as \"status: _\", workspace_id as \"workspace_id: _\", region as \"region: _\", min_horizontal_scale, max_horizontal_scale, machine_type as \"machine_type: _\", deploy_on_push FROM deployment WHERE name = $1 AND workspace_id = $2 AND status != 'deleted';",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name!: _",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "registry",
          "type_info": "Varchar"
        },
        {
          "ordinal": 3,
          "name": "repository_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "image_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 5,
          "name": "image_tag",
          "type_info": "Varchar"
        },
        {
          "ordinal": 6,
          "name": "status: _",
          "type_info": {
            "Custom": {
              "name": "deployment_status",
              "kind": {
                "Enum": [
                  "created",
                  "pushed",
                  "deploying",
                  "running",
                  "stopped",
                  "errored",
                  "deleted"
                ]
              }
            }
          }
        },
        {
          "ordinal": 7,
          "name": "workspace_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 8,
          "name": "region: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 9,
          "name": "min_horizontal_scale",
          "type_info": "Int2"
        },
        {
          "ordinal": 10,
          "name": "max_horizontal_scale",
          "type_info": "Int2"
        },
        {
          "ordinal": 11,
          "name": "machine_type: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 12,
          "name": "deploy_on_push",
          "type_info": "Bool"
        }
      ],
      "parameters": {
        "Left": [
          {
            "Custom": {
              "name": "citext",
              "kind": "Simple"
            }
          },
          "Uuid"
        ]
      },
      "nullable": [
        false,
        null,
        false,
        true,
        true,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ]
    }
  },
  "af58419038b2d4b4e66cc7589d6c0d065b04c7ed230ba38f6574742fbc11ca8f": {
    "query": "ALTER TABLE workspace ADD CONSTRAINT workspace_fk_id FOREIGN KEY(id) REFERENCES resource(id) DEFERRABLE INITIALLY IMMEDIATE;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "af8538d19990ba05694f31bf9aa35aea16c14002d1345052e1e853239e201b50": {
    "query": "INSERT INTO docker_registry_repository( id, workspace_id, name ) VALUES ($1, $2, $3);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid",
          {
            "Custom": {
              "name": "citext",
              "kind": "Simple"
            }
          }
        ]
      },
      "nullable": []
    }
  },
  "b2570af8ca7311aff26e71673f7b4a7e10881cc888e41a64b8b8dac482d0e992": {
    "query": "CREATE TABLE user_controlled_domain( domain_id UUID NOT NULL CONSTRAINT user_controlled_domain_pk PRIMARY KEY, nameserver_type DOMAIN_NAMESERVER_TYPE NOT NULL CONSTRAINT user_controlled_domain_chk_nameserver_type CHECK( nameserver_type = 'external' ), CONSTRAINT user_controlled_domain_fk_domain_id_nameserver_type FOREIGN KEY(domain_id, nameserver_type) REFERENCES workspace_domain(id, nameserver_type) );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "b27c7492facae59e77b6acd675066cf3db43c575caba338f48d0e8f9b2be98f0": {
    "query": "SELECT \"user\".id as \"id: Uuid\", \"user\".username, \"user\".password, \"user\".first_name, \"user\".last_name, \"user\".dob, \"user\".bio, \"user\".location, \"user\".created, \"user\".recovery_email_local, \"user\".recovery_email_domain_id as \"recovery_email_domain_id: Uuid\", \"user\".recovery_phone_country_code, \"user\".recovery_phone_number FROM \"user\" INNER JOIN user_phone_number ON \"user\".id = user_phone_number.user_id WHERE user_phone_number.country_code = $1 AND user_phone_number.number = $2;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "username",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "password",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "first_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 4,
          "name": "last_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 5,
          "name": "dob",
          "type_info": "Int8"
        },
        {
          "ordinal": 6,
          "name": "bio",
          "type_info": "Varchar"
        },
        {
          "ordinal": 7,
          "name": "location",
          "type_info": "Varchar"
        },
        {
          "ordinal": 8,
          "name": "created",
          "type_info": "Int8"
        },
        {
          "ordinal": 9,
          "name": "recovery_email_local",
          "type_info": "Varchar"
        },
        {
          "ordinal": 10,
          "name": "recovery_email_domain_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 11,
          "name": "recovery_phone_country_code",
          "type_info": "Bpchar"
        },
        {
          "ordinal": 12,
          "name": "recovery_phone_number",
          "type_info": "Varchar"
        }
      ],
      "parameters": {
        "Left": [
          "Bpchar",
          "Text"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        false,
        true,
        true,
        true,
        true
      ]
    }
  },
  "b27e78f8804b797ac37d45e828f0070405b23e9018b59ad40534b6fe8b853527": {
    "query": "UPDATE \"user\" SET password = $1 WHERE id = $2;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Text",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "b2b0dddb1d6ccc72898c82bdc5e6f99946bb2e03e66d5c104f879d3e03b7c18c": {
    "query": "CREATE INDEX workspace_user_idx_user_id_workspace_id ON workspace_user (user_id, workspace_id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "b2ec6147805201d988bbc47db9ca945fd6fd635c8e3db8f641dd5531e6382772": {
    "query": "INSERT INTO deployment_environment_variable( deployment_id, name, value, secret_id ) VALUES ($1, $2, $3, $4);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Varchar",
          "Text",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "b2fdf60a7346c285cacdc083afb3a525d7de1d09a3835bcb046d1eb32e5700e0": {
    "query": "UPDATE user_login SET token_expiry = $1, last_activity = $2 WHERE login_id = $3;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int8",
          "Int8",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "b47eedf97c7d77d6c60a68960460d37a161858459255a2a8d09b3a69d080b70f": {
    "query": "SELECT login_id as \"login_id: Uuid\", refresh_token, token_expiry, user_id as \"user_id: Uuid\", last_login, last_activity FROM user_login WHERE login_id = $1 AND user_id = $2;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "login_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "refresh_token",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "token_expiry",
          "type_info": "Int8"
        },
        {
          "ordinal": 3,
          "name": "user_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "last_login",
          "type_info": "Int8"
        },
        {
          "ordinal": 5,
          "name": "last_activity",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false
      ]
    }
  },
  "b4adc7f1228c69cf983d7c1cc8af1a7720a0a7df2d1ea9d2d9aa1a434e40782f": {
    "query": "SELECT login_id as \"login_id: Uuid\", refresh_token, token_expiry, user_id as \"user_id: Uuid\", last_login, last_activity FROM user_login WHERE login_id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "login_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "refresh_token",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "token_expiry",
          "type_info": "Int8"
        },
        {
          "ordinal": 3,
          "name": "user_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "last_login",
          "type_info": "Int8"
        },
        {
          "ordinal": 5,
          "name": "last_activity",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false
      ]
    }
  },
  "b4cd7c5ec0aa9697c059363c78cce958e5e8652370b603228b4f61201abcc79b": {
    "query": "ALTER TABLE billable_service ADD CONSTRAINT billable_service_fk_plan_id FOREIGN KEY(plan_id) REFERENCES plans(id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "b4d2a52eacd8db7502f452aa9fddab45bd6f171581cd217c99b32a1727cf2155": {
    "query": "SELECT workspace_id as \"workspace_id: Uuid\", role_id as \"role_id: Uuid\" FROM workspace_user WHERE user_id = $1 ORDER BY workspace_id;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "workspace_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "role_id: Uuid",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false
      ]
    }
  },
  "b6a58f88cc354cb36f6cb22af31c30cf0c25d1efb6bc4a4aeacc2d4bca4b1aff": {
    "query": "INSERT INTO managed_database( id, name, db_name, engine, version, num_nodes, database_plan, region, status, host, port, username, password, workspace_id, digitalocean_db_id ) VALUES ( $1, $2, $3, $4, $5, $6, $7, $8, 'creating', $9, $10, $11, $12, $13, $14 );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          {
            "Custom": {
              "name": "citext",
              "kind": "Simple"
            }
          },
          "Varchar",
          {
            "Custom": {
              "name": "managed_database_engine",
              "kind": {
                "Enum": [
                  "postgres",
                  "mysql"
                ]
              }
            }
          },
          "Text",
          "Int4",
          {
            "Custom": {
              "name": "managed_database_plan",
              "kind": {
                "Enum": [
                  "nano",
                  "micro",
                  "small",
                  "medium",
                  "large",
                  "xlarge",
                  "xxlarge",
                  "mammoth"
                ]
              }
            }
          },
          "Text",
          "Text",
          "Int4",
          "Text",
          "Text",
          "Uuid",
          "Text"
        ]
      },
      "nullable": []
    }
  },
  "b6f931178976c85e3bfe39217bbaf227a53a99af6f87bbca250d275fe02590c9": {
    "query": "ALTER TABLE deployment_static_site ADD CONSTRAINT deployment_static_site_fk_id_workspace_id FOREIGN KEY(id, workspace_id) REFERENCES resource(id, owner_id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "b79c1ad5a898a5fb9d24f0782c9f1990888899670a40f6d6bca7abc7161b4f67": {
    "query": "UPDATE workspace SET name = $1 WHERE id = $2;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          {
            "Custom": {
              "name": "citext",
              "kind": "Simple"
            }
          },
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "b7a2dc7d7d0fc0381be680ae1610ebee3aab01b7bf6a4a2365cd7a3f7c994a0e": {
    "query": "SELECT deployment.id as \"id: _\", deployment.name::TEXT as \"name!: _\", deployment.registry, deployment.repository_id as \"repository_id: _\", deployment.image_name, deployment.image_tag, deployment.status as \"status: _\", deployment.workspace_id as \"workspace_id: _\", deployment.region as \"region: _\", deployment.min_horizontal_scale, deployment.max_horizontal_scale, deployment.machine_type as \"machine_type: _\", deployment.deploy_on_push FROM deployment LEFT JOIN docker_registry_repository ON docker_registry_repository.id = deployment.repository_id WHERE ( ( deployment.registry = 'registry.patr.cloud' AND docker_registry_repository.name = $1 ) OR ( deployment.registry != 'registry.patr.cloud' AND deployment.image_name = $1 ) ) AND deployment.image_tag = $2 AND deployment.workspace_id = $3 AND deployment.status != 'deleted';",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name!: _",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "registry",
          "type_info": "Varchar"
        },
        {
          "ordinal": 3,
          "name": "repository_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "image_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 5,
          "name": "image_tag",
          "type_info": "Varchar"
        },
        {
          "ordinal": 6,
          "name": "status: _",
          "type_info": {
            "Custom": {
              "name": "deployment_status",
              "kind": {
                "Enum": [
                  "created",
                  "pushed",
                  "deploying",
                  "running",
                  "stopped",
                  "errored",
                  "deleted"
                ]
              }
            }
          }
        },
        {
          "ordinal": 7,
          "name": "workspace_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 8,
          "name": "region: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 9,
          "name": "min_horizontal_scale",
          "type_info": "Int2"
        },
        {
          "ordinal": 10,
          "name": "max_horizontal_scale",
          "type_info": "Int2"
        },
        {
          "ordinal": 11,
          "name": "machine_type: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 12,
          "name": "deploy_on_push",
          "type_info": "Bool"
        }
      ],
      "parameters": {
        "Left": [
          {
            "Custom": {
              "name": "citext",
              "kind": "Simple"
            }
          },
          "Text",
          "Uuid"
        ]
      },
      "nullable": [
        false,
        null,
        false,
        true,
        true,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ]
    }
  },
  "b80c3e5c6e1620ccee068d08214bc0c787967400a6a10f45c6065ba22bea4369": {
    "query": "SET CONSTRAINTS ALL DEFERRED;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "b9152ca043c03160c4d78ea054b408b083e9b10d0617b67443a71180265b3e79": {
    "query": "CREATE TYPE DEPLOYMENT_CLOUD_PROVIDER AS ENUM( 'digitalocean' );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "b9357a0670c6269e397b5c88dad2278ee579b678ff57c99f049d17026d2660a5": {
    "query": "DELETE FROM docker_registry_repository_manifest WHERE repository_id = $1 AND manifest_digest = $2;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      },
      "nullable": []
    }
  },
  "b9d97701e22c7948c38793c3124de8a5e0224d85d918ea202ecc90bb1236a829": {
    "query": "CREATE INDEX deployment_idx_name ON deployment (name);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "ba06b0883acb619408607baf49ebc888fcfab7f912c5360db611fce1a255a69e": {
    "query": "ALTER TABLE deployment ADD CONSTRAINT deployment_fk_id_workspace_id FOREIGN KEY(id, workspace_id) REFERENCES resource(id, owner_id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "ba9bd7a1dc576127a8132d0fbada1e9242c2b2b8441f29a131eed0537bbbdfc8": {
    "query": "SET CONSTRAINTS ALL IMMEDIATE;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "bb1465ae6d54d793b94cc0d96f56cd520c14744c0419f469245692b43069cb27": {
    "query": "SELECT user_unverified_personal_email.local, user_unverified_personal_email.domain_id as \"domain_id: Uuid\", user_unverified_personal_email.user_id as \"user_id: Uuid\", user_unverified_personal_email.verification_token_hash, user_unverified_personal_email.verification_token_expiry FROM user_unverified_personal_email INNER JOIN domain ON domain.id = user_unverified_personal_email.domain_id WHERE CONCAT(local, '@', domain.name, '.', domain.tld) = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "local",
          "type_info": "Varchar"
        },
        {
          "ordinal": 1,
          "name": "domain_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 2,
          "name": "user_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "verification_token_hash",
          "type_info": "Text"
        },
        {
          "ordinal": 4,
          "name": "verification_token_expiry",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false
      ]
    }
  },
  "bc2a8199b80587800609d11c4d851bbd00269a22dbf1756d9a29a2788bcc99b2": {
    "query": "CREATE TABLE IF NOT EXISTS billable_service( id UUID CONSTRAINT billable_service_pk PRIMARY KEY, plan_id UUID NOT NULL, workspace_id UUID NOT NULL, price DECIMAL(10, 2) NOT NULL, quantity INTEGER, product_info_id UUID NOT NULL, total_price DECIMAL(10, 2) NOT NULL GENERATED ALWAYS AS (price * quantity) STORED, resource_id UUID NOT NULL, date TIMESTAMPTZ NOT NULL, active BOOLEAN NOT NULL );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "bc99fb8fb755978abf04e2db1da08b6236b07afd722505bd031cbc1e6a1f281e": {
    "query": "CREATE INDEX user_to_sign_up_idx_username_otp_expiry ON user_to_sign_up (username, otp_expiry);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "bd587eb77417104191d600bee26bcebeefbb4b8686b14e226285479196d04cfc": {
    "query": "DELETE FROM docker_registry_repository_tag WHERE repository_id = $1 AND tag = $2;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      },
      "nullable": []
    }
  },
  "bd73926c46a303ad6d336a7586c5d3511a55bad99885d3aa77c7273a55f115cb": {
    "query": "DELETE FROM workspace_user WHERE workspace_id = $1 AND user_id = $2;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "bd8ba3216d930577a5a5c3b3094e7ca23e0585dc678c8357809b3a4ca616e493": {
    "query": "CREATE TABLE role( id UUID CONSTRAINT role_pk PRIMARY KEY, name VARCHAR(100) NOT NULL, description VARCHAR(500) NOT NULL, owner_id UUID NOT NULL CONSTRAINT role_fk_owner_id REFERENCES workspace(id), CONSTRAINT role_uq_name_owner_id UNIQUE(name, owner_id) );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "bdaeb51981c627273df25d9f429211412a10aecdf420ea483c71fa45c480a52f": {
    "query": "CREATE TYPE MANAGED_DATABASE_ENGINE AS ENUM( 'postgres', 'mysql' );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "be816fa44f70a6aed2285bf950575d5939a16b3d61d3009772afee9ad7a22cb3": {
    "query": "UPDATE managed_database SET name = $1 WHERE id = $2;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          {
            "Custom": {
              "name": "citext",
              "kind": "Simple"
            }
          },
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "bebad8da7ad05f98982fc15d30b40dd1b6f22d5841e7e9e4cc80b4ed25baddda": {
    "query": "ALTER TABLE billable_service ADD CONSTRAINT billable_service_fk_workspace_id FOREIGN KEY(workspace_id) REFERENCES workspace(id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "bfe39187b7925d9987415d6f1430adb8ea31e32dbbf15528aaebf81923e1d1fe": {
    "query": "CREATE TABLE user_login( login_id UUID CONSTRAINT user_login_uq_login_id UNIQUE, refresh_token TEXT NOT NULL, token_expiry BIGINT NOT NULL CONSTRAINT user_login_chk_token_expiry_unsigned CHECK(token_expiry >= 0), user_id UUID NOT NULL CONSTRAINT user_login_fk_user_id REFERENCES \"user\"(id), last_login BIGINT NOT NULL CONSTRAINT user_login_chk_last_login_unsigned CHECK(last_login >= 0), last_activity BIGINT NOT NULL CONSTRAINT user_login_chk_last_activity_unsigned CHECK(last_activity >= 0), CONSTRAINT user_login_pk PRIMARY KEY(login_id, user_id) );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "c15c9714352f98ccb6ae73eb80f523db23e3f5381f3cb368ddac0743bfae3dcf": {
    "query": "ALTER TABLE secret ADD CONSTRAINT secret_fk_id_workspace_id FOREIGN KEY(id, workspace_id) REFERENCES resource(id, owner_id), ADD CONSTRAINT secret_fk_deployment_id_workspace_id FOREIGN KEY(deployment_id, workspace_id) REFERENCES deployment(id, workspace_id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "c180b978103f1031db5e33d8f79a76b78ab4c8263e34b87429454729f3f65574": {
    "query": "CREATE TABLE secret( id UUID CONSTRAINT secret_pk PRIMARY KEY, name CITEXT NOT NULL CONSTRAINT secret_chk_name_is_trimmed CHECK(name = TRIM(name)), workspace_id UUID NOT NULL, deployment_id UUID, /* For deployment specific secrets */ billable_service_id UUID NOT NULL, CONSTRAINT secret_uq_workspace_id_name UNIQUE(workspace_id, name) );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "c4926f8d59dc7bc4e9ee1f2472a6362d47d65337c1644b6a0487cd9318d28d11": {
    "query": "SELECT COUNT(*) as \"count!\" FROM \"user\" WHERE id NOT IN ( '543de4f5808f4a99b2ee96dbdf9afff7', 'b4560e9530904195a0999c6d26aa9c29' );",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "count!",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        null
      ]
    }
  },
  "c4a24e5e84f7aa51cfc9b0d141b33166bcd84a9a51c2a2a9f2d2f355e5142cc9": {
    "query": "ALTER TABLE plans ADD CONSTRAINT plans_fk_product_info_id FOREIGN KEY(product_info_id) REFERENCES product_info(id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "c63f519c5d32fe99b3bb2af905aa792cf428326adbe651dd0a5340fef8b0de59": {
    "query": "ALTER TABLE product_limits ADD CONSTRAINT resource_usage_fk_product_id FOREIGN KEY(product_info_id) REFERENCES product_info(id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "c7266afd5fc274fcd6c5dd97631ce514cbdbcbe541c6f29c797e64cea66ddc09": {
    "query": "SELECT id as \"id: _\", name, description, owner_id as \"owner_id: _\" FROM role WHERE id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "description",
          "type_info": "Varchar"
        },
        {
          "ordinal": 3,
          "name": "owner_id: _",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false
      ]
    }
  },
  "c7726ad0cf307f6f0f8e321f914f7caeafbed517d7c3968ed3f17ee82803a720": {
    "query": "UPDATE patr_domain_dns_record SET value = $1, priority = $2, ttl = $3, proxied = $4 WHERE id = $5;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Text",
          "Int4",
          "Int8",
          "Bool",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "c85ba2e71aa616c9e90edb0b918f4fe19c6238472bd9c1bd9de2228ff97a6507": {
    "query": "ALTER TABLE transactions ADD CONSTRAINT transactions_fk_plan_id FOREIGN KEY(plan_id) REFERENCES plans(id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "ca172f25b92c70c88424a28b0465e8bd0a4fa1314638145cee558619107699b6": {
    "query": "ALTER TABLE plans ADD CONSTRAINT plans_fk_workspace_id FOREIGN KEY(workspace_id) REFERENCES workspace(id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "ca60cc0ae9e218485ef43ac8e8dd496780f22f180cc579029c623628421fd26e": {
    "query": "CREATE INDEX workspace_user_idx_user_id ON workspace_user (user_id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "cc5052043d15b31259977b31b0cc857411b204b64180714e0db89cffcb68fe46": {
    "query": "UPDATE \"user\" SET dob = $1 WHERE id = $2;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int8",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "ccc93737f12e7c7896c398ca731b6b65e363870b91023afedb1bca631f446676": {
    "query": "CREATE TABLE deployment_static_site( id UUID CONSTRAINT deployment_static_site_pk PRIMARY KEY, name CITEXT NOT NULL CONSTRAINT deployment_static_site_chk_name_is_trimmed CHECK( name = TRIM(name) ), status DEPLOYMENT_STATUS NOT NULL DEFAULT 'created', workspace_id UUID NOT NULL, billable_service_id UUID NOT NULL, CONSTRAINT deployment_static_site_uq_name_workspace_id UNIQUE(name, workspace_id), CONSTRAINT deployment_static_site_uq_id_workspace_id UNIQUE(id, workspace_id) );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "cdb7e6beee050fd108b0b8966a75045b383014f735c26cf1fd17e0cd0ecb0a60": {
    "query": "SELECT CONCAT(domain.name, '.', domain.tld) as \"name!\", personal_domain.id as \"id: _\", personal_domain.domain_type as \"domain_type: _\" FROM personal_domain INNER JOIN domain ON domain.id = personal_domain.id WHERE domain.id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "name!",
          "type_info": "Text"
        },
        {
          "ordinal": 1,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 2,
          "name": "domain_type: _",
          "type_info": {
            "Custom": {
              "name": "resource_owner_type",
              "kind": {
                "Enum": [
                  "personal",
                  "business"
                ]
              }
            }
          }
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        null,
        false,
        false
      ]
    }
  },
  "ce5f94c07e5c7f5f624f8f47a1d02c75ed66c92eb9b8b32fcc05c107f9e1ad0f": {
    "query": "CREATE TABLE patr_domain_dns_record( id UUID CONSTRAINT patr_domain_dns_record_pk PRIMARY KEY, record_identifier TEXT NOT NULL, domain_id UUID NOT NULL, name TEXT NOT NULL CONSTRAINT patr_domain_dns_record_chk_name_is_valid CHECK( name ~ '^(\\*)|((\\*\\.)?(([a-z0-9_]|[a-z0-9_][a-z0-9_\\-]*[a-z0-9_])\\.)*([a-z0-9_]|[a-z0-9_][a-z0-9_\\-]*[a-z0-9_]))$' OR name = '@' ), type DNS_RECORD_TYPE NOT NULL, value TEXT NOT NULL, priority INTEGER, ttl BIGINT NOT NULL, proxied BOOLEAN, CONSTRAINT patr_domain_dns_record_fk_domain_id FOREIGN KEY(domain_id) REFERENCES patr_controlled_domain(domain_id), CONSTRAINT patr_domain_dns_record_chk_values_valid CHECK( ( type = 'MX' AND priority IS NOT NULL ) OR ( type != 'MX' AND priority IS NULL ) ), CONSTRAINT patr_domain_dns_record_uq_domain_id_name_type_value_priority UNIQUE(domain_id, name, type, value, priority), CONSTRAINT patr_domain_dns_record_chk_proxied_is_valid CHECK( ( (type = 'A' OR type = 'AAAA' OR type = 'CNAME') AND proxied IS NOT NULL ) OR ( (type = 'MX' OR type = 'TXT') AND proxied IS NULL ) ) );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "cfe90f397141fe6f605a54f2036a466cb0b5bc000b7ad716e6d271980d91dfe8": {
    "query": "DELETE FROM patr_domain_dns_record WHERE id = $1;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "d21b6af715a0c00968cd488473f5d7c0fc8f9d5836abc6594499a6ac2db2e068": {
    "query": "INSERT INTO domain( id, name, type, tld ) VALUES ($1, $2, $3, $4);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          {
            "Custom": {
              "name": "resource_owner_type",
              "kind": {
                "Enum": [
                  "personal",
                  "business"
                ]
              }
            }
          },
          "Text"
        ]
      },
      "nullable": []
    }
  },
  "d2ca892138dda0bf1f349785a946da0be3f47a06a3f22ffdd6c7607299ee9fb0": {
    "query": "SELECT tag, last_updated, manifest_digest FROM docker_registry_repository_tag WHERE repository_id = $1 AND tag = $2;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "tag",
          "type_info": "Text"
        },
        {
          "ordinal": 1,
          "name": "last_updated",
          "type_info": "Int8"
        },
        {
          "ordinal": 2,
          "name": "manifest_digest",
          "type_info": "Text"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      },
      "nullable": [
        false,
        false,
        false
      ]
    }
  },
  "d2d2afb54f76f4581c1a6bfd2624638a8672f7e95b3d30380a29be5df646f03e": {
    "query": "CREATE TABLE IF NOT EXISTS resource_limits( id UUID CONSTRAINT resource_limits_pk PRIMARY KEY, workspace_id UUID NOT NULL, max_resources INTEGER NOT NULL );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "d31e042455aadb2911ee70501e4a127ffc28ab73f646f9bf61d9e350660e86d7": {
    "query": "SELECT DISTINCT workspace.id as \"id: _\", workspace.name::TEXT as \"name!: _\", workspace.super_admin_id as \"super_admin_id: _\", workspace.active, alert_emails as \"alert_emails!: _\" FROM workspace WHERE workspace.name NOT LIKE CONCAT( 'patr-deleted: ', REPLACE(id::TEXT, '-', ''), '@%' );",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name!: _",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "super_admin_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "active",
          "type_info": "Bool"
        },
        {
          "ordinal": 4,
          "name": "alert_emails!: _",
          "type_info": "VarcharArray"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        false,
        null,
        false,
        false,
        false
      ]
    }
  },
  "d4ed2819af0081d7d85c9f76f873a58d0745c6f7715110f9189859f4301b40f4": {
    "query": "SELECT * FROM billable_service WHERE id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "plan_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 2,
          "name": "workspace_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "price",
          "type_info": "Numeric"
        },
        {
          "ordinal": 4,
          "name": "quantity",
          "type_info": "Int4"
        },
        {
          "ordinal": 5,
          "name": "product_info_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 6,
          "name": "total_price",
          "type_info": "Numeric"
        },
        {
          "ordinal": 7,
          "name": "resource_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 8,
          "name": "date",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 9,
          "name": "active",
          "type_info": "Bool"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ]
    }
  },
  "d513b0c8950ab92cb26b919d4611b976d25c5a4c7ff14db6bee61cf348d58704": {
    "query": "SELECT DISTINCT ( CASE WHEN LOWER(\"user\".username) = LOWER($1) THEN 100 /* Exact username */ WHEN COALESCE( CASE WHEN personal_email.local IS NOT NULL THEN LOWER(CONCAT( personal_email.local, '@', domain.name, domain.tld )) ELSE NULL END, CASE WHEN business_email.local IS NOT NULL THEN LOWER(CONCAT( business_email.local, '@', domain.name, domain.tld )) ELSE NULL END ) = LOWER($1) THEN 100 /* Exact email */ WHEN CONCAT( '+', phone_number_country_code.phone_code, user_phone_number.number ) = $1 THEN 100 /* Exact phone number */ WHEN user_phone_number.number = $1 THEN 90 /* Just the phone alone */ WHEN LOWER(CONCAT( \"user\".first_name, ' ', \"user\".last_name )) = LOWER($1) THEN 90 /* firstName lastName */ WHEN LOWER(CONCAT( \"user\".last_name, ' ', \"user\".first_name )) = LOWER($1) THEN 90 /* lastName firstName */ WHEN LOWER(\"user\".first_name) = LOWER($1) THEN 80 /* Only first name */ WHEN LOWER(\"user\".last_name) = LOWER($1) THEN 80 /* Only last name */ /* If you search for a part of their username */ WHEN STARTS_WITH( LOWER(\"user\".username), SUBSTR(LOWER($1), 0, LENGTH(\"user\".username)) ) THEN ( 70 + ( LENGTH($1)::REAL / LENGTH(\"user\".username)::REAL ) * 20 ) /* If you search for a part of their name */ WHEN STARTS_WITH( LOWER(CONCAT(\"user\".first_name, ' ', \"user\".last_name)), SUBSTR( LOWER($1), 0, LENGTH(CONCAT(\"user\".first_name, ' ', \"user\".last_name)) ) ) THEN ( 70 + ( LENGTH($1)::REAL / LENGTH(CONCAT(\"user\".first_name, ' ', \"user\".last_name))::REAL ) * 20 ) /* If you search for a part of their name reversed */ WHEN STARTS_WITH( LOWER(CONCAT(\"user\".last_name, ' ', \"user\".first_name)), SUBSTR( LOWER($1), 0, LENGTH(CONCAT(\"user\".last_name, ' ', \"user\".first_name)) ) ) THEN ( 70 + ( LENGTH($1)::REAL / LENGTH(CONCAT(\"user\".last_name, ' ', \"user\".first_name))::REAL ) * 20 ) ELSE 0 END ) AS \"score\", \"user\".id as \"id!: Uuid\", \"user\".username as \"username!\", \"user\".first_name as \"first_name!\", \"user\".last_name as \"last_name!\", \"user\".bio as \"bio\", \"user\".location as \"location\" FROM \"user\" LEFT JOIN personal_email ON \"user\".id = personal_email.user_id LEFT JOIN business_email ON \"user\".id = personal_email.user_id LEFT JOIN domain ON domain.id = personal_email.domain_id OR domain.id = business_email.domain_id LEFT JOIN user_phone_number ON \"user\".id = user_phone_number.user_id LEFT JOIN phone_number_country_code ON user_phone_number.country_code = phone_number_country_code.country_code WHERE ( CASE WHEN LOWER(\"user\".username) = LOWER($1) THEN 100 /* Exact username */ WHEN COALESCE( CASE WHEN personal_email.local IS NOT NULL THEN LOWER(CONCAT( personal_email.local, '@', domain.name, domain.tld )) ELSE NULL END, CASE WHEN business_email.local IS NOT NULL THEN LOWER(CONCAT( business_email.local, '@', domain.name, domain.tld )) ELSE NULL END ) = LOWER($1) THEN 100 /* Exact email */ WHEN CONCAT( '+', phone_number_country_code.phone_code, user_phone_number.number ) = $1 THEN 100 /* Exact phone number */ WHEN user_phone_number.number = $1 THEN 90 /* Just the phone alone */ WHEN LOWER(CONCAT( \"user\".first_name, ' ', \"user\".last_name )) = LOWER($1) THEN 90 /* firstName lastName */ WHEN LOWER(CONCAT( \"user\".last_name, ' ', \"user\".first_name )) = LOWER($1) THEN 90 /* lastName firstName */ WHEN LOWER(\"user\".first_name) = LOWER($1) THEN 80 /* Only first name */ WHEN LOWER(\"user\".last_name) = LOWER($1) THEN 80 /* Only last name */ /* If you search for a part of their username */ WHEN STARTS_WITH( LOWER(\"user\".username), SUBSTR(LOWER($1), 0, LENGTH(\"user\".username)) ) THEN ( 70 + ( LENGTH($1)::REAL / LENGTH(\"user\".username)::REAL ) * 20 ) /* If you search for a part of their name */ WHEN STARTS_WITH( LOWER(CONCAT(\"user\".first_name, ' ', \"user\".last_name)), SUBSTR( LOWER($1), 0, LENGTH(CONCAT(\"user\".first_name, ' ', \"user\".last_name)) ) ) THEN ( 70 + ( LENGTH($1)::REAL / LENGTH(CONCAT(\"user\".first_name, ' ', \"user\".last_name))::REAL ) * 20 ) /* If you search for a part of their name reversed */ WHEN STARTS_WITH( LOWER(CONCAT(\"user\".last_name, ' ', \"user\".first_name)), SUBSTR( LOWER($1), 0, LENGTH(CONCAT(\"user\".last_name, ' ', \"user\".first_name)) ) ) THEN ( 70 + ( LENGTH($1)::REAL / LENGTH(CONCAT(\"user\".last_name, ' ', \"user\".first_name))::REAL ) * 20 ) ELSE 0 END ) > 0 ORDER BY 1 DESC LIMIT 10;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "score",
          "type_info": "Float8"
        },
        {
          "ordinal": 1,
          "name": "id!: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 2,
          "name": "username!",
          "type_info": "Varchar"
        },
        {
          "ordinal": 3,
          "name": "first_name!",
          "type_info": "Varchar"
        },
        {
          "ordinal": 4,
          "name": "last_name!",
          "type_info": "Varchar"
        },
        {
          "ordinal": 5,
          "name": "bio",
          "type_info": "Varchar"
        },
        {
          "ordinal": 6,
          "name": "location",
          "type_info": "Varchar"
        }
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      },
      "nullable": [
        null,
        false,
        false,
        false,
        false,
        true,
        true
      ]
    }
  },
  "d7547e8a9cba4b11e5c2cc4558ea436d609f0c4cdf65c06c70cf4f300e2dafce": {
    "query": "UPDATE domain SET name = $1 WHERE id = $2;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Text",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "d79988d4260a269130ee6b5a02f6b937e5f01652e3e25cddf8590f3373bd5b14": {
    "query": "SELECT COUNT(*) as \"count\" FROM managed_url WHERE domain_id = $1 AND sub_domain NOT LIKE CONCAT( 'patr-deleted: ', REPLACE(id::TEXT, '-', ''), '@%' );",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "count",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        null
      ]
    }
  },
  "d855be524f5d626e1d40358b55e487b367473da4728a18242664950c5c44b244": {
    "query": "CREATE INDEX workspace_domain_idx_is_verified ON workspace_domain (is_verified);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "d8561b79d923e7eb13f8200ef234e40df7f8ff60b0a56623231cd801914a12ae": {
    "query": "CREATE INDEX workspace_idx_super_admin_id ON workspace (super_admin_id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "d9ab542f26064cd3798be53f2c1c85e109ef352cbd69f38ada8f317426cd404c": {
    "query": "UPDATE managed_url SET sub_domain = $2 WHERE id = $1;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      },
      "nullable": []
    }
  },
  "da3901cb1079f58c9b722ee678e97e05baa99e5ee5747e51b084a3c1a60063d7": {
    "query": "ALTER TABLE \"user\" ADD CONSTRAINT user_fk_id_recovery_phone_country_code_recovery_phone_number FOREIGN KEY( id, recovery_phone_country_code, recovery_phone_number ) REFERENCES user_phone_number( user_id, country_code, number ) DEFERRABLE INITIALLY IMMEDIATE;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "da3a2a4c83ec7e8493498fd89100204a9e32d02efd05ed9a75da9783998eb39e": {
    "query": "CREATE TABLE docker_registry_repository_tag( repository_id UUID NOT NULL CONSTRAINT docker_registry_repository_tag_fk_repository_id REFERENCES docker_registry_repository(id), tag TEXT NOT NULL, manifest_digest TEXT NOT NULL, last_updated BIGINT NOT NULL CONSTRAINT docker_registry_repository_tag_chk_last_updated_unsigned CHECK( last_updated >= 0 ), CONSTRAINT docker_registry_repository_tag_pk PRIMARY KEY( repository_id, tag ), CONSTRAINT docker_registry_repository_tag_fk_repository_id_manifest_digest FOREIGN KEY(repository_id, manifest_digest) REFERENCES docker_registry_repository_manifest( repository_id, manifest_digest ) );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "dab23d78e0ba9567afd34a9031448f5194db35d038560f9f9dfb01bf3a16607d": {
    "query": "CREATE TABLE IF NOT EXISTS product_limits( id UUID CONSTRAINT resource_usage_pk PRIMARY KEY, product_info_id UUID NOT NULL, max_limit INTEGER NOT NULL, workspace_id UUID NOT NULL );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "dc01aa3c8fa8fce5d3f7bb6096dbb5e6ebdc0038b54d3e281b7e0f8aa50c8bf2": {
    "query": "INSERT INTO user_to_sign_up( username, account_type, password, first_name, last_name, recovery_email_local, recovery_email_domain_id, recovery_phone_country_code, recovery_phone_number, business_email_local, business_domain_name, business_domain_tld, business_name, otp_hash, otp_expiry ) VALUES ( $1, 'personal', $2, $3, $4, $5, $6, $7, $8, NULL, NULL, NULL, NULL, $9, $10 ) ON CONFLICT(username) DO UPDATE SET account_type = 'personal', password = EXCLUDED.password, first_name = EXCLUDED.first_name, last_name = EXCLUDED.last_name, recovery_email_local = EXCLUDED.recovery_email_local, recovery_email_domain_id = EXCLUDED.recovery_email_domain_id, recovery_phone_country_code = EXCLUDED.recovery_phone_country_code, recovery_phone_number = EXCLUDED.recovery_phone_number, business_email_local = NULL, business_domain_name = NULL, business_name = NULL, otp_hash = EXCLUDED.otp_hash, otp_expiry = EXCLUDED.otp_expiry;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Varchar",
          "Text",
          "Varchar",
          "Varchar",
          "Varchar",
          "Uuid",
          "Bpchar",
          "Varchar",
          "Text",
          "Int8"
        ]
      },
      "nullable": []
    }
  },
  "dca6992cc85f4d617680b1e89577f622f75a94f85adbe7e5142eb8b056e115b2": {
    "query": "UPDATE deployment SET name = $1 WHERE id = $2;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          {
            "Custom": {
              "name": "citext",
              "kind": "Simple"
            }
          },
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "dca7ef80973e51ffe78bd9f717ae1cbcd73aaf19b3530b322a77c9d39edf26fb": {
    "query": "CREATE TYPE MANAGED_DATABASE_PLAN AS ENUM( 'nano', 'micro', 'small', 'medium', 'large', 'xlarge', 'xxlarge', 'mammoth' );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "dcef80ed1c70d96c83c8496ab1c60acffcd05a39359b6731c1b7f74d7f3ae413": {
    "query": "SELECT id as \"id: _\", name::TEXT as \"name!: _\", status as \"status: _\", workspace_id as \"workspace_id: _\" FROM deployment_static_site WHERE id = $1 AND status != 'deleted';",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name!: _",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "status: _",
          "type_info": {
            "Custom": {
              "name": "deployment_status",
              "kind": {
                "Enum": [
                  "created",
                  "pushed",
                  "deploying",
                  "running",
                  "stopped",
                  "errored",
                  "deleted"
                ]
              }
            }
          }
        },
        {
          "ordinal": 3,
          "name": "workspace_id: _",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        null,
        false,
        false
      ]
    }
  },
  "dd227e4051b6f768477c66b2ddfa2617832787a776c1f3e9b7fc1a23ed45ddd4": {
    "query": "SELECT tag, manifest_digest, last_updated FROM docker_registry_repository_tag WHERE repository_id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "tag",
          "type_info": "Text"
        },
        {
          "ordinal": 1,
          "name": "manifest_digest",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "last_updated",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false
      ]
    }
  },
  "dd7882d7a050b27d0474f90e0b4335e7b604155c424347a65123b56a2379284d": {
    "query": "SELECT domain_id as \"domain_id: _\", zone_identifier, nameserver_type as \"nameserver_type: _\" FROM patr_controlled_domain WHERE domain_id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "domain_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "zone_identifier",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "nameserver_type: _",
          "type_info": {
            "Custom": {
              "name": "domain_nameserver_type",
              "kind": {
                "Enum": [
                  "internal",
                  "external"
                ]
              }
            }
          }
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false
      ]
    }
  },
  "ddf2963936615eb58225ace43d720c4c708e1abced58c94dc7a8d9b83c0f6321": {
    "query": "DELETE FROM workspace_user WHERE role_id = $1;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "de0673783e6b65ee28f606101d11b381d4fa95420a98cee993cf6046d0d5c2b3": {
    "query": "ALTER TABLE transactions ADD CONSTRAINT transactions_fk_billable_service_id FOREIGN KEY(billable_service_id) REFERENCES billable_service(id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "de12e543a9f993ad9a1447727751b91934fb2ecc191d4c9491205d05c88b1987": {
    "query": "INSERT INTO patr_domain_dns_record( id, record_identifier, domain_id, name, type, value, priority, ttl, proxied ) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Uuid",
          "Text",
          {
            "Custom": {
              "name": "dns_record_type",
              "kind": {
                "Enum": [
                  "A",
                  "MX",
                  "TXT",
                  "AAAA",
                  "CNAME"
                ]
              }
            }
          },
          "Text",
          "Int4",
          "Int8",
          "Bool"
        ]
      },
      "nullable": []
    }
  },
  "de52e22ada9f97bf2ba83615fd4a10e00069984fe10de0ffc5c6d36fd1d4e121": {
    "query": "UPDATE role SET description = $1 WHERE id = $2;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Varchar",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "de74ae7f29c027a8f87b7ddea32144fd590d3e4591e17fdc8f5fc80afcf1f299": {
    "query": "ALTER TABLE docker_registry_repository ADD CONSTRAINT docker_registry_repository_fk_id_workspace_id FOREIGN KEY(id, workspace_id) REFERENCES resource(id, owner_id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "deeb5ac6620a16041f76fdbc16d40d8d468d5275d16c74a22d684ab79215a599": {
    "query": "INSERT INTO workspace_user( user_id, workspace_id, role_id ) VALUES ($1, $2, $3);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "df168dc51dc8a4cdaa40d09b1efb644e0c3637bfb0eb4072a1cf9895b5cbea56": {
    "query": "DELETE FROM deployment_exposed_port WHERE deployment_id = $1;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "df36e2ceaf21f2d013406c873646c95c106b64e49665f309738b14201df9ec56": {
    "query": "CREATE INDEX user_login_idx_user_id ON user_login (user_id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "e00ba20ea9ff654465b2212550e00cfd2af001338161b3003005ab81b3ca834e": {
    "query": "SELECT id as \"id: _\", name, description, owner_id as \"owner_id: _\" FROM role WHERE owner_id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "description",
          "type_info": "Varchar"
        },
        {
          "ordinal": 3,
          "name": "owner_id: _",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false
      ]
    }
  },
  "e0483ad0957901acf91c91901e95054e0e304005e200389d90605191f4c33297": {
    "query": "SELECT \"user\".id as \"id: Uuid\", \"user\".username, \"user\".password, \"user\".first_name, \"user\".last_name, \"user\".dob, \"user\".bio, \"user\".location, \"user\".created, \"user\".recovery_email_local, \"user\".recovery_email_domain_id as \"recovery_email_domain_id: Uuid\", \"user\".recovery_phone_country_code, \"user\".recovery_phone_number FROM \"user\" WHERE username = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "username",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "password",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "first_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 4,
          "name": "last_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 5,
          "name": "dob",
          "type_info": "Int8"
        },
        {
          "ordinal": 6,
          "name": "bio",
          "type_info": "Varchar"
        },
        {
          "ordinal": 7,
          "name": "location",
          "type_info": "Varchar"
        },
        {
          "ordinal": 8,
          "name": "created",
          "type_info": "Int8"
        },
        {
          "ordinal": 9,
          "name": "recovery_email_local",
          "type_info": "Varchar"
        },
        {
          "ordinal": 10,
          "name": "recovery_email_domain_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 11,
          "name": "recovery_phone_country_code",
          "type_info": "Bpchar"
        },
        {
          "ordinal": 12,
          "name": "recovery_phone_number",
          "type_info": "Varchar"
        }
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        false,
        true,
        true,
        true,
        true
      ]
    }
  },
  "e2e4acb7753330bf806aae68b144fa483eb41b7c18cb10b1812164daa8e3326c": {
    "query": "INSERT INTO deployment_static_site( id, name, status, workspace_id ) VALUES ($1, $2, 'created', $3);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          {
            "Custom": {
              "name": "citext",
              "kind": "Simple"
            }
          },
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "e313defa3d63bb79a1b84bbac09a430197050238b4076f03a1d8b90f0788f769": {
    "query": "DELETE FROM domain WHERE id = $1;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "e35ed129acf987dfdfc82522eca202c00f16058bf9b0e385f50a6028f38a6adb": {
    "query": "UPDATE user_login SET token_expiry = 0 WHERE login_id = $1 AND user_id = $2;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "e44c154107c5fb3d88b9c38b24ac19303760e8d8fde96510bb66ea9932b29e22": {
    "query": "SELECT patr_domain_dns_record.id as \"id: _\", patr_domain_dns_record.record_identifier, patr_domain_dns_record.domain_id as \"domain_id: _\", patr_domain_dns_record.name, patr_domain_dns_record.type as \"type: _\", patr_domain_dns_record.value, patr_domain_dns_record.priority, patr_domain_dns_record.ttl, patr_domain_dns_record.proxied FROM patr_domain_dns_record INNER JOIN domain ON patr_domain_dns_record.domain_id = domain.id WHERE patr_domain_dns_record.domain_id = $1 AND domain.name NOT LIKE CONCAT( 'patr-deleted: ', REPLACE(domain.id::TEXT, '-', ''), '@%' );",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "record_identifier",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "domain_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "name",
          "type_info": "Text"
        },
        {
          "ordinal": 4,
          "name": "type: _",
          "type_info": {
            "Custom": {
              "name": "dns_record_type",
              "kind": {
                "Enum": [
                  "A",
                  "MX",
                  "TXT",
                  "AAAA",
                  "CNAME"
                ]
              }
            }
          }
        },
        {
          "ordinal": 5,
          "name": "value",
          "type_info": "Text"
        },
        {
          "ordinal": 6,
          "name": "priority",
          "type_info": "Int4"
        },
        {
          "ordinal": 7,
          "name": "ttl",
          "type_info": "Int8"
        },
        {
          "ordinal": 8,
          "name": "proxied",
          "type_info": "Bool"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        true,
        false,
        true
      ]
    }
  },
  "e4da62562248c46439c9285481284e78e954768560148316c2e3b966e823b301": {
    "query": "SELECT id as \"id!: _\", name, description FROM product_info WHERE name = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id!: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "description",
          "type_info": "Text"
        }
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      },
      "nullable": [
        false,
        false,
        true
      ]
    }
  },
  "e5d15755b015b3c4f87308a59c8c625ad75a29974645d8e24875d8daa1919901": {
    "query": "DELETE FROM docker_registry_repository_tag WHERE repository_id = $1;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "e5d233b92842b5df4ca53691603249534d9ebc5cb5e42494e9233072e889d056": {
    "query": "CREATE TYPE TRANSACTION_TYPE AS ENUM( 'one_time', 'fixed_monthly', 'dynamic_monthly' /* 'fixed_annually', */ /* 'dynamic_annually', */ /* 'fixed_resources', */ );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "e612e850c570bbc931e8a3fcbd7b87c54257d739d9a4a3dfbd367961edea354b": {
    "query": "UPDATE \"user\" SET first_name = $1 WHERE id = $2;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Varchar",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "e67c1e6f96aec49750ea347b36199d17f7e58efbff15d77a740c47a6deae9db5": {
    "query": "UPDATE \"user\" SET bio = $1 WHERE id = $2;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Varchar",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "e6c4d388e3509368f53c7a8b011ae44810d4a52d30f4a9772a580e12f349ac83": {
    "query": "INSERT INTO personal_domain( id, domain_type ) VALUES ($1, 'personal');",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "e6e8a22e20dcaef3c260e70803a308e6f1f0523b4ffc0ff5ec25270ab14d25da": {
    "query": "INSERT INTO deployment_region( id, name, provider, location, parent_region_id ) VALUES ($1, $2, NULL, NULL, $3);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "e7d6cf952896ce06839104dfb8248258d52715766573a5659ce7e889a2b9aa00": {
    "query": "SELECT id as \"id: _\", sub_domain, domain_id as \"domain_id: _\", path, url_type as \"url_type: _\", deployment_id as \"deployment_id: _\", port, static_site_id as \"static_site_id: _\", url, workspace_id as \"workspace_id: _\" FROM managed_url WHERE id = $1 AND sub_domain NOT LIKE CONCAT( 'patr-deleted: ', REPLACE(id::TEXT, '-', ''), '@%' );",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "sub_domain",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "domain_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "path",
          "type_info": "Text"
        },
        {
          "ordinal": 4,
          "name": "url_type: _",
          "type_info": {
            "Custom": {
              "name": "managed_url_type",
              "kind": {
                "Enum": [
                  "proxy_to_deployment",
                  "proxy_to_static_site",
                  "proxy_url",
                  "redirect"
                ]
              }
            }
          }
        },
        {
          "ordinal": 5,
          "name": "deployment_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 6,
          "name": "port",
          "type_info": "Int4"
        },
        {
          "ordinal": 7,
          "name": "static_site_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 8,
          "name": "url",
          "type_info": "Text"
        },
        {
          "ordinal": 9,
          "name": "workspace_id: _",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        true,
        false
      ]
    }
  },
  "e838972a49d95650b469757b993bedfd88a875d6ea455abb1d3e97ded2bb492c": {
    "query": "CREATE INDEX personal_email_idx_user_id ON personal_email (user_id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "e9d0764903c5d929f560f8069e0e610181f2724a5642fe65ba3a94dcba724460": {
    "query": "SELECT GREATEST( resource.created, ( SELECT COALESCE(created, 0) FROM docker_registry_repository_manifest WHERE repository_id = $1 ORDER BY created DESC LIMIT 1 ), ( SELECT COALESCE(last_updated, 0) FROM docker_registry_repository_tag WHERE repository_id = $1 ORDER BY created DESC LIMIT 1 ) ) as \"last_updated!\" FROM resource WHERE resource.id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "last_updated!",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        null
      ]
    }
  },
  "eae55af4308b23ddda0f1baddb26ab64d833bd6135785f365fbc23b89e29ef2c": {
    "query": "SELECT id as \"id: _\", CONCAT(domain.name, '.', domain.tld) as \"name!\", type as \"type: _\" FROM domain WHERE CONCAT(domain.name, '.', domain.tld) = $1 AND domain.name NOT LIKE CONCAT( 'patr-deleted: ', REPLACE(domain.id::TEXT, '-', ''), '@%' );",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name!",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "type: _",
          "type_info": {
            "Custom": {
              "name": "resource_owner_type",
              "kind": {
                "Enum": [
                  "personal",
                  "business"
                ]
              }
            }
          }
        }
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      },
      "nullable": [
        false,
        null,
        false
      ]
    }
  },
  "ebb1a9513d2bef779e47519e10c59c05b65606a81fd6714dabf63495bfd2899d": {
    "query": "SELECT \"user\".id as \"id: Uuid\", \"user\".username, \"user\".password, \"user\".first_name, \"user\".last_name, \"user\".dob, \"user\".bio, \"user\".location, \"user\".created, \"user\".recovery_email_local, \"user\".recovery_email_domain_id as \"recovery_email_domain_id: Uuid\", \"user\".recovery_phone_country_code, \"user\".recovery_phone_number FROM \"user\" LEFT JOIN personal_email ON personal_email.user_id = \"user\".id LEFT JOIN business_email ON business_email.user_id = \"user\".id LEFT JOIN domain ON domain.id = personal_email.domain_id OR domain.id = business_email.domain_id WHERE CONCAT( personal_email.local, '@', domain.name, '.', domain.tld ) = $1 OR CONCAT( business_email.local, '@', domain.name, '.', domain.tld ) = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "username",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "password",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "first_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 4,
          "name": "last_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 5,
          "name": "dob",
          "type_info": "Int8"
        },
        {
          "ordinal": 6,
          "name": "bio",
          "type_info": "Varchar"
        },
        {
          "ordinal": 7,
          "name": "location",
          "type_info": "Varchar"
        },
        {
          "ordinal": 8,
          "name": "created",
          "type_info": "Int8"
        },
        {
          "ordinal": 9,
          "name": "recovery_email_local",
          "type_info": "Varchar"
        },
        {
          "ordinal": 10,
          "name": "recovery_email_domain_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 11,
          "name": "recovery_phone_country_code",
          "type_info": "Bpchar"
        },
        {
          "ordinal": 12,
          "name": "recovery_phone_number",
          "type_info": "Varchar"
        }
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        false,
        true,
        true,
        true,
        true
      ]
    }
  },
  "ebb50db24a70648653710428f4bc4db0b5a33f683894476370d206816a85a557": {
    "query": "INSERT INTO deployment_machine_type( id, cpu_count, memory_count ) VALUES ($1, $2, $3);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Int2",
          "Int4"
        ]
      },
      "nullable": []
    }
  },
  "ec0646c2bcd82b408ba2118ed2ac807eef913819eedd3dbaba37dbfe50a9341f": {
    "query": "ALTER TABLE billable_service ADD CONSTRAINT billable_service_fk_resource_id FOREIGN KEY(resource_id) REFERENCES resource(id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "ece0b5c9110deede9b4f81b82feb4a52d278fd279ed20e55b51bf2b0cf4a71cc": {
    "query": "ALTER TABLE workspace ADD CONSTRAINT workspace_fk_address_id FOREIGN KEY(address_id) REFERENCES address(id);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "ed03b82d7f2dae1014156e82999b9804b120f50fbd13d06969daca39c47e3c88": {
    "query": "CREATE TABLE password_reset_request( user_id UUID CONSTRAINT password_reset_request_pk PRIMARY KEY CONSTRAINT password_reset_request_fk_user_id REFERENCES \"user\"(id), token TEXT NOT NULL, token_expiry BIGINT NOT NULL CONSTRAINT password_reset_request_token_expiry_chk_unsigned CHECK(token_expiry >= 0) );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "ed964d5972036bd49e17512f2588da16a94a81f63db84cdd4a5713b9adeca9be": {
    "query": "CREATE TABLE personal_email( user_id UUID NOT NULL CONSTRAINT personal_email_fk_user_id REFERENCES \"user\"(id) DEFERRABLE INITIALLY IMMEDIATE, local VARCHAR(64) NOT NULL CONSTRAINT personal_email_chk_local_is_lower_case CHECK( local = LOWER(local) ), domain_id UUID NOT NULL CONSTRAINT personal_email_fk_domain_id REFERENCES personal_domain(id), CONSTRAINT personal_email_pk PRIMARY KEY(local, domain_id), CONSTRAINT personal_email_uq_user_id_local_domain_id UNIQUE(user_id, local, domain_id) );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "edbe8c3a433fff62d9b3c03cc7ec2750a6ea433379d0a57b5c374ee3ab892c8c": {
    "query": "SELECT id as \"id: Uuid\" FROM deployment_region WHERE id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: Uuid",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "ee4ea18cebcb0c118054ebe00ae27cb609df953c788737ad02d1044c901d21a9": {
    "query": "INSERT INTO workspace_audit_log( id, date, ip_address, workspace_id, user_id, login_id, resource_id, action, request_id, metadata, patr_action, success ) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Timestamptz",
          "Text",
          "Uuid",
          "Uuid",
          "Uuid",
          "Uuid",
          "Uuid",
          "Uuid",
          "Json",
          "Bool",
          "Bool"
        ]
      },
      "nullable": []
    }
  },
  "ee6a880bffc00568efcbb542dce5d2413468402d8a17d135aaf6e36a07e79e66": {
    "query": "SELECT user_unverified_personal_email.local, user_unverified_personal_email.domain_id as \"domain_id: Uuid\", user_unverified_personal_email.user_id as \"user_id: Uuid\", user_unverified_personal_email.verification_token_hash, user_unverified_personal_email.verification_token_expiry FROM user_unverified_personal_email INNER JOIN domain ON domain.id = user_unverified_personal_email.domain_id WHERE user_id = $1 AND CONCAT(local, '@', domain.name, '.', domain.tld) = $2;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "local",
          "type_info": "Varchar"
        },
        {
          "ordinal": 1,
          "name": "domain_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 2,
          "name": "user_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "verification_token_hash",
          "type_info": "Text"
        },
        {
          "ordinal": 4,
          "name": "verification_token_expiry",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false
      ]
    }
  },
  "eeb3b85d9326f43e41668cc30359da5e9c1096f1d9775eda9b6edd8a6504f205": {
    "query": "INSERT INTO user_controlled_domain( domain_id, nameserver_type ) VALUES ($1, 'external');",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "efa0a6ff35f40c8f91021798d83cbff7e35471895783a4ca95ec64d173dbdddf": {
    "query": "SELECT COUNT(*) \"count!\" FROM deployment INNER JOIN workspace ON deployment.workspace_id = workspace.id WHERE deployment.status = 'deleted' AND workspace.super_admin_id NOT IN ( '543de4f5808f4a99b2ee96dbdf9afff7', 'b4560e9530904195a0999c6d26aa9c29' );",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "count!",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        null
      ]
    }
  },
  "f036e1661ba6aaabccab6b4a72a176f8ec7efa5a206f548fed7d7b34bc915fe4": {
    "query": "UPDATE workspace SET alert_emails = $1 WHERE id = $2;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "VarcharArray",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "f08c1935127b39d06a2df59279291f3ba8409804eb7bd2bb7524478956df793d": {
    "query": "SELECT id as \"id: _\", name::TEXT as \"name!: _\", super_admin_id as \"super_admin_id: _\", active, alert_emails as \"alert_emails!: _\" FROM workspace WHERE id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name!: _",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "super_admin_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "active",
          "type_info": "Bool"
        },
        {
          "ordinal": 4,
          "name": "alert_emails!: _",
          "type_info": "VarcharArray"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        null,
        false,
        false,
        false
      ]
    }
  },
  "f09ba7816097607f7f07421f1d8fe5bfae9d0fee58b6fd2715448e069e98750f": {
    "query": "SELECT login_id as \"login_id: Uuid\", refresh_token, token_expiry, user_id as \"user_id: Uuid\", last_login, last_activity FROM user_login WHERE user_id = $1 AND refresh_token = $2;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "login_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "refresh_token",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "token_expiry",
          "type_info": "Int8"
        },
        {
          "ordinal": 3,
          "name": "user_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "last_login",
          "type_info": "Int8"
        },
        {
          "ordinal": 5,
          "name": "last_activity",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false
      ]
    }
  },
  "f0f61d6c683953e8f0ad3c94e7493b7f2fe5520d7d98420eed7c6fdab0d1ecc2": {
    "query": "SELECT COUNT(*) as \"count!\" FROM user_to_sign_up;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "count!",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        null
      ]
    }
  },
  "f16f4330b69278083d79cf8717f76e51aac3aa7802eec3bbb1aedc4e08af6450": {
    "query": "SELECT * FROM product_info WHERE id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "description",
          "type_info": "Text"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        true
      ]
    }
  },
  "f39f35664495c1605a1f36e9a5a7597392c9143ea0afd6c73a6267770e1b6bbd": {
    "query": "UPDATE workspace SET drone_username = $2, drone_token = $3 WHERE id = $1;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Text"
        ]
      },
      "nullable": []
    }
  },
  "f3add12d973a1a460a8ee92f18cae2939b0f9bf515747eb082ff3f342951439d": {
    "query": "INSERT INTO deployment_exposed_port( deployment_id, port, port_type ) VALUES ($1, $2, $3);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Int4",
          {
            "Custom": {
              "name": "exposed_port_type",
              "kind": {
                "Enum": [
                  "http"
                ]
              }
            }
          }
        ]
      },
      "nullable": []
    }
  },
  "f4b563086869478fb23e33f2b2b76c74ba71561f61443053053ae9591126a81e": {
    "query": "UPDATE resource SET name = $2 WHERE id = $1;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Varchar"
        ]
      },
      "nullable": []
    }
  },
  "f5b7bf00eb407d889619e638614750a5deab18378edd398c074adb012b209f75": {
    "query": "CREATE INDEX user_idx_created ON \"user\" (created);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "f5dc0fe6c462dd9658c2a0a358fb20ed7da3b85fa0bc49b3e72db40200788833": {
    "query": "WITH RECURSIVE managed_url_list AS ( SELECT managed_url.* FROM managed_url INNER JOIN domain ON managed_url.domain_id = domain.id WHERE managed_url.static_site_id = $1 AND managed_url.url_type = 'proxy_to_static_site' UNION ALL SELECT managed_url.* FROM managed_url INNER JOIN domain ON managed_url.domain_id = domain.id JOIN managed_url_list ON managed_url.url LIKE CONCAT( managed_url.sub_domain, '.', domain.name, '.', domain.tld, CASE managed_url.path WHEN '/' THEN '%' ELSE CONCAT(managed_url.path, '%') END ) WHERE managed_url.url_type = 'redirect' OR managed_url.url_type = 'proxy_url' ) SELECT id as \"id!: _\", sub_domain as \"sub_domain!: _\", domain_id as \"domain_id!: _\", path as \"path!: _\", url_type as \"url_type!: _\", deployment_id as \"deployment_id: _\", port, static_site_id as \"static_site_id: _\", url, workspace_id as \"workspace_id!: _\" FROM managed_url_list WHERE managed_url_list.workspace_id = $2 AND managed_url_list.sub_domain NOT LIKE CONCAT( 'patr-deleted: ', REPLACE(id::TEXT, '-', ''), '@%' );",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id!: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "sub_domain!: _",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "domain_id!: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "path!: _",
          "type_info": "Text"
        },
        {
          "ordinal": 4,
          "name": "url_type!: _",
          "type_info": {
            "Custom": {
              "name": "managed_url_type",
              "kind": {
                "Enum": [
                  "proxy_to_deployment",
                  "proxy_to_static_site",
                  "proxy_url",
                  "redirect"
                ]
              }
            }
          }
        },
        {
          "ordinal": 5,
          "name": "deployment_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 6,
          "name": "port",
          "type_info": "Int4"
        },
        {
          "ordinal": 7,
          "name": "static_site_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 8,
          "name": "url",
          "type_info": "Text"
        },
        {
          "ordinal": 9,
          "name": "workspace_id!: _",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid"
        ]
      },
      "nullable": [
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ]
    }
  },
  "f5eb946ad47fcaa98189742b74fff953d3bdf8026cbb4a21572eac72c64821cd": {
    "query": "CREATE TABLE workspace( id UUID CONSTRAINT workspace_pk PRIMARY KEY, name CITEXT NOT NULL CONSTRAINT workspace_uq_name UNIQUE, super_admin_id UUID NOT NULL CONSTRAINT workspace_fk_super_admin_id REFERENCES \"user\"(id), active BOOLEAN NOT NULL DEFAULT FALSE, alert_emails VARCHAR(320) [] NOT NULL, drone_username TEXT CONSTRAINT workspace_uq_drone_username UNIQUE, drone_token TEXT CONSTRAINT workspace_chk_drone_token_is_not_null CHECK( ( drone_username IS NULL AND drone_token IS NULL ) OR ( drone_username IS NOT NULL AND drone_token IS NOT NULL ) ), address_id UUID, resource_limit_id UUID NOT NULL );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "f677f0f49f5509a73a29aa93a7525c287fdc8601417c0b671f6a2848cdcc1265": {
    "query": "DELETE FROM role WHERE id = $1;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "f6cc8d79f2c2f52757cc15fd59ac42c6d1ea67fc8232fed1260895a5d418492a": {
    "query": "SELECT permission_id as \"permission_id: Uuid\", resource_id as \"resource_id: Uuid\", name, description FROM role_permissions_resource INNER JOIN permission ON role_permissions_resource.permission_id = permission.id WHERE role_permissions_resource.role_id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "permission_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "resource_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 2,
          "name": "name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 3,
          "name": "description",
          "type_info": "Varchar"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false
      ]
    }
  },
  "f6fd226a2dbddcdaa814f0e47874e447b759180761627cdc941cbe554a07abe5": {
    "query": "CREATE TABLE deployment( id UUID CONSTRAINT deployment_pk PRIMARY KEY, name CITEXT NOT NULL CONSTRAINT deployment_chk_name_is_trimmed CHECK( name = TRIM(name) ), registry VARCHAR(255) NOT NULL DEFAULT 'registry.patr.cloud', repository_id UUID, image_name VARCHAR(512), image_tag VARCHAR(255) NOT NULL, status DEPLOYMENT_STATUS NOT NULL DEFAULT 'created', workspace_id UUID NOT NULL, region UUID NOT NULL CONSTRAINT deployment_fk_region REFERENCES deployment_region(id), min_horizontal_scale SMALLINT NOT NULL CONSTRAINT deployment_chk_min_horizontal_scale_u8 CHECK( min_horizontal_scale >= 0 AND min_horizontal_scale <= 256 ) DEFAULT 1, max_horizontal_scale SMALLINT NOT NULL CONSTRAINT deployment_chk_max_horizontal_scale_u8 CHECK( max_horizontal_scale >= 0 AND max_horizontal_scale <= 256 ) DEFAULT 1, machine_type UUID NOT NULL CONSTRAINT deployment_fk_machine_type REFERENCES deployment_machine_type(id), deploy_on_push BOOLEAN NOT NULL DEFAULT TRUE, CONSTRAINT deployment_fk_repository_id_workspace_id FOREIGN KEY(repository_id, workspace_id) REFERENCES docker_registry_repository(id, workspace_id), CONSTRAINT deployment_uq_name_workspace_id UNIQUE(name, workspace_id), CONSTRAINT deployment_uq_id_workspace_id UNIQUE(id, workspace_id), CONSTRAINT deployment_chk_repository_id_is_valid CHECK( ( registry = 'registry.patr.cloud' AND image_name IS NULL AND repository_id IS NOT NULL ) OR ( registry != 'registry.patr.cloud' AND image_name IS NOT NULL AND repository_id IS NULL ) ), CONSTRAINT deployment_chk_image_tag_is_valid CHECK( image_tag != '' ) );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "f8b70ccc8687361430f17086e79357a1d2d97c79f40fabd3f39d44ffe7d95cba": {
    "query": "CREATE TABLE domain_tld( tld TEXT CONSTRAINT domain_tld_pk PRIMARY KEY CONSTRAINT domain_tld_chk_is_length_valid CHECK( LENGTH(tld) >= 2 AND LENGTH(tld) <= 63 ) CONSTRAINT domain_tld_chk_is_tld_valid CHECK( tld ~ '^(([a-z0-9])|([a-z0-9][a-z0-9\\-\\.]*[a-z0-9]))$' ) );",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "f97a6aa74e29fce79cf925131c1d9600abb217529d44954f2044e5b11d43ef17": {
    "query": "SELECT permission_id as \"permission_id: Uuid\", resource_type_id as \"resource_type_id: Uuid\", name, description FROM role_permissions_resource_type INNER JOIN permission ON role_permissions_resource_type.permission_id = permission.id WHERE role_permissions_resource_type.role_id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "permission_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "resource_type_id: Uuid",
          "type_info": "Uuid"
        },
        {
          "ordinal": 2,
          "name": "name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 3,
          "name": "description",
          "type_info": "Varchar"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false
      ]
    }
  },
  "fa89602b65bbd65d99ce5991ee341ca2e81bdc359f53597641ef76d35f5cc7dc": {
    "query": "SELECT COUNT(*) as \"count!\" FROM deployment INNER JOIN workspace ON deployment.workspace_id = workspace.id WHERE deployment.status != 'deleted' AND workspace.super_admin_id NOT IN ( '543de4f5808f4a99b2ee96dbdf9afff7', 'b4560e9530904195a0999c6d26aa9c29' );",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "count!",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        null
      ]
    }
  },
  "fa9213a72b19a2d2ddedbf3309082989a735933d738146936c5a852521f327f9": {
    "query": "SELECT id as \"id: _\", name::TEXT as \"name!: _\", db_name, engine as \"engine: _\", version, num_nodes, database_plan as \"database_plan: _\", region, status as \"status: _\", host, port, username, password, workspace_id as \"workspace_id: _\", digitalocean_db_id FROM managed_database WHERE id = $1 AND status != 'deleted';",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name!: _",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "db_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 3,
          "name": "engine: _",
          "type_info": {
            "Custom": {
              "name": "managed_database_engine",
              "kind": {
                "Enum": [
                  "postgres",
                  "mysql"
                ]
              }
            }
          }
        },
        {
          "ordinal": 4,
          "name": "version",
          "type_info": "Text"
        },
        {
          "ordinal": 5,
          "name": "num_nodes",
          "type_info": "Int4"
        },
        {
          "ordinal": 6,
          "name": "database_plan: _",
          "type_info": {
            "Custom": {
              "name": "managed_database_plan",
              "kind": {
                "Enum": [
                  "nano",
                  "micro",
                  "small",
                  "medium",
                  "large",
                  "xlarge",
                  "xxlarge",
                  "mammoth"
                ]
              }
            }
          }
        },
        {
          "ordinal": 7,
          "name": "region",
          "type_info": "Text"
        },
        {
          "ordinal": 8,
          "name": "status: _",
          "type_info": {
            "Custom": {
              "name": "managed_database_status",
              "kind": {
                "Enum": [
                  "creating",
                  "running",
                  "stopped",
                  "errored",
                  "deleted"
                ]
              }
            }
          }
        },
        {
          "ordinal": 9,
          "name": "host",
          "type_info": "Text"
        },
        {
          "ordinal": 10,
          "name": "port",
          "type_info": "Int4"
        },
        {
          "ordinal": 11,
          "name": "username",
          "type_info": "Text"
        },
        {
          "ordinal": 12,
          "name": "password",
          "type_info": "Text"
        },
        {
          "ordinal": 13,
          "name": "workspace_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 14,
          "name": "digitalocean_db_id",
          "type_info": "Text"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        null,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        true
      ]
    }
  },
  "fb098c06747fe3fd6d3eca864e64909152465ef3782b280e2c19655c4b1db506": {
    "query": "UPDATE deployment SET min_horizontal_scale = $1 WHERE id = $2;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Int2",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "fcda3a3e1abdd1cb97ed8554b73b6896b41ecc9bb81964ef2f663ed869131151": {
    "query": "INSERT INTO phone_number_country_code( country_code, phone_code, country_name ) VALUES ($$AF$$, $$93$$, $$Afghanistan$$), ($$AX$$, $$358$$, $$Aland Islands$$), ($$AL$$, $$355$$, $$Albania$$), ($$DZ$$, $$213$$, $$Algeria$$), ($$AS$$, $$1684$$, $$American Samoa$$), ($$AD$$, $$376$$, $$Andorra$$), ($$AO$$, $$244$$, $$Angola$$), ($$AI$$, $$1264$$, $$Anguilla$$), ($$AQ$$, $$672$$, $$Antarctica$$), ($$AG$$, $$1268$$, $$Antigua and Barbuda$$), ($$AR$$, $$54$$, $$Argentina$$), ($$AM$$, $$374$$, $$Armenia$$), ($$AW$$, $$297$$, $$Aruba$$), ($$AU$$, $$61$$, $$Australia$$), ($$AT$$, $$43$$, $$Austria$$), ($$AZ$$, $$994$$, $$Azerbaijan$$), ($$BS$$, $$1242$$, $$Bahamas$$), ($$BH$$, $$973$$, $$Bahrain$$), ($$BD$$, $$880$$, $$Bangladesh$$), ($$BB$$, $$1246$$, $$Barbados$$), ($$BY$$, $$375$$, $$Belarus$$), ($$BE$$, $$32$$, $$Belgium$$), ($$BZ$$, $$501$$, $$Belize$$), ($$BJ$$, $$229$$, $$Benin$$), ($$BM$$, $$1441$$, $$Bermuda$$), ($$BT$$, $$975$$, $$Bhutan$$), ($$BO$$, $$591$$, $$Bolivia$$), ($$BQ$$, $$599$$, $$Bonaire, Sint Eustatius and Saba$$), ($$BA$$, $$387$$, $$Bosnia and Herzegovina$$), ($$BW$$, $$267$$, $$Botswana$$), ($$BV$$, $$55$$, $$Bouvet Island$$), ($$BR$$, $$55$$, $$Brazil$$), ($$IO$$, $$246$$, $$British Indian Ocean Territory$$), ($$BN$$, $$673$$, $$Brunei Darussalam$$), ($$BG$$, $$359$$, $$Bulgaria$$), ($$BF$$, $$226$$, $$Burkina Faso$$), ($$BI$$, $$257$$, $$Burundi$$), ($$KH$$, $$855$$, $$Cambodia$$), ($$CM$$, $$237$$, $$Cameroon$$), ($$CA$$, $$1$$, $$Canada$$), ($$CV$$, $$238$$, $$Cape Verde$$), ($$KY$$, $$1345$$, $$Cayman Islands$$), ($$CF$$, $$236$$, $$Central African Republic$$), ($$TD$$, $$235$$, $$Chad$$), ($$CL$$, $$56$$, $$Chile$$), ($$CN$$, $$86$$, $$China$$), ($$CX$$, $$61$$, $$Christmas Island$$), ($$CC$$, $$672$$, $$Cocos (Keeling) Islands$$), ($$CO$$, $$57$$, $$Colombia$$), ($$KM$$, $$269$$, $$Comoros$$), ($$CG$$, $$242$$, $$Congo$$), ($$CD$$, $$242$$, $$Congo, Democratic Republic of the Congo$$), ($$CK$$, $$682$$, $$Cook Islands$$), ($$CR$$, $$506$$, $$Costa Rica$$), ($$CI$$, $$225$$, $$Cote D'Ivoire$$), ($$HR$$, $$385$$, $$Croatia$$), ($$CU$$, $$53$$, $$Cuba$$), ($$CW$$, $$599$$, $$Curacao$$), ($$CY$$, $$357$$, $$Cyprus$$), ($$CZ$$, $$420$$, $$Czech Republic$$), ($$DK$$, $$45$$, $$Denmark$$), ($$DJ$$, $$253$$, $$Djibouti$$), ($$DM$$, $$1767$$, $$Dominica$$), ($$DO$$, $$1809$$, $$Dominican Republic$$), ($$EC$$, $$593$$, $$Ecuador$$), ($$EG$$, $$20$$, $$Egypt$$), ($$SV$$, $$503$$, $$El Salvador$$), ($$GQ$$, $$240$$, $$Equatorial Guinea$$), ($$ER$$, $$291$$, $$Eritrea$$), ($$EE$$, $$372$$, $$Estonia$$), ($$ET$$, $$251$$, $$Ethiopia$$), ($$FK$$, $$500$$, $$Falkland Islands (Malvinas)$$), ($$FO$$, $$298$$, $$Faroe Islands$$), ($$FJ$$, $$679$$, $$Fiji$$), ($$FI$$, $$358$$, $$Finland$$), ($$FR$$, $$33$$, $$France$$), ($$GF$$, $$594$$, $$French Guiana$$), ($$PF$$, $$689$$, $$French Polynesia$$), ($$TF$$, $$262$$, $$French Southern Territories$$), ($$GA$$, $$241$$, $$Gabon$$), ($$GM$$, $$220$$, $$Gambia$$), ($$GE$$, $$995$$, $$Georgia$$), ($$DE$$, $$49$$, $$Germany$$), ($$GH$$, $$233$$, $$Ghana$$), ($$GI$$, $$350$$, $$Gibraltar$$), ($$GR$$, $$30$$, $$Greece$$), ($$GL$$, $$299$$, $$Greenland$$), ($$GD$$, $$1473$$, $$Grenada$$), ($$GP$$, $$590$$, $$Guadeloupe$$), ($$GU$$, $$1671$$, $$Guam$$), ($$GT$$, $$502$$, $$Guatemala$$), ($$GG$$, $$44$$, $$Guernsey$$), ($$GN$$, $$224$$, $$Guinea$$), ($$GW$$, $$245$$, $$Guinea-Bissau$$), ($$GY$$, $$592$$, $$Guyana$$), ($$HT$$, $$509$$, $$Haiti$$), ($$HM$$, $$0$$, $$Heard Island and Mcdonald Islands$$), ($$VA$$, $$39$$, $$Holy See (Vatican City State)$$), ($$HN$$, $$504$$, $$Honduras$$), ($$HK$$, $$852$$, $$Hong Kong$$), ($$HU$$, $$36$$, $$Hungary$$), ($$IS$$, $$354$$, $$Iceland$$), ($$IN$$, $$91$$, $$India$$), ($$ID$$, $$62$$, $$Indonesia$$), ($$IR$$, $$98$$, $$Iran, Islamic Republic of$$), ($$IQ$$, $$964$$, $$Iraq$$), ($$IE$$, $$353$$, $$Ireland$$), ($$IM$$, $$44$$, $$Isle of Man$$), ($$IL$$, $$972$$, $$Israel$$), ($$IT$$, $$39$$, $$Italy$$), ($$JM$$, $$1876$$, $$Jamaica$$), ($$JP$$, $$81$$, $$Japan$$), ($$JE$$, $$44$$, $$Jersey$$), ($$JO$$, $$962$$, $$Jordan$$), ($$KZ$$, $$7$$, $$Kazakhstan$$), ($$KE$$, $$254$$, $$Kenya$$), ($$KI$$, $$686$$, $$Kiribati$$), ($$KP$$, $$850$$, $$Korea, Democratic People's Republic of$$), ($$KR$$, $$82$$, $$Korea, Republic of$$), ($$XK$$, $$381$$, $$Kosovo$$), ($$KW$$, $$965$$, $$Kuwait$$), ($$KG$$, $$996$$, $$Kyrgyzstan$$), ($$LA$$, $$856$$, $$Lao People's Democratic Republic$$), ($$LV$$, $$371$$, $$Latvia$$), ($$LB$$, $$961$$, $$Lebanon$$), ($$LS$$, $$266$$, $$Lesotho$$), ($$LR$$, $$231$$, $$Liberia$$), ($$LY$$, $$218$$, $$Libyan Arab Jamahiriya$$), ($$LI$$, $$423$$, $$Liechtenstein$$), ($$LT$$, $$370$$, $$Lithuania$$), ($$LU$$, $$352$$, $$Luxembourg$$), ($$MO$$, $$853$$, $$Macao$$), ($$MK$$, $$389$$, $$Macedonia, the Former Yugoslav Republic of$$), ($$MG$$, $$261$$, $$Madagascar$$), ($$MW$$, $$265$$, $$Malawi$$), ($$MY$$, $$60$$, $$Malaysia$$), ($$MV$$, $$960$$, $$Maldives$$), ($$ML$$, $$223$$, $$Mali$$), ($$MT$$, $$356$$, $$Malta$$), ($$MH$$, $$692$$, $$Marshall Islands$$), ($$MQ$$, $$596$$, $$Martinique$$), ($$MR$$, $$222$$, $$Mauritania$$), ($$MU$$, $$230$$, $$Mauritius$$), ($$YT$$, $$269$$, $$Mayotte$$), ($$MX$$, $$52$$, $$Mexico$$), ($$FM$$, $$691$$, $$Micronesia, Federated States of$$), ($$MD$$, $$373$$, $$Moldova, Republic of$$), ($$MC$$, $$377$$, $$Monaco$$), ($$MN$$, $$976$$, $$Mongolia$$), ($$ME$$, $$382$$, $$Montenegro$$), ($$MS$$, $$1664$$, $$Montserrat$$), ($$MA$$, $$212$$, $$Morocco$$), ($$MZ$$, $$258$$, $$Mozambique$$), ($$MM$$, $$95$$, $$Myanmar$$), ($$NA$$, $$264$$, $$Namibia$$), ($$NR$$, $$674$$, $$Nauru$$), ($$NP$$, $$977$$, $$Nepal$$), ($$NL$$, $$31$$, $$Netherlands$$), ($$AN$$, $$599$$, $$Netherlands Antilles$$), ($$NC$$, $$687$$, $$New Caledonia$$), ($$NZ$$, $$64$$, $$New Zealand$$), ($$NI$$, $$505$$, $$Nicaragua$$), ($$NE$$, $$227$$, $$Niger$$), ($$NG$$, $$234$$, $$Nigeria$$), ($$NU$$, $$683$$, $$Niue$$), ($$NF$$, $$672$$, $$Norfolk Island$$), ($$MP$$, $$1670$$, $$Northern Mariana Islands$$), ($$NO$$, $$47$$, $$Norway$$), ($$OM$$, $$968$$, $$Oman$$), ($$PK$$, $$92$$, $$Pakistan$$), ($$PW$$, $$680$$, $$Palau$$), ($$PS$$, $$970$$, $$Palestinian Territory, Occupied$$), ($$PA$$, $$507$$, $$Panama$$), ($$PG$$, $$675$$, $$Papua New Guinea$$), ($$PY$$, $$595$$, $$Paraguay$$), ($$PE$$, $$51$$, $$Peru$$), ($$PH$$, $$63$$, $$Philippines$$), ($$PN$$, $$64$$, $$Pitcairn$$), ($$PL$$, $$48$$, $$Poland$$), ($$PT$$, $$351$$, $$Portugal$$), ($$PR$$, $$1787$$, $$Puerto Rico$$), ($$QA$$, $$974$$, $$Qatar$$), ($$RE$$, $$262$$, $$Reunion$$), ($$RO$$, $$40$$, $$Romania$$), ($$RU$$, $$70$$, $$Russian Federation$$), ($$RW$$, $$250$$, $$Rwanda$$), ($$BL$$, $$590$$, $$Saint Barthelemy$$), ($$SH$$, $$290$$, $$Saint Helena$$), ($$KN$$, $$1869$$, $$Saint Kitts and Nevis$$), ($$LC$$, $$1758$$, $$Saint Lucia$$), ($$MF$$, $$590$$, $$Saint Martin$$), ($$PM$$, $$508$$, $$Saint Pierre and Miquelon$$), ($$VC$$, $$1784$$, $$Saint Vincent and the Grenadines$$), ($$WS$$, $$684$$, $$Samoa$$), ($$SM$$, $$378$$, $$San Marino$$), ($$ST$$, $$239$$, $$Sao Tome and Principe$$), ($$SA$$, $$966$$, $$Saudi Arabia$$), ($$SN$$, $$221$$, $$Senegal$$), ($$RS$$, $$381$$, $$Serbia$$), ($$CS$$, $$381$$, $$Serbia and Montenegro$$), ($$SC$$, $$248$$, $$Seychelles$$), ($$SL$$, $$232$$, $$Sierra Leone$$), ($$SG$$, $$65$$, $$Singapore$$), ($$SX$$, $$1$$, $$Sint Maarten$$), ($$SK$$, $$421$$, $$Slovakia$$), ($$SI$$, $$386$$, $$Slovenia$$), ($$SB$$, $$677$$, $$Solomon Islands$$), ($$SO$$, $$252$$, $$Somalia$$), ($$ZA$$, $$27$$, $$South Africa$$), ($$GS$$, $$500$$, $$South Georgia and the South Sandwich Islands$$), ($$SS$$, $$211$$, $$South Sudan$$), ($$ES$$, $$34$$, $$Spain$$), ($$LK$$, $$94$$, $$Sri Lanka$$), ($$SD$$, $$249$$, $$Sudan$$), ($$SR$$, $$597$$, $$Suriname$$), ($$SJ$$, $$47$$, $$Svalbard and Jan Mayen$$), ($$SZ$$, $$268$$, $$Swaziland$$), ($$SE$$, $$46$$, $$Sweden$$), ($$CH$$, $$41$$, $$Switzerland$$), ($$SY$$, $$963$$, $$Syrian Arab Republic$$), ($$TW$$, $$886$$, $$Taiwan, Province of China$$), ($$TJ$$, $$992$$, $$Tajikistan$$), ($$TZ$$, $$255$$, $$Tanzania, United Republic of$$), ($$TH$$, $$66$$, $$Thailand$$), ($$TL$$, $$670$$, $$Timor-Leste$$), ($$TG$$, $$228$$, $$Togo$$), ($$TK$$, $$690$$, $$Tokelau$$), ($$TO$$, $$676$$, $$Tonga$$), ($$TT$$, $$1868$$, $$Trinidad and Tobago$$), ($$TN$$, $$216$$, $$Tunisia$$), ($$TR$$, $$90$$, $$Turkey$$), ($$TM$$, $$7370$$, $$Turkmenistan$$), ($$TC$$, $$1649$$, $$Turks and Caicos Islands$$), ($$TV$$, $$688$$, $$Tuvalu$$), ($$UG$$, $$256$$, $$Uganda$$), ($$UA$$, $$380$$, $$Ukraine$$), ($$AE$$, $$971$$, $$United Arab Emirates$$), ($$GB$$, $$44$$, $$United Kingdom$$), ($$US$$, $$1$$, $$United States$$), ($$UM$$, $$1$$, $$United States Minor Outlying Islands$$), ($$UY$$, $$598$$, $$Uruguay$$), ($$UZ$$, $$998$$, $$Uzbekistan$$), ($$VU$$, $$678$$, $$Vanuatu$$), ($$VE$$, $$58$$, $$Venezuela$$), ($$VN$$, $$84$$, $$Viet Nam$$), ($$VG$$, $$1284$$, $$Virgin Islands, British$$), ($$VI$$, $$1340$$, $$Virgin Islands, U.s.$$), ($$WF$$, $$681$$, $$Wallis and Futuna$$), ($$EH$$, $$212$$, $$Western Sahara$$), ($$YE$$, $$967$$, $$Yemen$$), ($$ZM$$, $$260$$, $$Zambia$$), ($$ZW$$, $$263$$, $$Zimbabwe$$);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "fe84284d0561dc586bf1441d648319e13304f2a503699b3a1f920f784439c9f9": {
    "query": "INSERT INTO permission( id, name, description ) VALUES ($1, $2, $3);",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Varchar",
          "Varchar"
        ]
      },
      "nullable": []
    }
  },
  "fe8c22df6cd21020bbbb9d77bffbc3d1df0940c2b50b7868682f802781c0ea61": {
    "query": "SELECT id as \"id: _\", name::TEXT as \"name!: _\", registry, repository_id as \"repository_id: _\", image_name, image_tag, status as \"status: _\", workspace_id as \"workspace_id: _\", region as \"region: _\", min_horizontal_scale, max_horizontal_scale, machine_type as \"machine_type: _\", deploy_on_push FROM deployment WHERE id = $1 AND status != 'deleted';",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name!: _",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "registry",
          "type_info": "Varchar"
        },
        {
          "ordinal": 3,
          "name": "repository_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "image_name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 5,
          "name": "image_tag",
          "type_info": "Varchar"
        },
        {
          "ordinal": 6,
          "name": "status: _",
          "type_info": {
            "Custom": {
              "name": "deployment_status",
              "kind": {
                "Enum": [
                  "created",
                  "pushed",
                  "deploying",
                  "running",
                  "stopped",
                  "errored",
                  "deleted"
                ]
              }
            }
          }
        },
        {
          "ordinal": 7,
          "name": "workspace_id: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 8,
          "name": "region: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 9,
          "name": "min_horizontal_scale",
          "type_info": "Int2"
        },
        {
          "ordinal": 10,
          "name": "max_horizontal_scale",
          "type_info": "Int2"
        },
        {
          "ordinal": 11,
          "name": "machine_type: _",
          "type_info": "Uuid"
        },
        {
          "ordinal": 12,
          "name": "deploy_on_push",
          "type_info": "Bool"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        null,
        false,
        true,
        true,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ]
    }
  },
  "ff0cf1576493f7e907c29f9072ccec26e6a9700e4c4bcf089d646da02cc7744e": {
    "query": "UPDATE deployment_static_site SET status = $1 WHERE id = $2;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          {
            "Custom": {
              "name": "deployment_status",
              "kind": {
                "Enum": [
                  "created",
                  "pushed",
                  "deploying",
                  "running",
                  "stopped",
                  "errored",
                  "deleted"
                ]
              }
            }
          },
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "ff48eaa85d034f0689b48adcd89629fe2bca41d55b8766cf73664e0ead3d2ebe": {
    "query": "SELECT COUNT(*) as \"count!\" FROM managed_database INNER JOIN workspace ON managed_database.workspace_id = workspace.id WHERE status != 'deleted' AND workspace.super_admin_id NOT IN ( '543de4f5808f4a99b2ee96dbdf9afff7', 'b4560e9530904195a0999c6d26aa9c29' );",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "count!",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        null
      ]
    }
  }
}