{
  "db": "PostgreSQL",
  "003572bba6e2c9719d902eb4cefc74a1087b9eeb51e867eec080938d306e3bb4": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE INDEX deployment_idx_registry_image_name_image_tag ON deployment (registry, image_name, image_tag);"
  },
  "014218cb95e441c6cd559825f5ed01df173088d2fb86e4220e77976fd1b045dd": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE domain( id UUID CONSTRAINT domain_pk PRIMARY KEY, name TEXT NOT NULL CONSTRAINT domain_chk_name_is_valid CHECK( name ~ '^(([a-z0-9])|([a-z0-9][a-z0-9-]*[a-z0-9]))$' OR name LIKE CONCAT( 'patr-deleted: ', REPLACE(id::TEXT, '-', ''), '@%' ) ), type RESOURCE_OWNER_TYPE NOT NULL, tld TEXT NOT NULL CONSTRAINT domain_fk_tld REFERENCES domain_tld(tld), CONSTRAINT domain_uq_name_tld UNIQUE(name, tld), CONSTRAINT domain_chk_max_domain_name_length CHECK( (LENGTH(name) + LENGTH(tld)) < 255 ), CONSTRAINT domain_uq_name_type UNIQUE(id, type) );"
  },
  "043c452f7b3353c24f5ee7e94758baa0fb6af83c2186e4c0d947e746ec93b59c": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text",
          "Text",
          "Text"
        ]
      }
    },
    "query": "INSERT INTO meta_data (id, value) VALUES ('version_major', $1), ('version_minor', $2), ('version_patch', $3) ON CONFLICT(id) DO UPDATE SET value = EXCLUDED.value;"
  },
  "05452f7e8ed0ec4322863866b4604e496c5004b7dce28dd96928cc8b7e8ca699": {
    "describe": {
      "columns": [
        {
          "name": "id: _",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "workspace_id: _",
          "ordinal": 1,
          "type_info": "Uuid"
        },
        {
          "name": "name!: _",
          "ordinal": 2,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        null
      ],
      "parameters": {
        "Left": [
          {
            "Custom": {
              "kind": "Simple",
              "name": "citext"
            }
          },
          "Uuid"
        ]
      }
    },
    "query": "SELECT id as \"id: _\", workspace_id as \"workspace_id: _\", name::TEXT as \"name!: _\" FROM docker_registry_repository WHERE name = $1 AND workspace_id = $2 AND name NOT LIKE 'patr-deleted:%';"
  },
  "0653f47ed3ec71d90131fc879b731a98a4b93d5ccaa61b583b4ba6e4db8302c5": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          {
            "Custom": {
              "kind": "Simple",
              "name": "citext"
            }
          },
          "Uuid",
          "Bool"
        ]
      }
    },
    "query": "INSERT INTO workspace (id, name, super_admin_id, active) VALUES ($1, $2, $3, $4);"
  },
  "06996105bdcc06ade90e67db371aa915dc31e8e8d1a4aa8a778a78909a585f74": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE role_permissions_resource_type( role_id UUID CONSTRAINT role_permissions_resource_type_fk_role_id REFERENCES role(id), permission_id UUID CONSTRAINT role_permissions_resource_type_fk_permission_id REFERENCES permission(id), resource_type_id UUID CONSTRAINT role_permissions_resource_type_fk_resource_type_id REFERENCES resource_type(id), CONSTRAINT role_permissions_resource_type_pk PRIMARY KEY(role_id, permission_id, resource_type_id) );"
  },
  "06ca5256da1ca17a2676161d61f46265efdcf8beddcc03526a09045b3bf3ba21": {
    "describe": {
      "columns": [
        {
          "name": "id: _",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "name!: _",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "super_admin_id: _",
          "ordinal": 2,
          "type_info": "Uuid"
        },
        {
          "name": "active",
          "ordinal": 3,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        false,
        null,
        false,
        false
      ],
      "parameters": {
        "Left": [
          {
            "Custom": {
              "kind": "Simple",
              "name": "citext"
            }
          }
        ]
      }
    },
    "query": "SELECT id as \"id: _\", name::TEXT as \"name!: _\", super_admin_id as \"super_admin_id: _\", active FROM workspace WHERE name = $1;"
  },
  "07060b60f147ba3f731b9318c36edb4e3bbd50e51847908cb69be13e03a3b2fe": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid",
          "Uuid"
        ]
      }
    },
    "query": "INSERT INTO role_permissions_resource (role_id, permission_id, resource_id) VALUES ($1, $2, $3);"
  },
  "08133cde3025bc5f5f335c04065b11cc144468352adb85ff3695b424dc0938f9": {
    "describe": {
      "columns": [
        {
          "name": "email!: String",
          "ordinal": 0,
          "type_info": "Text"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT CONCAT( personal_email.local, '@', domain.name, '.', domain.tld ) as \"email!: String\" FROM personal_email INNER JOIN domain ON personal_email.domain_id = domain.id WHERE personal_email.user_id = $1;"
  },
  "0a99a795783bd682faac118e140bb40890bcecc424254bf651823cb42022b1ec": {
    "describe": {
      "columns": [
        {
          "name": "id: Uuid",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "name",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "resource_type_id: Uuid",
          "ordinal": 2,
          "type_info": "Uuid"
        },
        {
          "name": "owner_id: Uuid",
          "ordinal": 3,
          "type_info": "Uuid"
        },
        {
          "name": "created",
          "ordinal": 4,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT id as \"id: Uuid\", name, resource_type_id as \"resource_type_id: Uuid\", owner_id as \"owner_id: Uuid\", created FROM resource WHERE id = $1;"
  },
  "0d262a2cdb70f0c2af1b7b788df13c6d6da8ce31fd6172023a0490f6cbda6d94": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE INDEX user_to_sign_up_idx_otp_expiry ON user_to_sign_up (otp_expiry);"
  },
  "0d9ded0435682bceb4df1033b7c3ac958f872839106b7447113fa76bdf30f955": {
    "describe": {
      "columns": [
        {
          "name": "username",
          "ordinal": 0,
          "type_info": "Varchar"
        },
        {
          "name": "account_type: ResourceType",
          "ordinal": 1,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "personal",
                  "business"
                ]
              },
              "name": "resource_owner_type"
            }
          }
        },
        {
          "name": "password",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "first_name",
          "ordinal": 3,
          "type_info": "Varchar"
        },
        {
          "name": "last_name",
          "ordinal": 4,
          "type_info": "Varchar"
        },
        {
          "name": "backup_email_local",
          "ordinal": 5,
          "type_info": "Varchar"
        },
        {
          "name": "backup_email_domain_id: Uuid",
          "ordinal": 6,
          "type_info": "Uuid"
        },
        {
          "name": "backup_phone_country_code",
          "ordinal": 7,
          "type_info": "Bpchar"
        },
        {
          "name": "backup_phone_number",
          "ordinal": 8,
          "type_info": "Varchar"
        },
        {
          "name": "business_email_local",
          "ordinal": 9,
          "type_info": "Varchar"
        },
        {
          "name": "business_domain_name: String",
          "ordinal": 10,
          "type_info": "Text"
        },
        {
          "name": "business_name",
          "ordinal": 11,
          "type_info": "Varchar"
        },
        {
          "name": "otp_hash",
          "ordinal": 12,
          "type_info": "Text"
        },
        {
          "name": "otp_expiry",
          "ordinal": 13,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        true,
        true,
        null,
        true,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Bpchar",
          "Text"
        ]
      }
    },
    "query": "SELECT username, account_type as \"account_type: ResourceType\", password, first_name, last_name, backup_email_local, backup_email_domain_id as \"backup_email_domain_id: Uuid\", backup_phone_country_code, backup_phone_number, business_email_local, CASE WHEN business_domain_name IS NULL THEN NULL ELSE CONCAT(business_domain_name, '.', business_domain_tld) END as \"business_domain_name: String\", business_name, otp_hash, otp_expiry FROM user_to_sign_up WHERE backup_phone_country_code = $1 AND backup_phone_number = $2;"
  },
  "0e49a6f467ba6d6d927cb6704be1168bef7008d555f637c5e637e462a0b17d5b": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Int8",
          "Uuid",
          "Int8",
          "Int8"
        ]
      }
    },
    "query": "INSERT INTO user_login ( login_id, refresh_token, token_expiry, user_id, last_login, last_activity ) VALUES ($1, $2, $3, $4, $5, $6);"
  },
  "109658541c3629fa2b93265b2ac5c6d6dd5d154161d45ef2293027f875ff27f6": {
    "describe": {
      "columns": [
        {
          "name": "id: _",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "name!: _",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "status: _",
          "ordinal": 2,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "created",
                  "pushed",
                  "deploying",
                  "running",
                  "stopped",
                  "errored",
                  "deleted"
                ]
              },
              "name": "deployment_status"
            }
          }
        },
        {
          "name": "workspace_id: _",
          "ordinal": 3,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        false,
        null,
        false,
        false
      ],
      "parameters": {
        "Left": [
          {
            "Custom": {
              "kind": "Simple",
              "name": "citext"
            }
          },
          "Uuid"
        ]
      }
    },
    "query": "SELECT id as \"id: _\", name::TEXT as \"name!: _\", status as \"status: _\", workspace_id as \"workspace_id: _\" FROM deployment_static_site WHERE name = $1 AND workspace_id = $2 AND status != 'deleted';"
  },
  "117cf2f33ceb30129812a98389512975c4e4be5a736a0b28e7ee38c77330eae1": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT id FROM domain WHERE id = $1;"
  },
  "12ec65904ba0d3fc836a99a97125cc5d43442d0cc6d5c24a2d79a824a0d128fc": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Varchar",
          "Uuid",
          "Uuid"
        ]
      }
    },
    "query": "UPDATE \"user\" SET backup_email_local = $1, backup_email_domain_id = $2 WHERE id = $3;"
  },
  "136666427185160f1ff4fdafcb26cd3533883404d623a7075d680c7f4ecb7089": {
    "describe": {
      "columns": [
        {
          "name": "id: Uuid",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "username",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "password",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "first_name",
          "ordinal": 3,
          "type_info": "Varchar"
        },
        {
          "name": "last_name",
          "ordinal": 4,
          "type_info": "Varchar"
        },
        {
          "name": "dob",
          "ordinal": 5,
          "type_info": "Int8"
        },
        {
          "name": "bio",
          "ordinal": 6,
          "type_info": "Varchar"
        },
        {
          "name": "location",
          "ordinal": 7,
          "type_info": "Varchar"
        },
        {
          "name": "created",
          "ordinal": 8,
          "type_info": "Int8"
        },
        {
          "name": "backup_email_local",
          "ordinal": 9,
          "type_info": "Varchar"
        },
        {
          "name": "backup_email_domain_id: Uuid",
          "ordinal": 10,
          "type_info": "Uuid"
        },
        {
          "name": "backup_phone_country_code",
          "ordinal": 11,
          "type_info": "Bpchar"
        },
        {
          "name": "backup_phone_number",
          "ordinal": 12,
          "type_info": "Varchar"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        false,
        true,
        true,
        true,
        true
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "SELECT \"user\".id as \"id: Uuid\", \"user\".username, \"user\".password, \"user\".first_name, \"user\".last_name, \"user\".dob, \"user\".bio, \"user\".location, \"user\".created, \"user\".backup_email_local, \"user\".backup_email_domain_id as \"backup_email_domain_id: Uuid\", \"user\".backup_phone_country_code, \"user\".backup_phone_number FROM \"user\" LEFT JOIN personal_email ON personal_email.user_id = \"user\".id LEFT JOIN business_email ON business_email.user_id = \"user\".id LEFT JOIN domain ON domain.id = personal_email.domain_id OR domain.id = business_email.domain_id LEFT JOIN user_phone_number ON user_phone_number.user_id = \"user\".id LEFT JOIN phone_number_country_code ON phone_number_country_code.country_code = user_phone_number.country_code WHERE \"user\".username = $1 OR CONCAT( personal_email.local, '@', domain.name, '.', domain.tld ) = $1 OR CONCAT( business_email.local, '@', domain.name, '.', domain.tld ) = $1 OR CONCAT( '+', phone_number_country_code.phone_code, user_phone_number.number ) = $1;"
  },
  "1367b2c0bb8700daf488f62964c8c1396fb2a3a5a2f33577c4d0c1be8806507c": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "username",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "password",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "first_name",
          "ordinal": 3,
          "type_info": "Varchar"
        },
        {
          "name": "last_name",
          "ordinal": 4,
          "type_info": "Varchar"
        },
        {
          "name": "dob",
          "ordinal": 5,
          "type_info": "Int8"
        },
        {
          "name": "bio",
          "ordinal": 6,
          "type_info": "Varchar"
        },
        {
          "name": "location",
          "ordinal": 7,
          "type_info": "Varchar"
        },
        {
          "name": "created",
          "ordinal": 8,
          "type_info": "Int8"
        },
        {
          "name": "backup_email_local",
          "ordinal": 9,
          "type_info": "Varchar"
        },
        {
          "name": "backup_email_domain_id",
          "ordinal": 10,
          "type_info": "Uuid"
        },
        {
          "name": "backup_phone_country_code",
          "ordinal": 11,
          "type_info": "Bpchar"
        },
        {
          "name": "backup_phone_number",
          "ordinal": 12,
          "type_info": "Varchar"
        },
        {
          "name": "name!",
          "ordinal": 13,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        false,
        true,
        true,
        true,
        true,
        null
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT \"user\".*, CONCAT(domain.name, '.', domain.tld) as \"name!\" FROM workspace_domain INNER JOIN domain ON domain.id = workspace_domain.id INNER JOIN resource ON workspace_domain.id = resource.id INNER JOIN workspace ON resource.owner_id = workspace.id INNER JOIN \"user\" ON workspace.super_admin_id = \"user\".id WHERE workspace_domain.id = $1;"
  },
  "14001618d4a6ed0077c8714b56888385a2ebcd89963d39dc1c0e5efa708855cf": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid",
          "Uuid"
        ]
      }
    },
    "query": "INSERT INTO role_permissions_resource_type (role_id, permission_id, resource_type_id) VALUES ($1, $2, $3);"
  },
  "1478e049e620cdd3592a2f14e0f25a668c95e62854c5facb14517c62d6210275": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE INDEX business_email_idx_user_id ON business_email (user_id);"
  },
  "14af716f3befcb12cd9e3703395c6277742cdea22e93bfc319aebb490c0b7403": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE managed_url( id UUID CONSTRAINT managed_url_pk PRIMARY KEY, sub_domain TEXT NOT NULL CONSTRAINT managed_url_chk_sub_domain_valid CHECK( sub_domain ~ '^(([a-z0-9_]|[a-z0-9_][a-z0-9_\\-]*[a-z0-9_])\\.)*([a-z0-9_]|[a-z0-9_][a-z0-9_\\-]*[a-z0-9_])$' OR sub_domain = '@' OR sub_domain LIKE CONCAT( 'patr-deleted: ', REPLACE(id::TEXT, '-', ''), '@%' ) ), domain_id UUID NOT NULL, path TEXT NOT NULL, url_type MANAGED_URL_TYPE NOT NULL, deployment_id UUID, port INTEGER CONSTRAINT managed_url_chk_port_u16 CHECK( port > 0 AND port <= 65535 ), static_site_id UUID, url TEXT, workspace_id UUID NOT NULL, CONSTRAINT managed_url_uq_sub_domain_domain_id_path UNIQUE( sub_domain, domain_id, path ), CONSTRAINT managed_url_chk_values_null_or_not_null CHECK( ( url_type = 'proxy_to_deployment' AND deployment_id IS NOT NULL AND port IS NOT NULL AND static_site_id IS NULL AND url IS NULL ) OR ( url_type = 'proxy_to_static_site' AND deployment_id IS NULL AND port IS NULL AND static_site_id IS NOT NULL AND url IS NULL ) OR ( url_type = 'proxy_url' AND deployment_id IS NULL AND port IS NULL AND static_site_id IS NULL AND url IS NOT NULL ) OR ( url_type = 'redirect' AND deployment_id IS NULL AND port IS NULL AND static_site_id IS NULL AND url IS NOT NULL ) ) );"
  },
  "14b453faa2e6aa5aaa8922ea8acef257a36d4e7a9c32812d489aaba1847405eb": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE docker_registry_repository_manifest( repository_id UUID NOT NULL CONSTRAINT docker_registry_repository_manifest_fk_repository_id REFERENCES docker_registry_repository(id), manifest_digest TEXT NOT NULL, size BIGINT NOT NULL CONSTRAINT docker_registry_repository_manifest_chk_size_unsigned CHECK(size >= 0), created BIGINT NOT NULL CONSTRAINT docker_registry_repository_manifest_chk_created_unsigned CHECK( created >= 0 ), CONSTRAINT docker_registry_repository_manifest_pk PRIMARY KEY( repository_id, manifest_digest ) );"
  },
  "14da6d3904de6025049163bd747b1b346d7da4620259d5aab5f437f50b02a3b2": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "ALTER TABLE managed_database ADD CONSTRAINT managed_database_fk_id_workspace_id FOREIGN KEY(id, workspace_id) REFERENCES resource(id, owner_id);"
  },
  "14fe047c524321987b68fee257dce36a85c67d1746a1ceb1737b8e93fda0aed0": {
    "describe": {
      "columns": [
        {
          "name": "id: _",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "name!: _",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "super_admin_id: _",
          "ordinal": 2,
          "type_info": "Uuid"
        },
        {
          "name": "active",
          "ordinal": 3,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        false,
        null,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT id as \"id: _\", name::TEXT as \"name!: _\", super_admin_id as \"super_admin_id: _\", active FROM workspace WHERE id = $1;"
  },
  "15b57aca6475719d8ffa849f5de65b714bec8ee637b56f94572d9e98f92f89f8": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Bpchar",
          "Varchar"
        ]
      }
    },
    "query": "INSERT INTO user_phone_number (user_id, country_code, number) VALUES ($1, $2, $3);"
  },
  "15d97c8249593f00516ac5b30598779bda9d6214d2341d0166ada2e5dbc4a9e5": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          {
            "Custom": {
              "kind": {
                "Enum": [
                  "creating",
                  "running",
                  "stopped",
                  "errored",
                  "deleted"
                ]
              },
              "name": "managed_database_status"
            }
          },
          "Uuid"
        ]
      }
    },
    "query": "UPDATE managed_database SET status = $1 WHERE id = $2;"
  },
  "17110d0af21fc886aaa70147d26f326a861ca13713b0c00fb8646642b5fb8f9f": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Varchar",
          "Text",
          "Varchar",
          "Varchar",
          "Int8",
          "Varchar",
          "Uuid",
          "Bpchar",
          "Varchar"
        ]
      }
    },
    "query": "INSERT INTO \"user\" VALUES ( $1, $2, $3, $4, $5, NULL, NULL, NULL, $6, $7, $8, $9, $10 );"
  },
  "1744a46ba8ec9a9e788956406cc0ee9aa34844903ecf16ff84af3ff9332dc982": {
    "describe": {
      "columns": [
        {
          "name": "id: _",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "name",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "description",
          "ordinal": 2,
          "type_info": "Varchar"
        }
      ],
      "nullable": [
        false,
        false,
        true
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT id as \"id: _\", name, description FROM permission;"
  },
  "17c67912f71130b8cf2eecb66af9f86d8e03b0c829f807066cace584360dee71": {
    "describe": {
      "columns": [
        {
          "name": "id: _",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "name!: _",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "registry",
          "ordinal": 2,
          "type_info": "Varchar"
        },
        {
          "name": "repository_id: _",
          "ordinal": 3,
          "type_info": "Uuid"
        },
        {
          "name": "image_name",
          "ordinal": 4,
          "type_info": "Varchar"
        },
        {
          "name": "image_tag",
          "ordinal": 5,
          "type_info": "Varchar"
        },
        {
          "name": "status: _",
          "ordinal": 6,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "created",
                  "pushed",
                  "deploying",
                  "running",
                  "stopped",
                  "errored",
                  "deleted"
                ]
              },
              "name": "deployment_status"
            }
          }
        },
        {
          "name": "workspace_id: _",
          "ordinal": 7,
          "type_info": "Uuid"
        },
        {
          "name": "region: _",
          "ordinal": 8,
          "type_info": "Uuid"
        },
        {
          "name": "min_horizontal_scale",
          "ordinal": 9,
          "type_info": "Int2"
        },
        {
          "name": "max_horizontal_scale",
          "ordinal": 10,
          "type_info": "Int2"
        },
        {
          "name": "machine_type: _",
          "ordinal": 11,
          "type_info": "Uuid"
        },
        {
          "name": "deploy_on_push",
          "ordinal": 12,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        false,
        null,
        false,
        true,
        true,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT id as \"id: _\", name::TEXT as \"name!: _\", registry, repository_id as \"repository_id: _\", image_name, image_tag, status as \"status: _\", workspace_id as \"workspace_id: _\", region as \"region: _\", min_horizontal_scale, max_horizontal_scale, machine_type as \"machine_type: _\", deploy_on_push FROM deployment WHERE workspace_id = $1 AND status != 'deleted';"
  },
  "1815e0c66b5645f7e4994f135c7d0622d3219c98297eab447d4cadf9bed4a1f4": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE INDEX user_phone_number_idx_user_id ON user_phone_number (user_id);"
  },
  "190afdb5fff0d8d2459768bf598cb4cbe8a8eac23f33919a06c5057411079a65": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          {
            "Custom": {
              "kind": {
                "Enum": [
                  "proxy_to_deployment",
                  "proxy_to_static_site",
                  "proxy_url",
                  "redirect"
                ]
              },
              "name": "managed_url_type"
            }
          },
          "Uuid",
          "Int4",
          "Uuid",
          "Text"
        ]
      }
    },
    "query": "UPDATE managed_url SET path = $2, url_type = $3, deployment_id = $4, port = $5, static_site_id = $6, url = $7 WHERE id = $1;"
  },
  "1a22653fa91b8253b6ac6440aef2826bcb839954b73ee66f202f3682d8f6b6ef": {
    "describe": {
      "columns": [
        {
          "name": "country_code",
          "ordinal": 0,
          "type_info": "Bpchar"
        },
        {
          "name": "phone_number",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "user_id: Uuid",
          "ordinal": 2,
          "type_info": "Uuid"
        },
        {
          "name": "verification_token_hash",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "verification_token_expiry",
          "ordinal": 4,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Bpchar",
          "Text"
        ]
      }
    },
    "query": "SELECT user_unverified_phone_number.country_code, user_unverified_phone_number.phone_number, user_unverified_phone_number.user_id as \"user_id: Uuid\", user_unverified_phone_number.verification_token_hash, user_unverified_phone_number.verification_token_expiry FROM user_unverified_phone_number INNER JOIN phone_number_country_code ON user_unverified_phone_number.country_code = phone_number_country_code.country_code WHERE user_id = $1 AND user_unverified_phone_number.country_code = $2 AND user_unverified_phone_number.phone_number = $3;"
  },
  "1a38781f65e4110259d87dfbd32e22fa70ae545ddfd608ce5c48cb5820dc8c1b": {
    "describe": {
      "columns": [
        {
          "name": "id: _",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "name",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "description",
          "ordinal": 2,
          "type_info": "Varchar"
        }
      ],
      "nullable": [
        false,
        false,
        true
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT resource_type.id as \"id: _\", resource_type.name, resource_type.description FROM resource_type INNER JOIN resource ON resource.resource_type_id = resource_type.id WHERE resource.id = $1;"
  },
  "1a3b8e1bff241f2560652afe203c892e15868c7c48da74963afeccc550d90a9d": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "DELETE FROM role_permissions_resource_type WHERE role_id = $1;"
  },
  "1b91d51ce01a40c989017198a841c47361919562817d7f58d41e147a10bc2b2c": {
    "describe": {
      "columns": [
        {
          "name": "tag",
          "ordinal": 0,
          "type_info": "Text"
        },
        {
          "name": "last_updated",
          "ordinal": 1,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      }
    },
    "query": "SELECT tag, last_updated FROM docker_registry_repository_tag WHERE repository_id = $1 AND manifest_digest = $2;"
  },
  "1bb5d7f76d7fe36ec6bf5b12742e8b3b1112b350979bff98a46bb84c2add992f": {
    "describe": {
      "columns": [
        {
          "name": "name!",
          "ordinal": 0,
          "type_info": "Text"
        },
        {
          "name": "id!: Uuid",
          "ordinal": 1,
          "type_info": "Uuid"
        },
        {
          "name": "domain_type!: ResourceType",
          "ordinal": 2,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "personal",
                  "business"
                ]
              },
              "name": "resource_owner_type"
            }
          }
        },
        {
          "name": "is_verified!",
          "ordinal": 3,
          "type_info": "Bool"
        },
        {
          "name": "nameserver_type!: DomainNameserverType",
          "ordinal": 4,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "internal",
                  "external"
                ]
              },
              "name": "domain_nameserver_type"
            }
          }
        },
        {
          "name": "zone_identifier?",
          "ordinal": 5,
          "type_info": "Text"
        }
      ],
      "nullable": [
        null,
        true,
        true,
        true,
        true,
        false
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT CONCAT(domain.name, '.', domain.tld) as \"name!\", workspace_domain.id as \"id!: Uuid\", workspace_domain.domain_type as \"domain_type!: ResourceType\", workspace_domain.is_verified as \"is_verified!\", workspace_domain.nameserver_type as \"nameserver_type!: DomainNameserverType\", patr_controlled_domain.zone_identifier as \"zone_identifier?\" FROM workspace_domain INNER JOIN domain ON domain.id = workspace_domain.id LEFT JOIN patr_controlled_domain ON patr_controlled_domain.domain_id = workspace_domain.id WHERE is_verified = TRUE AND domain.name NOT LIKE CONCAT( 'patr-deleted: ', REPLACE(domain.id::TEXT, '-', ''), '@%' );"
  },
  "1c258cdf5e4f891a42018dbd6a99ad7cae3698e386c38415a5823d07d48ace98": {
    "describe": {
      "columns": [
        {
          "name": "country_code",
          "ordinal": 0,
          "type_info": "Bpchar"
        },
        {
          "name": "phone_number",
          "ordinal": 1,
          "type_info": "Varchar"
        }
      ],
      "nullable": [
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT country_code, number as \"phone_number\" FROM user_phone_number WHERE user_id = $1;"
  },
  "1d060e8f1c3d2ddbc982c7006b489a10007b4e6dd2eed4ff01c2200912301c2f": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE personal_domain( id UUID CONSTRAINT personal_domain_pk PRIMARY KEY, domain_type RESOURCE_OWNER_TYPE NOT NULL CONSTRAINT personal_domain_chk_domain_type CHECK( domain_type = 'personal' ), CONSTRAINT personal_domain_fk_id_domain_type FOREIGN KEY(id, domain_type) REFERENCES domain(id, type) );"
  },
  "1e6b6c8415d820fc71b8befecbf5eb664e4c8ddc0fd39993d53f1436d3177bfd": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Bpchar",
          "Varchar",
          "Uuid",
          "Text",
          "Int8"
        ]
      }
    },
    "query": "INSERT INTO user_unverified_phone_number ( country_code, phone_number, user_id, verification_token_hash, verification_token_expiry ) VALUES ($1, $2, $3, $4, $5) ON CONFLICT(country_code, phone_number) DO UPDATE SET user_id = EXCLUDED.user_id, verification_token_hash = EXCLUDED.verification_token_hash, verification_token_expiry = EXCLUDED.verification_token_expiry;"
  },
  "1f6ff6cf661a6007d78b7a30f0f8599c0ad2accd42912eb3f28d45c411f23674": {
    "describe": {
      "columns": [
        {
          "name": "user_id: Uuid",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "token",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "token_expiry",
          "ordinal": 2,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT user_id as \"user_id: Uuid\", token, token_expiry FROM password_reset_request WHERE user_id = $1;"
  },
  "1fbbf7824b6eec88e9a07501d790b7ec4a3d154754defc787de7e4c8ba323981": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TYPE MANAGED_DATABASE_STATUS AS ENUM( 'creating', /* Started the creation of database */ 'running', /* Database is running successfully */ 'stopped', /* Database is stopped by the user */ 'errored', /* Database encountered errors */ 'deleted' /* Database is deled by the user */ );"
  },
  "1ffbf0285f3df0db73fa4139ce0199b6d725acb166be76818f2aacd5ccefd41a": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Varchar",
          "Uuid"
        ]
      }
    },
    "query": "INSERT INTO personal_email (user_id, local, domain_id) VALUES ($1, $2, $3);"
  },
  "214029e2d4ca030d2569d1056ba426d10ff729410d1c8ab19c1e8dbd7d92bd20": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "INSERT INTO user_controlled_domain (domain_id, nameserver_type) VALUES ($1, 'external');"
  },
  "228e6bc3a8eb9c3113acda6e4fa32f347b99cf44fb9935e39461eaa8e8cef7e7": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Varchar"
        },
        {
          "name": "value",
          "ordinal": 1,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT * FROM meta_data WHERE id = 'version_major' OR id = 'version_minor' OR id = 'version_patch';"
  },
  "228f448b2b9762ad776a9141f6d887b5b8bc31c914c927619b580ae829b118a8": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Bpchar",
          "Text"
        ]
      }
    },
    "query": "DELETE FROM user_phone_number WHERE user_id = $1 AND country_code = $2 AND number = $3;"
  },
  "22ffa1d7616fd7c73e9bceebff257394d23b60558ae748196429f04410e5d616": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid"
        ]
      }
    },
    "query": "UPDATE deployment SET machine_type = $1 WHERE id = $2;"
  },
  "241d2d5275d061fa9f24043adb72590b240a691cf68bf703dc63546fa7705ec8": {
    "describe": {
      "columns": [
        {
          "name": "id: _",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "record_identifier",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "domain_id: _",
          "ordinal": 2,
          "type_info": "Uuid"
        },
        {
          "name": "name",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "type: _",
          "ordinal": 4,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "A",
                  "MX",
                  "TXT",
                  "AAAA",
                  "CNAME"
                ]
              },
              "name": "dns_record_type"
            }
          }
        },
        {
          "name": "value",
          "ordinal": 5,
          "type_info": "Text"
        },
        {
          "name": "priority",
          "ordinal": 6,
          "type_info": "Int4"
        },
        {
          "name": "ttl",
          "ordinal": 7,
          "type_info": "Int8"
        },
        {
          "name": "proxied",
          "ordinal": 8,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        true,
        false,
        true
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT patr_domain_dns_record.id as \"id: _\", patr_domain_dns_record.record_identifier, patr_domain_dns_record.domain_id as \"domain_id: _\", patr_domain_dns_record.name, patr_domain_dns_record.type as \"type: _\", patr_domain_dns_record.value, patr_domain_dns_record.priority, patr_domain_dns_record.ttl, patr_domain_dns_record.proxied FROM patr_domain_dns_record INNER JOIN domain ON patr_domain_dns_record.domain_id = domain.id WHERE patr_domain_dns_record.id = $1 AND domain.name NOT LIKE CONCAT( 'patr-deleted: ', REPLACE(domain.id::TEXT, '-', ''), '@%' );"
  },
  "245418717057bfa66558065924ff98b68ec31ac95754482415e9896211e519cb": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE patr_controlled_domain( domain_id UUID NOT NULL CONSTRAINT patr_controlled_domain_pk PRIMARY KEY, zone_identifier TEXT NOT NULL, nameserver_type DOMAIN_NAMESERVER_TYPE NOT NULL CONSTRAINT patr_controlled_domain_chk_nameserver_type CHECK( nameserver_type = 'internal' ), CONSTRAINT patr_controlled_domain_fk_domain_id_nameserver_type FOREIGN KEY(domain_id, nameserver_type) REFERENCES workspace_domain(id, nameserver_type) );"
  },
  "24651378057df5d6b31be9a55d60d02884c8c9d9f7cb441254a408e7dc4f05b9": {
    "describe": {
      "columns": [
        {
          "name": "country_code",
          "ordinal": 0,
          "type_info": "Bpchar"
        },
        {
          "name": "phone_code",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "country_name",
          "ordinal": 2,
          "type_info": "Varchar"
        }
      ],
      "nullable": [
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Bpchar"
        ]
      }
    },
    "query": "SELECT * FROM phone_number_country_code WHERE country_code = $1;"
  },
  "24694606a443f2511160e4199ec028623f4f8f60c0ac156ce26fbff14fd7e9dd": {
    "describe": {
      "columns": [
        {
          "name": "email!: String",
          "ordinal": 0,
          "type_info": "Text"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT CONCAT( \"user\".backup_email_local, '@', domain.name, '.', domain.tld ) as \"email!: String\" FROM \"user\" INNER JOIN domain ON \"user\".backup_email_domain_id = domain.id WHERE \"user\".id = $1;"
  },
  "25e9105d2a4f541cf9d4a25b5052629777e59c308caa24e83eb2efa386757b87": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE deployment_exposed_port( deployment_id UUID CONSTRAINT deployment_exposed_port_fk_deployment_id REFERENCES deployment(id), port INTEGER NOT NULL CONSTRAINT deployment_exposed_port_chk_port_u16 CHECK( port > 0 AND port <= 65535 ), port_type EXPOSED_PORT_TYPE NOT NULL, CONSTRAINT deployment_exposed_port_pk PRIMARY KEY(deployment_id, port) );"
  },
  "25eafab4c0a9b0440ac9cdf11910ccd6be067d8ef4ed4132d555dd9e0d57f949": {
    "describe": {
      "columns": [
        {
          "name": "login_id: Uuid",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "refresh_token",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "token_expiry",
          "ordinal": 2,
          "type_info": "Int8"
        },
        {
          "name": "user_id: Uuid",
          "ordinal": 3,
          "type_info": "Uuid"
        },
        {
          "name": "last_login",
          "ordinal": 4,
          "type_info": "Int8"
        },
        {
          "name": "last_activity",
          "ordinal": 5,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT login_id as \"login_id: Uuid\", refresh_token, token_expiry, user_id as \"user_id: Uuid\", last_login, last_activity FROM user_login WHERE user_id = $1;"
  },
  "28c3a8d03871bb820d4ea57bc7ded4e77e4aa8c0fd19556827bc401e16648cac": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE docker_registry_repository( id UUID CONSTRAINT docker_registry_repository_pk PRIMARY KEY, workspace_id UUID NOT NULL CONSTRAINT docker_registry_repository_fk_workspace_id REFERENCES workspace(id), name CITEXT NOT NULL, CONSTRAINT docker_registry_repository_uq_workspace_id_name UNIQUE(workspace_id, name), CONSTRAINT docker_registry_repository_uq_id_workspace_id UNIQUE( id, workspace_id ) );"
  },
  "292b36a0ab84f6022c19fafc224ce4d2a090fa4a4df94a861480c5835ff6f864": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE EXTENSION IF NOT EXISTS postgis;"
  },
  "2a8531f5a4448c2d77be6b5353946591bf213407b9a58b0b342a03bef0acd99c": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TYPE MANAGED_URL_TYPE AS ENUM( 'proxy_to_deployment', 'proxy_to_static_site', 'proxy_url', 'redirect' );"
  },
  "2b46a29a7df8752ad01f68d35209240b258747e327b735e6dfd734c82ae01c91": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE user_to_sign_up( username VARCHAR(100) CONSTRAINT user_to_sign_up_pk PRIMARY KEY CONSTRAINT user_to_sign_up_chk_username_is_valid CHECK( /* Username is a-z, 0-9, _, cannot begin or end with a . or - */ username ~ '^[a-z0-9_][a-z0-9_\\.\\-]*[a-z0-9_]$' AND username NOT LIKE '%..%' AND username NOT LIKE '%.-%' AND username NOT LIKE '%-.%' ), account_type RESOURCE_OWNER_TYPE NOT NULL, password TEXT NOT NULL, first_name VARCHAR(100) NOT NULL, last_name VARCHAR(100) NOT NULL, /* Personal email address OR backup email */ backup_email_local VARCHAR(64) CONSTRAINT user_to_sign_up_chk_backup_email_is_lower_case CHECK( backup_email_local = LOWER(backup_email_local) ), backup_email_domain_id UUID CONSTRAINT user_to_sign_up_fk_backup_email_domain_id REFERENCES personal_domain(id), backup_phone_country_code CHAR(2) CONSTRAINT user_to_sign_up_fk_backup_phone_country_code REFERENCES phone_number_country_code(country_code) CONSTRAINT user_to_sign_up_chk_backup_phone_country_code_upper_case CHECK( backup_phone_country_code = UPPER(backup_phone_country_code) ), backup_phone_number VARCHAR(15) CONSTRAINT user_to_sign_up_chk_phone_number_valid CHECK( LENGTH(backup_phone_number) >= 7 AND LENGTH(backup_phone_number) <= 15 AND CAST(backup_phone_number AS BIGINT) > 0 ), /* Workspace email address */ business_email_local VARCHAR(64) CONSTRAINT user_to_sign_up_chk_business_email_local_is_lower_case CHECK( business_email_local = LOWER(business_email_local) ), business_domain_name TEXT CONSTRAINT user_to_sign_up_chk_business_domain_name_is_valid CHECK( business_domain_name ~ '^(([a-z0-9])|([a-z0-9][a-z0-9-]*[a-z0-9]))$' ), business_domain_tld TEXT CONSTRAINT user_to_sign_up_chk_business_domain_tld_is_length_valid CHECK( LENGTH(business_domain_tld) >= 2 AND LENGTH(business_domain_tld) <= 6 ) CONSTRAINT user_to_sign_up_chk_business_domain_tld_is_valid CHECK( business_domain_tld ~ '^(([a-z0-9])|([a-z0-9][a-z0-9\\-\\.]*[a-z0-9]))$' ) CONSTRAINT user_to_sign_up_fk_business_domain_tld REFERENCES domain_tld(tld), business_name VARCHAR(100) CONSTRAINT user_to_sign_up_chk_business_name_is_lower_case CHECK(business_name = LOWER(business_name)), otp_hash TEXT NOT NULL, otp_expiry BIGINT NOT NULL CONSTRAINT user_to_sign_up_chk_expiry_unsigned CHECK(otp_expiry >= 0), CONSTRAINT user_to_sign_up_chk_max_domain_name_length CHECK( (LENGTH(business_domain_name) + LENGTH(business_domain_tld)) < 255 ), CONSTRAINT user_to_sign_up_chk_business_details_valid CHECK( ( account_type = 'personal' AND ( business_email_local IS NULL AND business_domain_name IS NULL AND business_domain_tld IS NULL AND business_name IS NULL ) ) OR ( account_type = 'business' AND ( business_email_local IS NOT NULL AND business_domain_name IS NOT NULL AND business_domain_tld IS NOT NULL AND business_name IS NOT NULL ) ) ), CONSTRAINT user_to_sign_up_chk_backup_details CHECK( ( backup_email_local IS NOT NULL AND backup_email_domain_id IS NOT NULL AND backup_phone_country_code IS NULL AND backup_phone_number IS NULL ) OR ( backup_email_local IS NULL AND backup_email_domain_id IS NULL AND backup_phone_country_code IS NOT NULL AND backup_phone_number IS NOT NULL ) ) );"
  },
  "2ccc65f83454d81ae4cb737c002315141f7bac8ec4c82fe6cde270c08295a47e": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Varchar"
        ]
      }
    },
    "query": "INSERT INTO permission (id, name, description) VALUES ($1, $2, NULL);"
  },
  "2ce54734a5a9b87ab6528502e818e093459e5ecf24b4ea8cd82e98301957216c": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Int4",
          {
            "Custom": {
              "kind": {
                "Enum": [
                  "http"
                ]
              },
              "name": "exposed_port_type"
            }
          }
        ]
      }
    },
    "query": "INSERT INTO deployment_exposed_port ( deployment_id, port, port_type ) VALUES ($1, $2, $3);"
  },
  "2d9bd34aec2d4a7e2b0a0a989686426764736a4d4c82d91fa157b387bc0a4642": {
    "describe": {
      "columns": [
        {
          "name": "id: _",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "workspace_id: _",
          "ordinal": 1,
          "type_info": "Uuid"
        },
        {
          "name": "name!: _",
          "ordinal": 2,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        null
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT id as \"id: _\", workspace_id as \"workspace_id: _\", name::TEXT as \"name!: _\" FROM docker_registry_repository WHERE id = $1 AND name NOT LIKE 'patr-deleted:%';"
  },
  "2ed7694989087062b9d43d0c0d294a84b766a979c580e450703c5119ca9a4562": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          {
            "Custom": {
              "kind": "Simple",
              "name": "citext"
            }
          },
          "Uuid"
        ]
      }
    },
    "query": "UPDATE deployment_static_site SET name = $1 WHERE id = $2;"
  },
  "30653640dbfdeb1e2caa666a9b85be290220813278ce2acad9cc3590b7198d18": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TYPE DEPLOYMENT_STATUS AS ENUM( 'created', /* Created, but nothing pushed to it yet */ 'pushed', /* Something is pushed, but the system has not deployed it yet */ 'deploying', /* Something is pushed, and the system is currently deploying it */ 'running', /* Deployment is running successfully */ 'stopped', /* Deployment is stopped by the user */ 'errored', /* Deployment is stopped because of too many errors */ 'deleted' /* Deployment is deleted by the user */ );"
  },
  "307345f2a5c65e8f92e5e1efff4d6b9975d1405095cb5e31dc91bc4e58b9f783": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "DELETE FROM resource WHERE id = $1;"
  },
  "314cdde568cc1bfecbf084691f4a11d98320ca9ca86b3a5c4548abd8382a4e67": {
    "describe": {
      "columns": [
        {
          "name": "id: _",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "sub_domain",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "domain_id: _",
          "ordinal": 2,
          "type_info": "Uuid"
        },
        {
          "name": "path",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "url_type: _",
          "ordinal": 4,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "proxy_to_deployment",
                  "proxy_to_static_site",
                  "proxy_url",
                  "redirect"
                ]
              },
              "name": "managed_url_type"
            }
          }
        },
        {
          "name": "deployment_id: _",
          "ordinal": 5,
          "type_info": "Uuid"
        },
        {
          "name": "port",
          "ordinal": 6,
          "type_info": "Int4"
        },
        {
          "name": "static_site_id: _",
          "ordinal": 7,
          "type_info": "Uuid"
        },
        {
          "name": "url",
          "ordinal": 8,
          "type_info": "Text"
        },
        {
          "name": "workspace_id: _",
          "ordinal": 9,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        true,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT id as \"id: _\", sub_domain, domain_id as \"domain_id: _\", path, url_type as \"url_type: _\", deployment_id as \"deployment_id: _\", port, static_site_id as \"static_site_id: _\", url, workspace_id as \"workspace_id: _\" FROM managed_url WHERE workspace_id = $1 AND sub_domain NOT LIKE CONCAT( 'patr-deleted: ', REPLACE(id::TEXT, '-', ''), '@%' );"
  },
  "31fa3365a18b7cdbb3532ea5559f8a6fafda313ec59e82c3d790c31ac45fb452": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE business_email( user_id UUID NOT NULL CONSTRAINT business_email_fk_user_id REFERENCES \"user\"(id), local VARCHAR(64) NOT NULL CONSTRAINT business_email_chk_local_is_lower_case CHECK( local = LOWER(local) ), domain_id UUID NOT NULL CONSTRAINT business_email_fk_domain_id REFERENCES workspace_domain(id), CONSTRAINT business_email_pk PRIMARY KEY(local, domain_id) );"
  },
  "334d5e07965406e65178c69651ce3f91e4c2c4c16f7b1927d8f121f517aa4f67": {
    "describe": {
      "columns": [
        {
          "name": "id: _",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "sub_domain",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "domain_id: _",
          "ordinal": 2,
          "type_info": "Uuid"
        },
        {
          "name": "path",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "url_type: _",
          "ordinal": 4,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "proxy_to_deployment",
                  "proxy_to_static_site",
                  "proxy_url",
                  "redirect"
                ]
              },
              "name": "managed_url_type"
            }
          }
        },
        {
          "name": "deployment_id: _",
          "ordinal": 5,
          "type_info": "Uuid"
        },
        {
          "name": "port",
          "ordinal": 6,
          "type_info": "Int4"
        },
        {
          "name": "static_site_id: _",
          "ordinal": 7,
          "type_info": "Uuid"
        },
        {
          "name": "url",
          "ordinal": 8,
          "type_info": "Text"
        },
        {
          "name": "workspace_id: _",
          "ordinal": 9,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        true,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT id as \"id: _\", sub_domain, domain_id as \"domain_id: _\", path, url_type as \"url_type: _\", deployment_id as \"deployment_id: _\", port, static_site_id as \"static_site_id: _\", url, workspace_id as \"workspace_id: _\" FROM managed_url WHERE domain_id = $1 AND sub_domain NOT LIKE CONCAT( 'patr-deleted: ', REPLACE(id::TEXT, '-', ''), '@%' );"
  },
  "33846eaf8014085364f0ee8032337df4c4d8c4c7fe4df6df74c76049dd3a43f8": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "ALTER TABLE patr_domain_dns_record ADD CONSTRAINT patr_domain_dns_record_fk_id FOREIGN KEY(id) REFERENCES resource(id);"
  },
  "33b487de7c39eb343675c2213545e8c83566f565f3a4f0f2379170a9bad047fe": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TYPE EXPOSED_PORT_TYPE AS ENUM( 'http' );"
  },
  "34a6c091329abb7322f4583844fc2bcd5a5d8a6b610da77113647a6583bff569": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE INDEX resource_idx_owner_id ON resource (owner_id);"
  },
  "35725518dbac83499f9bce45b05d2c9840f79915f0f28feb6e8981ccae25ad52": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "name",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "description",
          "ordinal": 2,
          "type_info": "Varchar"
        },
        {
          "name": "owner_id",
          "ordinal": 3,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        false,
        false,
        true,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT * FROM role WHERE id = $1;"
  },
  "36a07994042c7ad6bc93e25b0d951c244168fb2df7c6ce76101d979d956f1641": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE deployment_machine_type( id UUID CONSTRAINT deployment_machint_type_pk PRIMARY KEY, cpu_count SMALLINT NOT NULL, memory_count INTEGER NOT NULL /* Multiples of 0.25 GB */ );"
  },
  "36e2cd3a54f2c51567701855c0d88510ff581f4e7ee1278ac9134eaf2b289806": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE resource_type( id UUID CONSTRAINT resource_type_pk PRIMARY KEY, name VARCHAR(100) NOT NULL CONSTRAINT resource_type_uq_name UNIQUE, description VARCHAR(500) );"
  },
  "373f49a79215c14fff9b20f486d990ad59e47d670c7c95e11b2a205a3ff891cf": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE phone_number_country_code( country_code CHAR(2) CONSTRAINT phone_number_country_code_pk PRIMARY KEY CONSTRAINT phone_number_country_code_chk_country_code_is_upper_case CHECK( country_code = UPPER(country_code) ), phone_code VARCHAR(5) NOT NULL, country_name VARCHAR(80) NOT NULL );"
  },
  "3828974a2c9c0d3307d14357c7240bbd546c6db0c918764a278da85a2fc9d1d3": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          {
            "Custom": {
              "kind": {
                "Enum": [
                  "internal",
                  "external"
                ]
              },
              "name": "domain_nameserver_type"
            }
          }
        ]
      }
    },
    "query": "INSERT INTO workspace_domain (id, domain_type, is_verified, nameserver_type) VALUES ($1, 'business', FALSE, $2);"
  },
  "3965581880bfbe752b776a4c3b8cd706b08ab342b24781170ad0025fd8133a5f": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE INDEX phone_number_country_code_idx_phone_code ON phone_number_country_code (phone_code);"
  },
  "3c88f9a6f62c223f1faa143eb4ec4ad07a8f538268ad5941c1895d2124108b4b": {
    "describe": {
      "columns": [
        {
          "name": "count",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT COUNT(*) as \"count\" FROM patr_domain_dns_record WHERE domain_id = $1;"
  },
  "3c9d1ea4466117373233fc7413eb1290e2c1cdfd276781a0ec5995133c34be4a": {
    "describe": {
      "columns": [
        {
          "name": "count!",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT COUNT(*) \"count!\" FROM deployment WHERE status = 'deleted';"
  },
  "3d991c4da5286c38c929766bb76ae1f8e613d4680dc78fd76555737c7481349f": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          {
            "Custom": {
              "kind": "Simple",
              "name": "citext"
            }
          },
          "Uuid",
          "Varchar",
          "Uuid",
          "Uuid",
          "Int2",
          "Int2",
          "Uuid",
          "Bool"
        ]
      }
    },
    "query": "INSERT INTO deployment ( id, name, registry, repository_id, image_name, image_tag, status, workspace_id, region, min_horizontal_scale, max_horizontal_scale, machine_type, deploy_on_push ) VALUES ( $1, $2, 'registry.patr.cloud', $3, NULL, $4, 'created', $5, $6, $7, $8, $9, $10 );"
  },
  "3dcc984f6870716b1bdc57d4f61d6fa87d190a0b20dd2c8efa38b67e9c4306ae": {
    "describe": {
      "columns": [
        {
          "name": "country_code",
          "ordinal": 0,
          "type_info": "Bpchar"
        },
        {
          "name": "phone_number",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "user_id: Uuid",
          "ordinal": 2,
          "type_info": "Uuid"
        },
        {
          "name": "verification_token_hash",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "verification_token_expiry",
          "ordinal": 4,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Bpchar",
          "Text"
        ]
      }
    },
    "query": "SELECT country_code, phone_number, user_id as \"user_id: Uuid\", verification_token_hash, verification_token_expiry FROM user_unverified_phone_number WHERE country_code = $1 AND phone_number = $2;"
  },
  "3f3db5bf71dab7a287aa95fe76ec466e2fd65cb836c3c04dde424d244fc21cd4": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          {
            "Custom": {
              "kind": {
                "Enum": [
                  "created",
                  "pushed",
                  "deploying",
                  "running",
                  "stopped",
                  "errored",
                  "deleted"
                ]
              },
              "name": "deployment_status"
            }
          },
          "Uuid"
        ]
      }
    },
    "query": "UPDATE deployment SET status = $1 WHERE id = $2;"
  },
  "3f67392b96b39a7df360ad4b54de8a56a5f12c1f6f17534917236072eb283680": {
    "describe": {
      "columns": [
        {
          "name": "name!",
          "ordinal": 0,
          "type_info": "Text"
        },
        {
          "name": "id!: Uuid",
          "ordinal": 1,
          "type_info": "Uuid"
        },
        {
          "name": "domain_type!: ResourceType",
          "ordinal": 2,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "personal",
                  "business"
                ]
              },
              "name": "resource_owner_type"
            }
          }
        },
        {
          "name": "is_verified!",
          "ordinal": 3,
          "type_info": "Bool"
        },
        {
          "name": "nameserver_type!: DomainNameserverType",
          "ordinal": 4,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "internal",
                  "external"
                ]
              },
              "name": "domain_nameserver_type"
            }
          }
        },
        {
          "name": "zone_identifier?",
          "ordinal": 5,
          "type_info": "Text"
        }
      ],
      "nullable": [
        null,
        true,
        true,
        true,
        true,
        false
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT CONCAT(domain.name, '.', domain.tld) as \"name!\", workspace_domain.id as \"id!: Uuid\", workspace_domain.domain_type as \"domain_type!: ResourceType\", workspace_domain.is_verified as \"is_verified!\", workspace_domain.nameserver_type as \"nameserver_type!: DomainNameserverType\", patr_controlled_domain.zone_identifier as \"zone_identifier?\" FROM workspace_domain INNER JOIN domain ON domain.id = workspace_domain.id LEFT JOIN patr_controlled_domain ON patr_controlled_domain.domain_id = workspace_domain.id WHERE is_verified = FALSE AND domain.name NOT LIKE CONCAT( 'patr-deleted: ', REPLACE(domain.id::TEXT, '-', ''), '@%' );"
  },
  "41d09235a58b1d11032c177b7f00cb474afbddb891fecc9f75a8cb6cc1b2947a": {
    "describe": {
      "columns": [
        {
          "name": "id: _",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "name!: _",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "super_admin_id: _",
          "ordinal": 2,
          "type_info": "Uuid"
        },
        {
          "name": "active",
          "ordinal": 3,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        false,
        null,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT DISTINCT workspace.id as \"id: _\", workspace.name::TEXT as \"name!: _\", workspace.super_admin_id as \"super_admin_id: _\", workspace.active FROM workspace LEFT JOIN workspace_user ON workspace.id = workspace_user.workspace_id WHERE workspace.super_admin_id = $1 OR workspace_user.user_id = $1;"
  },
  "425b54747447f734f0bafe35640016c95e5e221cd1a93883dc73d353f9011296": {
    "describe": {
      "columns": [
        {
          "name": "id: Uuid",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "username",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "password",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "first_name",
          "ordinal": 3,
          "type_info": "Varchar"
        },
        {
          "name": "last_name",
          "ordinal": 4,
          "type_info": "Varchar"
        },
        {
          "name": "dob",
          "ordinal": 5,
          "type_info": "Int8"
        },
        {
          "name": "bio",
          "ordinal": 6,
          "type_info": "Varchar"
        },
        {
          "name": "location",
          "ordinal": 7,
          "type_info": "Varchar"
        },
        {
          "name": "created",
          "ordinal": 8,
          "type_info": "Int8"
        },
        {
          "name": "backup_email_local",
          "ordinal": 9,
          "type_info": "Varchar"
        },
        {
          "name": "backup_email_domain_id: Uuid",
          "ordinal": 10,
          "type_info": "Uuid"
        },
        {
          "name": "backup_phone_country_code",
          "ordinal": 11,
          "type_info": "Bpchar"
        },
        {
          "name": "backup_phone_number",
          "ordinal": 12,
          "type_info": "Varchar"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        false,
        true,
        true,
        true,
        true
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "SELECT \"user\".id as \"id: Uuid\", \"user\".username, \"user\".password, \"user\".first_name, \"user\".last_name, \"user\".dob, \"user\".bio, \"user\".location, \"user\".created, \"user\".backup_email_local, \"user\".backup_email_domain_id as \"backup_email_domain_id: Uuid\", \"user\".backup_phone_country_code, \"user\".backup_phone_number FROM \"user\" WHERE username = $1;"
  },
  "42a3e7e04f5b80211c82b6485eb7359d5b03fd8b3378f14537f349ce5a2d5508": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Bool"
        ]
      }
    },
    "query": "UPDATE workspace_domain SET is_verified = $2 WHERE id = $1;"
  },
  "42c976d4a389df35565da286bb7cb9a53078aeadd55cb4cf51595c0a334f09e6": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Uuid",
          "Text",
          {
            "Custom": {
              "kind": {
                "Enum": [
                  "A",
                  "MX",
                  "TXT",
                  "AAAA",
                  "CNAME"
                ]
              },
              "name": "dns_record_type"
            }
          },
          "Text",
          "Int4",
          "Int8",
          "Bool"
        ]
      }
    },
    "query": "INSERT INTO patr_domain_dns_record ( id, record_identifier, domain_id, name, type, value, priority, ttl, proxied ) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9);"
  },
  "4473fad035c7e0e8c1466af8dae29925137071c56c7b8827b37fa3c6ee5505f5": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE user_phone_number( user_id UUID NOT NULL CONSTRAINT user_phone_number_fk_user_id REFERENCES \"user\"(id) DEFERRABLE INITIALLY IMMEDIATE, country_code CHAR(2) NOT NULL CONSTRAINT user_phone_number_fk_country_code REFERENCES phone_number_country_code(country_code) CONSTRAINT user_phone_number_chk_country_code_is_upper_case CHECK( country_code = UPPER(country_code) ), number VARCHAR(15) NOT NULL CONSTRAINT user_phone_number_chk_number_valid CHECK( LENGTH(number) >= 7 AND LENGTH(number) <= 15 AND CAST(number AS BIGINT) > 0 ), CONSTRAINT user_phone_number_pk PRIMARY KEY(country_code, number), CONSTRAINT user_phone_number_uq_user_id_country_code_number UNIQUE(user_id, country_code, number) );"
  },
  "44b8b92c5ec6bb40b4a6470af433ea6b17010a72c5bf64b9b8f51272e542cc92": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Uuid"
        ]
      }
    },
    "query": "INSERT INTO deployment_region ( id, name, provider, location, parent_region_id ) VALUES ($1, $2, NULL, NULL, $3);"
  },
  "465499cd312427f9daac7b5b6a05aa0c4e266f2e44e2a880626698aee28a2577": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE meta_data( id VARCHAR(100) CONSTRAINT meta_data_pk PRIMARY KEY, value TEXT NOT NULL );"
  },
  "4795616699193f045bc3fc4436537b125215e4adba7669bd4a0b5aa738bbfa29": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Varchar",
          "Text",
          "Varchar",
          "Varchar",
          "Varchar",
          "Uuid",
          "Bpchar",
          "Varchar",
          "Varchar",
          "Text",
          "Text",
          "Varchar",
          "Text",
          "Int8"
        ]
      }
    },
    "query": "INSERT INTO user_to_sign_up ( username, account_type, password, first_name, last_name, backup_email_local, backup_email_domain_id, backup_phone_country_code, backup_phone_number, business_email_local, business_domain_name, business_domain_tld, business_name, otp_hash, otp_expiry ) VALUES ( $1, 'business', $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14 ) ON CONFLICT(username) DO UPDATE SET account_type = 'business', password = EXCLUDED.password, first_name = EXCLUDED.first_name, last_name = EXCLUDED.last_name, backup_email_local = EXCLUDED.backup_email_local, backup_email_domain_id = EXCLUDED.backup_email_domain_id, backup_phone_country_code = EXCLUDED.backup_phone_country_code, backup_phone_number = EXCLUDED.backup_phone_number, business_email_local = EXCLUDED.business_email_local, business_domain_name = EXCLUDED.business_domain_name, business_domain_tld = EXCLUDED.business_domain_tld, business_name = EXCLUDED.business_name, otp_hash = EXCLUDED.otp_hash, otp_expiry = EXCLUDED.otp_expiry;"
  },
  "4a5a68c97c5ca2cb9ec0155654d49074b63521bee0db502e8e479dbe6dbf40b9": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TYPE DOMAIN_NAMESERVER_TYPE AS ENUM( 'internal', 'external' );"
  },
  "4d4d3f0596fa4cb76250545fe274ac8edb6d56fd4a60d7f5b3085280ea880105": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text",
          "Uuid"
        ]
      }
    },
    "query": "UPDATE managed_database SET digitalocean_db_id = $1 WHERE id = $2;"
  },
  "4e0cdb9cdbfb4d2360aa8eff5c49dfa18da9969f601ae2532cc2c13588d2011c": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE user_unverified_personal_email( local VARCHAR(64) NOT NULL CONSTRAINT user_unverified_personal_email_chk_local_is_lower_case CHECK( local = LOWER(local) ), domain_id UUID NOT NULL CONSTRAINT user_unverified_personal_email_fk_domain_id REFERENCES personal_domain(id), user_id UUID NOT NULL CONSTRAINT user_unverified_personal_email_fk_user_id REFERENCES \"user\"(id), verification_token_hash TEXT NOT NULL, verification_token_expiry BIGINT NOT NULL CONSTRAINT user_unverified_personal_email_chk_token_expiry_unsigned CHECK(verification_token_expiry >= 0), CONSTRAINT user_unverified_personal_email_pk PRIMARY KEY(local, domain_id), CONSTRAINT user_unverified_personal_email_uq_user_id_local_domain_id UNIQUE(user_id, local, domain_id) );"
  },
  "4f1a513b45750aa514a8928122a22edd728e7ae6bb07301dd58885e7ac3da3e4": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "DELETE FROM role_permissions_resource WHERE role_id = $1;"
  },
  "50282dcc98562ef247ea4d4978153d7ea74dc9001b89ed36885a6446f8543fc8": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "DELETE FROM workspace_domain WHERE id = $1;"
  },
  "511135ae50aaa0dd7c0062da3063203a09d234516bb68636f0542adc6fa1ecc4": {
    "describe": {
      "columns": [
        {
          "name": "count!",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT COUNT(*) as \"count!\" FROM managed_database WHERE status = 'deleted';"
  },
  "5198716586d0f372c693b04629cc2b35cde145293878884d3ab56f0991d7df17": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE deployment_static_site( id UUID CONSTRAINT deployment_static_site_pk PRIMARY KEY, name CITEXT NOT NULL CONSTRAINT deployment_static_site_chk_name_is_trimmed CHECK( name = TRIM(name) ), status DEPLOYMENT_STATUS NOT NULL DEFAULT 'created', workspace_id UUID NOT NULL, CONSTRAINT deployment_static_site_uq_name_workspace_id UNIQUE(name, workspace_id), CONSTRAINT deployment_static_site_uq_id_workspace_id UNIQUE(id, workspace_id) );"
  },
  "51e6f9c43ba3f7a6e75421aee62a007526052edb231f8b12812fc510b9870d0d": {
    "describe": {
      "columns": [
        {
          "name": "id: _",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "name",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "description",
          "ordinal": 2,
          "type_info": "Varchar"
        }
      ],
      "nullable": [
        false,
        false,
        true
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT id as \"id: _\", name, description FROM resource_type;"
  },
  "561a68357a791929a142bab054437c0984b9d36ab55569146d65999052234837": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid"
        ]
      }
    },
    "query": "UPDATE deployment SET region = $1 WHERE id = $2;"
  },
  "5b11baccc8d40205e1054eb75997aea9d3c398b6ec3cfe6fb75811da2915f2ee": {
    "describe": {
      "columns": [
        {
          "name": "manifest_digest",
          "ordinal": 0,
          "type_info": "Text"
        },
        {
          "name": "size",
          "ordinal": 1,
          "type_info": "Int8"
        },
        {
          "name": "created",
          "ordinal": 2,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT manifest_digest, size, created FROM docker_registry_repository_manifest WHERE repository_id = $1;"
  },
  "5de2f6de987dc3a0e9f136886c7fc2e4ed58f97ca955046d77a7c6e616ed9fc3": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Int2",
          "Int4"
        ]
      }
    },
    "query": "INSERT INTO deployment_machine_type ( id, cpu_count, memory_count ) VALUES ($1, $2, $3);"
  },
  "5f4da81e11690f78c860744212e2d92c210d50982c52e97afe27b96c070caa27": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "name",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "resource_type_id",
          "ordinal": 2,
          "type_info": "Uuid"
        },
        {
          "name": "owner_id",
          "ordinal": 3,
          "type_info": "Uuid"
        },
        {
          "name": "created",
          "ordinal": 4,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT * FROM resource WHERE id = $1;"
  },
  "5fd444f01e8a4174d1f609b73b309adcdf00151f14e89223d322fcd6dc475fe7": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "INSERT INTO phone_number_country_code (country_code, phone_code, country_name) VALUES ($$AF$$, $$93$$, $$Afghanistan$$), ($$AX$$, $$358$$, $$Aland Islands$$), ($$AL$$, $$355$$, $$Albania$$), ($$DZ$$, $$213$$, $$Algeria$$), ($$AS$$, $$1684$$, $$American Samoa$$), ($$AD$$, $$376$$, $$Andorra$$), ($$AO$$, $$244$$, $$Angola$$), ($$AI$$, $$1264$$, $$Anguilla$$), ($$AQ$$, $$672$$, $$Antarctica$$), ($$AG$$, $$1268$$, $$Antigua and Barbuda$$), ($$AR$$, $$54$$, $$Argentina$$), ($$AM$$, $$374$$, $$Armenia$$), ($$AW$$, $$297$$, $$Aruba$$), ($$AU$$, $$61$$, $$Australia$$), ($$AT$$, $$43$$, $$Austria$$), ($$AZ$$, $$994$$, $$Azerbaijan$$), ($$BS$$, $$1242$$, $$Bahamas$$), ($$BH$$, $$973$$, $$Bahrain$$), ($$BD$$, $$880$$, $$Bangladesh$$), ($$BB$$, $$1246$$, $$Barbados$$), ($$BY$$, $$375$$, $$Belarus$$), ($$BE$$, $$32$$, $$Belgium$$), ($$BZ$$, $$501$$, $$Belize$$), ($$BJ$$, $$229$$, $$Benin$$), ($$BM$$, $$1441$$, $$Bermuda$$), ($$BT$$, $$975$$, $$Bhutan$$), ($$BO$$, $$591$$, $$Bolivia$$), ($$BQ$$, $$599$$, $$Bonaire, Sint Eustatius and Saba$$), ($$BA$$, $$387$$, $$Bosnia and Herzegovina$$), ($$BW$$, $$267$$, $$Botswana$$), ($$BV$$, $$55$$, $$Bouvet Island$$), ($$BR$$, $$55$$, $$Brazil$$), ($$IO$$, $$246$$, $$British Indian Ocean Territory$$), ($$BN$$, $$673$$, $$Brunei Darussalam$$), ($$BG$$, $$359$$, $$Bulgaria$$), ($$BF$$, $$226$$, $$Burkina Faso$$), ($$BI$$, $$257$$, $$Burundi$$), ($$KH$$, $$855$$, $$Cambodia$$), ($$CM$$, $$237$$, $$Cameroon$$), ($$CA$$, $$1$$, $$Canada$$), ($$CV$$, $$238$$, $$Cape Verde$$), ($$KY$$, $$1345$$, $$Cayman Islands$$), ($$CF$$, $$236$$, $$Central African Republic$$), ($$TD$$, $$235$$, $$Chad$$), ($$CL$$, $$56$$, $$Chile$$), ($$CN$$, $$86$$, $$China$$), ($$CX$$, $$61$$, $$Christmas Island$$), ($$CC$$, $$672$$, $$Cocos (Keeling) Islands$$), ($$CO$$, $$57$$, $$Colombia$$), ($$KM$$, $$269$$, $$Comoros$$), ($$CG$$, $$242$$, $$Congo$$), ($$CD$$, $$242$$, $$Congo, Democratic Republic of the Congo$$), ($$CK$$, $$682$$, $$Cook Islands$$), ($$CR$$, $$506$$, $$Costa Rica$$), ($$CI$$, $$225$$, $$Cote D'Ivoire$$), ($$HR$$, $$385$$, $$Croatia$$), ($$CU$$, $$53$$, $$Cuba$$), ($$CW$$, $$599$$, $$Curacao$$), ($$CY$$, $$357$$, $$Cyprus$$), ($$CZ$$, $$420$$, $$Czech Republic$$), ($$DK$$, $$45$$, $$Denmark$$), ($$DJ$$, $$253$$, $$Djibouti$$), ($$DM$$, $$1767$$, $$Dominica$$), ($$DO$$, $$1809$$, $$Dominican Republic$$), ($$EC$$, $$593$$, $$Ecuador$$), ($$EG$$, $$20$$, $$Egypt$$), ($$SV$$, $$503$$, $$El Salvador$$), ($$GQ$$, $$240$$, $$Equatorial Guinea$$), ($$ER$$, $$291$$, $$Eritrea$$), ($$EE$$, $$372$$, $$Estonia$$), ($$ET$$, $$251$$, $$Ethiopia$$), ($$FK$$, $$500$$, $$Falkland Islands (Malvinas)$$), ($$FO$$, $$298$$, $$Faroe Islands$$), ($$FJ$$, $$679$$, $$Fiji$$), ($$FI$$, $$358$$, $$Finland$$), ($$FR$$, $$33$$, $$France$$), ($$GF$$, $$594$$, $$French Guiana$$), ($$PF$$, $$689$$, $$French Polynesia$$), ($$TF$$, $$262$$, $$French Southern Territories$$), ($$GA$$, $$241$$, $$Gabon$$), ($$GM$$, $$220$$, $$Gambia$$), ($$GE$$, $$995$$, $$Georgia$$), ($$DE$$, $$49$$, $$Germany$$), ($$GH$$, $$233$$, $$Ghana$$), ($$GI$$, $$350$$, $$Gibraltar$$), ($$GR$$, $$30$$, $$Greece$$), ($$GL$$, $$299$$, $$Greenland$$), ($$GD$$, $$1473$$, $$Grenada$$), ($$GP$$, $$590$$, $$Guadeloupe$$), ($$GU$$, $$1671$$, $$Guam$$), ($$GT$$, $$502$$, $$Guatemala$$), ($$GG$$, $$44$$, $$Guernsey$$), ($$GN$$, $$224$$, $$Guinea$$), ($$GW$$, $$245$$, $$Guinea-Bissau$$), ($$GY$$, $$592$$, $$Guyana$$), ($$HT$$, $$509$$, $$Haiti$$), ($$HM$$, $$0$$, $$Heard Island and Mcdonald Islands$$), ($$VA$$, $$39$$, $$Holy See (Vatican City State)$$), ($$HN$$, $$504$$, $$Honduras$$), ($$HK$$, $$852$$, $$Hong Kong$$), ($$HU$$, $$36$$, $$Hungary$$), ($$IS$$, $$354$$, $$Iceland$$), ($$IN$$, $$91$$, $$India$$), ($$ID$$, $$62$$, $$Indonesia$$), ($$IR$$, $$98$$, $$Iran, Islamic Republic of$$), ($$IQ$$, $$964$$, $$Iraq$$), ($$IE$$, $$353$$, $$Ireland$$), ($$IM$$, $$44$$, $$Isle of Man$$), ($$IL$$, $$972$$, $$Israel$$), ($$IT$$, $$39$$, $$Italy$$), ($$JM$$, $$1876$$, $$Jamaica$$), ($$JP$$, $$81$$, $$Japan$$), ($$JE$$, $$44$$, $$Jersey$$), ($$JO$$, $$962$$, $$Jordan$$), ($$KZ$$, $$7$$, $$Kazakhstan$$), ($$KE$$, $$254$$, $$Kenya$$), ($$KI$$, $$686$$, $$Kiribati$$), ($$KP$$, $$850$$, $$Korea, Democratic People's Republic of$$), ($$KR$$, $$82$$, $$Korea, Republic of$$), ($$XK$$, $$381$$, $$Kosovo$$), ($$KW$$, $$965$$, $$Kuwait$$), ($$KG$$, $$996$$, $$Kyrgyzstan$$), ($$LA$$, $$856$$, $$Lao People's Democratic Republic$$), ($$LV$$, $$371$$, $$Latvia$$), ($$LB$$, $$961$$, $$Lebanon$$), ($$LS$$, $$266$$, $$Lesotho$$), ($$LR$$, $$231$$, $$Liberia$$), ($$LY$$, $$218$$, $$Libyan Arab Jamahiriya$$), ($$LI$$, $$423$$, $$Liechtenstein$$), ($$LT$$, $$370$$, $$Lithuania$$), ($$LU$$, $$352$$, $$Luxembourg$$), ($$MO$$, $$853$$, $$Macao$$), ($$MK$$, $$389$$, $$Macedonia, the Former Yugoslav Republic of$$), ($$MG$$, $$261$$, $$Madagascar$$), ($$MW$$, $$265$$, $$Malawi$$), ($$MY$$, $$60$$, $$Malaysia$$), ($$MV$$, $$960$$, $$Maldives$$), ($$ML$$, $$223$$, $$Mali$$), ($$MT$$, $$356$$, $$Malta$$), ($$MH$$, $$692$$, $$Marshall Islands$$), ($$MQ$$, $$596$$, $$Martinique$$), ($$MR$$, $$222$$, $$Mauritania$$), ($$MU$$, $$230$$, $$Mauritius$$), ($$YT$$, $$269$$, $$Mayotte$$), ($$MX$$, $$52$$, $$Mexico$$), ($$FM$$, $$691$$, $$Micronesia, Federated States of$$), ($$MD$$, $$373$$, $$Moldova, Republic of$$), ($$MC$$, $$377$$, $$Monaco$$), ($$MN$$, $$976$$, $$Mongolia$$), ($$ME$$, $$382$$, $$Montenegro$$), ($$MS$$, $$1664$$, $$Montserrat$$), ($$MA$$, $$212$$, $$Morocco$$), ($$MZ$$, $$258$$, $$Mozambique$$), ($$MM$$, $$95$$, $$Myanmar$$), ($$NA$$, $$264$$, $$Namibia$$), ($$NR$$, $$674$$, $$Nauru$$), ($$NP$$, $$977$$, $$Nepal$$), ($$NL$$, $$31$$, $$Netherlands$$), ($$AN$$, $$599$$, $$Netherlands Antilles$$), ($$NC$$, $$687$$, $$New Caledonia$$), ($$NZ$$, $$64$$, $$New Zealand$$), ($$NI$$, $$505$$, $$Nicaragua$$), ($$NE$$, $$227$$, $$Niger$$), ($$NG$$, $$234$$, $$Nigeria$$), ($$NU$$, $$683$$, $$Niue$$), ($$NF$$, $$672$$, $$Norfolk Island$$), ($$MP$$, $$1670$$, $$Northern Mariana Islands$$), ($$NO$$, $$47$$, $$Norway$$), ($$OM$$, $$968$$, $$Oman$$), ($$PK$$, $$92$$, $$Pakistan$$), ($$PW$$, $$680$$, $$Palau$$), ($$PS$$, $$970$$, $$Palestinian Territory, Occupied$$), ($$PA$$, $$507$$, $$Panama$$), ($$PG$$, $$675$$, $$Papua New Guinea$$), ($$PY$$, $$595$$, $$Paraguay$$), ($$PE$$, $$51$$, $$Peru$$), ($$PH$$, $$63$$, $$Philippines$$), ($$PN$$, $$64$$, $$Pitcairn$$), ($$PL$$, $$48$$, $$Poland$$), ($$PT$$, $$351$$, $$Portugal$$), ($$PR$$, $$1787$$, $$Puerto Rico$$), ($$QA$$, $$974$$, $$Qatar$$), ($$RE$$, $$262$$, $$Reunion$$), ($$RO$$, $$40$$, $$Romania$$), ($$RU$$, $$70$$, $$Russian Federation$$), ($$RW$$, $$250$$, $$Rwanda$$), ($$BL$$, $$590$$, $$Saint Barthelemy$$), ($$SH$$, $$290$$, $$Saint Helena$$), ($$KN$$, $$1869$$, $$Saint Kitts and Nevis$$), ($$LC$$, $$1758$$, $$Saint Lucia$$), ($$MF$$, $$590$$, $$Saint Martin$$), ($$PM$$, $$508$$, $$Saint Pierre and Miquelon$$), ($$VC$$, $$1784$$, $$Saint Vincent and the Grenadines$$), ($$WS$$, $$684$$, $$Samoa$$), ($$SM$$, $$378$$, $$San Marino$$), ($$ST$$, $$239$$, $$Sao Tome and Principe$$), ($$SA$$, $$966$$, $$Saudi Arabia$$), ($$SN$$, $$221$$, $$Senegal$$), ($$RS$$, $$381$$, $$Serbia$$), ($$CS$$, $$381$$, $$Serbia and Montenegro$$), ($$SC$$, $$248$$, $$Seychelles$$), ($$SL$$, $$232$$, $$Sierra Leone$$), ($$SG$$, $$65$$, $$Singapore$$), ($$SX$$, $$1$$, $$Sint Maarten$$), ($$SK$$, $$421$$, $$Slovakia$$), ($$SI$$, $$386$$, $$Slovenia$$), ($$SB$$, $$677$$, $$Solomon Islands$$), ($$SO$$, $$252$$, $$Somalia$$), ($$ZA$$, $$27$$, $$South Africa$$), ($$GS$$, $$500$$, $$South Georgia and the South Sandwich Islands$$), ($$SS$$, $$211$$, $$South Sudan$$), ($$ES$$, $$34$$, $$Spain$$), ($$LK$$, $$94$$, $$Sri Lanka$$), ($$SD$$, $$249$$, $$Sudan$$), ($$SR$$, $$597$$, $$Suriname$$), ($$SJ$$, $$47$$, $$Svalbard and Jan Mayen$$), ($$SZ$$, $$268$$, $$Swaziland$$), ($$SE$$, $$46$$, $$Sweden$$), ($$CH$$, $$41$$, $$Switzerland$$), ($$SY$$, $$963$$, $$Syrian Arab Republic$$), ($$TW$$, $$886$$, $$Taiwan, Province of China$$), ($$TJ$$, $$992$$, $$Tajikistan$$), ($$TZ$$, $$255$$, $$Tanzania, United Republic of$$), ($$TH$$, $$66$$, $$Thailand$$), ($$TL$$, $$670$$, $$Timor-Leste$$), ($$TG$$, $$228$$, $$Togo$$), ($$TK$$, $$690$$, $$Tokelau$$), ($$TO$$, $$676$$, $$Tonga$$), ($$TT$$, $$1868$$, $$Trinidad and Tobago$$), ($$TN$$, $$216$$, $$Tunisia$$), ($$TR$$, $$90$$, $$Turkey$$), ($$TM$$, $$7370$$, $$Turkmenistan$$), ($$TC$$, $$1649$$, $$Turks and Caicos Islands$$), ($$TV$$, $$688$$, $$Tuvalu$$), ($$UG$$, $$256$$, $$Uganda$$), ($$UA$$, $$380$$, $$Ukraine$$), ($$AE$$, $$971$$, $$United Arab Emirates$$), ($$GB$$, $$44$$, $$United Kingdom$$), ($$US$$, $$1$$, $$United States$$), ($$UM$$, $$1$$, $$United States Minor Outlying Islands$$), ($$UY$$, $$598$$, $$Uruguay$$), ($$UZ$$, $$998$$, $$Uzbekistan$$), ($$VU$$, $$678$$, $$Vanuatu$$), ($$VE$$, $$58$$, $$Venezuela$$), ($$VN$$, $$84$$, $$Viet Nam$$), ($$VG$$, $$1284$$, $$Virgin Islands, British$$), ($$VI$$, $$1340$$, $$Virgin Islands, U.s.$$), ($$WF$$, $$681$$, $$Wallis and Futuna$$), ($$EH$$, $$212$$, $$Western Sahara$$), ($$YE$$, $$967$$, $$Yemen$$), ($$ZM$$, $$260$$, $$Zambia$$), ($$ZW$$, $$263$$, $$Zimbabwe$$);"
  },
  "60052c09546b142087edbb8c7677a63a9567bbdc0ae3a6cb1626a3fd3b520c67": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "username",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "password",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "first_name",
          "ordinal": 3,
          "type_info": "Varchar"
        },
        {
          "name": "last_name",
          "ordinal": 4,
          "type_info": "Varchar"
        },
        {
          "name": "dob",
          "ordinal": 5,
          "type_info": "Int8"
        },
        {
          "name": "bio",
          "ordinal": 6,
          "type_info": "Varchar"
        },
        {
          "name": "location",
          "ordinal": 7,
          "type_info": "Varchar"
        },
        {
          "name": "created",
          "ordinal": 8,
          "type_info": "Int8"
        },
        {
          "name": "backup_email_local",
          "ordinal": 9,
          "type_info": "Varchar"
        },
        {
          "name": "backup_email_domain_id",
          "ordinal": 10,
          "type_info": "Uuid"
        },
        {
          "name": "backup_phone_country_code",
          "ordinal": 11,
          "type_info": "Bpchar"
        },
        {
          "name": "backup_phone_number",
          "ordinal": 12,
          "type_info": "Varchar"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        false,
        true,
        true,
        true,
        true
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT * FROM \"user\" WHERE id = $1;"
  },
  "60383fb5599092877e06a8e6a920ae78e76d609cc8ea603b5f1a9dda010f4e2e": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text",
          "Uuid"
        ]
      }
    },
    "query": "UPDATE patr_domain_dns_record SET record_identifier = $1 WHERE id = $2;"
  },
  "60af027f2e663763fc387f893cb4fb3d82ad2cc31340f27df96cdffee8198f88": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TYPE DNS_RECORD_TYPE AS ENUM( 'A', 'MX', 'TXT', 'AAAA', 'CNAME' );"
  },
  "61163a64b9b2afeff3fee6f9e95ece37c8a60dab6a38e949bb303b5d4c2742e6": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Varchar",
          "Text",
          "Varchar",
          "Varchar",
          "Varchar",
          "Uuid",
          "Bpchar",
          "Varchar",
          "Text",
          "Int8"
        ]
      }
    },
    "query": "INSERT INTO user_to_sign_up ( username, account_type, password, first_name, last_name, backup_email_local, backup_email_domain_id, backup_phone_country_code, backup_phone_number, business_email_local, business_domain_name, business_domain_tld, business_name, otp_hash, otp_expiry ) VALUES ( $1, 'personal', $2, $3, $4, $5, $6, $7, $8, NULL, NULL, NULL, NULL, $9, $10 ) ON CONFLICT(username) DO UPDATE SET account_type = 'personal', password = EXCLUDED.password, first_name = EXCLUDED.first_name, last_name = EXCLUDED.last_name, backup_email_local = EXCLUDED.backup_email_local, backup_email_domain_id = EXCLUDED.backup_email_domain_id, backup_phone_country_code = EXCLUDED.backup_phone_country_code, backup_phone_number = EXCLUDED.backup_phone_number, business_email_local = NULL, business_domain_name = NULL, business_name = NULL, otp_hash = EXCLUDED.otp_hash, otp_expiry = EXCLUDED.otp_expiry;"
  },
  "61459ad9f96ec14221d1f72ea908e87f7d66f49747ddc186048cdf37ec5cf318": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text",
          "Int4",
          "Text",
          "Text",
          "Uuid"
        ]
      }
    },
    "query": "UPDATE managed_database SET host = $1, port = $2, username = $3, password = $4 WHERE id = $5;"
  },
  "61bdcb9809592f89df56f4ed78a2dbd4ef4b2883c47710198af0ffe9c38b2a8c": {
    "describe": {
      "columns": [
        {
          "name": "id: Uuid",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "username",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "password",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "first_name",
          "ordinal": 3,
          "type_info": "Varchar"
        },
        {
          "name": "last_name",
          "ordinal": 4,
          "type_info": "Varchar"
        },
        {
          "name": "dob",
          "ordinal": 5,
          "type_info": "Int8"
        },
        {
          "name": "bio",
          "ordinal": 6,
          "type_info": "Varchar"
        },
        {
          "name": "location",
          "ordinal": 7,
          "type_info": "Varchar"
        },
        {
          "name": "created",
          "ordinal": 8,
          "type_info": "Int8"
        },
        {
          "name": "backup_email_local",
          "ordinal": 9,
          "type_info": "Varchar"
        },
        {
          "name": "backup_email_domain_id: Uuid",
          "ordinal": 10,
          "type_info": "Uuid"
        },
        {
          "name": "backup_phone_country_code",
          "ordinal": 11,
          "type_info": "Bpchar"
        },
        {
          "name": "backup_phone_number",
          "ordinal": 12,
          "type_info": "Varchar"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        false,
        true,
        true,
        true,
        true
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT \"user\".id as \"id: Uuid\", \"user\".username, \"user\".password, \"user\".first_name, \"user\".last_name, \"user\".dob, \"user\".bio, \"user\".location, \"user\".created, \"user\".backup_email_local, \"user\".backup_email_domain_id as \"backup_email_domain_id: Uuid\", \"user\".backup_phone_country_code, \"user\".backup_phone_number FROM \"user\" WHERE id = $1;"
  },
  "6505122d8c40c26849eb3a6144e2de08388b087d10d049cdbba7a1742fefc5de": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE INDEX role_permissions_resource_idx_role_id ON role_permissions_resource (role_id);"
  },
  "696bdaf6f707eea875bebce9c7b5f9ed6aee64eafcaf520113320625f71f988c": {
    "describe": {
      "columns": [
        {
          "name": "name!",
          "ordinal": 0,
          "type_info": "Text"
        },
        {
          "name": "id: _",
          "ordinal": 1,
          "type_info": "Uuid"
        },
        {
          "name": "domain_type: _",
          "ordinal": 2,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "personal",
                  "business"
                ]
              },
              "name": "resource_owner_type"
            }
          }
        },
        {
          "name": "is_verified",
          "ordinal": 3,
          "type_info": "Bool"
        },
        {
          "name": "nameserver_type: _",
          "ordinal": 4,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "internal",
                  "external"
                ]
              },
              "name": "domain_nameserver_type"
            }
          }
        }
      ],
      "nullable": [
        null,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT CONCAT(domain.name, '.', domain.tld) as \"name!\", workspace_domain.id as \"id: _\", workspace_domain.domain_type as \"domain_type: _\", workspace_domain.is_verified, workspace_domain.nameserver_type as \"nameserver_type: _\" FROM workspace_domain INNER JOIN domain ON domain.id = workspace_domain.id WHERE domain.id = $1 AND domain.name NOT LIKE CONCAT( 'patr-deleted: ', REPLACE(domain.id::TEXT, '-', ''), '@%' );"
  },
  "6ad2f021500f77e5ac540f128fc071c0aead61d48db51dc32132ccba1a2120ab": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Varchar",
          "Uuid"
        ]
      }
    },
    "query": "UPDATE \"user\" SET last_name = $1 WHERE id = $2;"
  },
  "6b678ec64a61d5c20d7ea207efa6fce83058481b7af34fb81a36022b0a52dbc6": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "DELETE FROM docker_registry_repository_manifest WHERE repository_id = $1;"
  },
  "6c06e110efb137ecfc7322d47557b6492b827c0f9d5690ada1f826a98865b9c0": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text",
          "Int8",
          "Text"
        ]
      }
    },
    "query": "UPDATE user_to_sign_up SET otp_hash = $1, otp_expiry = $2 WHERE username = $3;"
  },
  "6f7f9061d9b0ef20410537f9f662cc3a501d0a3ec931a68f7ef6c0891bfa4a06": {
    "describe": {
      "columns": [
        {
          "name": "id: _",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "name",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "cloud_provider: _",
          "ordinal": 2,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "digitalocean"
                ]
              },
              "name": "deployment_cloud_provider"
            }
          }
        }
      ],
      "nullable": [
        false,
        false,
        true
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT id as \"id: _\", name, provider as \"cloud_provider: _\" FROM deployment_region;"
  },
  "72561fb8ce0f6493ee299403d4f846114e76100c8c4a5c4bc34a7c762a34ae68": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Int8"
        ]
      }
    },
    "query": "INSERT INTO password_reset_request (user_id, token, token_expiry) VALUES ($1, $2, $3) ON CONFLICT(user_id) DO UPDATE SET token = EXCLUDED.token, token_expiry = EXCLUDED.token_expiry;"
  },
  "726fac8527e7b1a1cf6e9cb39e627d651b037acdc56b133b180720833506a13b": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "INSERT INTO personal_domain (id, domain_type) VALUES ($1, 'personal');"
  },
  "737d2bec853fc049071993d090838da713f3f24ca972cba74b45aa0318ccdf7d": {
    "describe": {
      "columns": [
        {
          "name": "id: _",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "name!: _",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "status: _",
          "ordinal": 2,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "created",
                  "pushed",
                  "deploying",
                  "running",
                  "stopped",
                  "errored",
                  "deleted"
                ]
              },
              "name": "deployment_status"
            }
          }
        },
        {
          "name": "workspace_id: _",
          "ordinal": 3,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        false,
        null,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT id as \"id: _\", name::TEXT as \"name!: _\", status as \"status: _\", workspace_id as \"workspace_id: _\" FROM deployment_static_site WHERE workspace_id = $1 AND status != 'deleted';"
  },
  "7401f9df0e6e0b99c923aed5a8e8be4ed52aa49dc8780e4ded18882872b8b95d": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE deployment_region( id UUID CONSTRAINT deployment_region_pk PRIMARY KEY, name TEXT NOT NULL, provider DEPLOYMENT_CLOUD_PROVIDER, location GEOMETRY, parent_region_id UUID CONSTRAINT deployment_region_fk_parent_region_id REFERENCES deployment_region(id), CONSTRAINT deployment_region_chk_provider_location_parent_region_is_valid CHECK( ( location IS NULL AND provider IS NULL ) OR ( provider IS NOT NULL AND location IS NOT NULL AND parent_region_id IS NOT NULL ) ) );"
  },
  "751f7ae4b4c1d76c43283ccb88c5247004ed8b1db984dd9aa92903eca6cfe56a": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Bool",
          "Uuid"
        ]
      }
    },
    "query": "UPDATE deployment SET deploy_on_push = $1 WHERE id = $2;"
  },
  "767343ea64ee57912dcebcd8c6128b0cec7dc0a9f12842cdf6ae3ba6570cbab2": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          {
            "Custom": {
              "kind": "Simple",
              "name": "citext"
            }
          },
          "Varchar",
          {
            "Custom": {
              "kind": {
                "Enum": [
                  "postgres",
                  "mysql"
                ]
              },
              "name": "managed_database_engine"
            }
          },
          "Text",
          "Int4",
          {
            "Custom": {
              "kind": {
                "Enum": [
                  "nano",
                  "micro",
                  "small",
                  "medium",
                  "large",
                  "xlarge",
                  "xxlarge",
                  "mammoth"
                ]
              },
              "name": "managed_database_plan"
            }
          },
          "Text",
          "Text",
          "Int4",
          "Text",
          "Text",
          "Uuid"
        ]
      }
    },
    "query": "INSERT INTO managed_database ( id, name, db_name, engine, version, num_nodes, database_plan, region, status, host, port, username, password, workspace_id, digitalocean_db_id ) VALUES ( $1, $2, $3, $4, $5, $6, $7, $8, 'creating', $9, $10, $11, $12, $13, NULL );"
  },
  "78bdb109c871b3dbe75f8fd88d7ba0aed20982bac4908de0aeeb8b95ab270a6f": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Varchar",
          "Uuid",
          "Uuid",
          "Text",
          "Int8"
        ]
      }
    },
    "query": "INSERT INTO user_unverified_personal_email ( local, domain_id, user_id, verification_token_hash, verification_token_expiry ) VALUES ($1, $2, $3, $4, $5) ON CONFLICT(local, domain_id) DO UPDATE SET user_id = EXCLUDED.user_id, verification_token_hash = EXCLUDED.verification_token_hash, verification_token_expiry = EXCLUDED.verification_token_expiry;"
  },
  "799f1b78ac4c1bd45251b83af9dea7179be61357e5241533c66406c1cf0b60de": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Uuid"
        ]
      }
    },
    "query": "DELETE FROM user_unverified_personal_email WHERE user_id = $1 AND local = $2 AND domain_id = $3;"
  },
  "7c8582745f948c36a597434e40fb7f9679e9d35f06b2bbac3bb58d7fd8707098": {
    "describe": {
      "columns": [
        {
          "name": "manifest_digest",
          "ordinal": 0,
          "type_info": "Text"
        },
        {
          "name": "size",
          "ordinal": 1,
          "type_info": "Int8"
        },
        {
          "name": "created",
          "ordinal": 2,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      }
    },
    "query": "SELECT manifest_digest, size, created FROM docker_registry_repository_manifest WHERE repository_id = $1 AND manifest_digest = $2;"
  },
  "7cbabf53a73fe673bfa522455fbd2fefbc657f6def3531eb922564a9c3627590": {
    "describe": {
      "columns": [
        {
          "name": "id!: _",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "sub_domain!: _",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "domain_id!: _",
          "ordinal": 2,
          "type_info": "Uuid"
        },
        {
          "name": "path!: _",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "url_type!: _",
          "ordinal": 4,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "proxy_to_deployment",
                  "proxy_to_static_site",
                  "proxy_url",
                  "redirect"
                ]
              },
              "name": "managed_url_type"
            }
          }
        },
        {
          "name": "deployment_id: _",
          "ordinal": 5,
          "type_info": "Uuid"
        },
        {
          "name": "port",
          "ordinal": 6,
          "type_info": "Int4"
        },
        {
          "name": "static_site_id: _",
          "ordinal": 7,
          "type_info": "Uuid"
        },
        {
          "name": "url",
          "ordinal": 8,
          "type_info": "Text"
        },
        {
          "name": "workspace_id!: _",
          "ordinal": 9,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid"
        ]
      }
    },
    "query": "WITH RECURSIVE managed_url_list AS ( SELECT managed_url.* FROM managed_url INNER JOIN domain ON managed_url.domain_id = domain.id WHERE managed_url.deployment_id = $1 AND managed_url.url_type = 'proxy_to_deployment' UNION ALL SELECT managed_url.* FROM managed_url INNER JOIN domain ON managed_url.domain_id = domain.id JOIN managed_url_list ON managed_url.url LIKE CONCAT( managed_url.sub_domain, '.', domain.name, '.', domain.tld, CASE managed_url.path WHEN '/' THEN '%' ELSE CONCAT(managed_url.path, '%') END ) WHERE managed_url.url_type = 'redirect' OR managed_url.url_type = 'proxy_url' ) SELECT id as \"id!: _\", sub_domain as \"sub_domain!: _\", domain_id as \"domain_id!: _\", path as \"path!: _\", url_type as \"url_type!: _\", deployment_id as \"deployment_id: _\", port, static_site_id as \"static_site_id: _\", url, workspace_id as \"workspace_id!: _\" FROM managed_url_list WHERE managed_url_list.workspace_id = $2 AND managed_url_list.sub_domain NOT LIKE CONCAT( 'patr-deleted: ', REPLACE(id::TEXT, '-', ''), '@%' );"
  },
  "7d474076cf0e079372ab7ad57ff0f1aad9966bb096039f59a9f8669e081d9981": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Varchar",
          "Uuid",
          "Uuid",
          "Int8"
        ]
      }
    },
    "query": "INSERT INTO resource (id, name, resource_type_id, owner_id, created) VALUES ($1, $2, $3, $4, $5);"
  },
  "7d4f82ad1a647d0bcb90321774d7e4261578091c7822d00cef3ec66a8a4f0174": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE INDEX role_permissions_resource_type_idx_role_id_resource_type_id ON role_permissions_resource_type (role_id, resource_type_id);"
  },
  "7e07dd285ab55985a65de09b3873044801b3cfad26520fb218e055ec47512932": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE workspace_domain( id UUID CONSTRAINT workspace_domain_pk PRIMARY KEY, domain_type RESOURCE_OWNER_TYPE NOT NULL CONSTRAINT workspace_domain_chk_domain_type CHECK( domain_type = 'business' ), is_verified BOOLEAN NOT NULL, nameserver_type DOMAIN_NAMESERVER_TYPE NOT NULL, CONSTRAINT workspace_domain_uq_id_nameserver_type UNIQUE(id, nameserver_type), CONSTRAINT workspace_domain_fk_id_domain_type FOREIGN KEY(id, domain_type) REFERENCES domain(id, type) );"
  },
  "800be378aa534e253f75a64c956799e120102f6b9ae464053f8a38d493f46877": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE user_unverified_phone_number( country_code CHAR(2) NOT NULL CONSTRAINT user_unverified_phone_number_fk_country_code REFERENCES phone_number_country_code(country_code) CONSTRAINT user_unverified_phone_number_chk_country_code_is_upper_case CHECK( country_code = UPPER(country_code) ), phone_number VARCHAR(15) NOT NULL, user_id UUID NOT NULL CONSTRAINT user_unverified_phone_number_fk_user_id REFERENCES \"user\"(id), verification_token_hash TEXT NOT NULL, verification_token_expiry BIGINT NOT NULL CONSTRAINT user_unverified_phone_number_chk_token_expiry_unsigned CHECK(verification_token_expiry >= 0), CONSTRAINT user_univerified_phone_number_pk PRIMARY KEY(country_code, phone_number), CONSTRAINT user_univerified_phone_number_uq_country_code_phone_number UNIQUE(user_id, country_code, phone_number) );"
  },
  "80fa0cff43932600e815f32385f983ff6c643e04f261fd5df7ff43b8ca98a9cf": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "ALTER TABLE workspace_domain ADD CONSTRAINT workspace_domain_fk_id FOREIGN KEY(id) REFERENCES resource(id);"
  },
  "81d934904f34511090bc755c227dbc456c2f93c00de1ad2c3ac6b1921d48214f": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE role( id UUID CONSTRAINT role_pk PRIMARY KEY, name VARCHAR(100) NOT NULL, description VARCHAR(500), owner_id UUID NOT NULL CONSTRAINT role_fk_owner_id REFERENCES workspace(id), CONSTRAINT role_uq_name_owner_id UNIQUE(name, owner_id) );"
  },
  "85c2b0a9bf48c5cc257af57e4ecf5b439153fe1b82d213953db1f10bdc14fd87": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "name",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "description",
          "ordinal": 2,
          "type_info": "Varchar"
        }
      ],
      "nullable": [
        false,
        false,
        true
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT * FROM resource_type WHERE id = $1;"
  },
  "860716d51d52f24b9cf5314ee65eada0b790a04a02d6ebcfd46d33ee22ee67a5": {
    "describe": {
      "columns": [
        {
          "name": "username",
          "ordinal": 0,
          "type_info": "Varchar"
        },
        {
          "name": "account_type: ResourceType",
          "ordinal": 1,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "personal",
                  "business"
                ]
              },
              "name": "resource_owner_type"
            }
          }
        },
        {
          "name": "password",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "first_name",
          "ordinal": 3,
          "type_info": "Varchar"
        },
        {
          "name": "last_name",
          "ordinal": 4,
          "type_info": "Varchar"
        },
        {
          "name": "backup_email_local",
          "ordinal": 5,
          "type_info": "Varchar"
        },
        {
          "name": "backup_email_domain_id: Uuid",
          "ordinal": 6,
          "type_info": "Uuid"
        },
        {
          "name": "backup_phone_country_code",
          "ordinal": 7,
          "type_info": "Bpchar"
        },
        {
          "name": "backup_phone_number",
          "ordinal": 8,
          "type_info": "Varchar"
        },
        {
          "name": "business_email_local",
          "ordinal": 9,
          "type_info": "Varchar"
        },
        {
          "name": "business_domain_name: String",
          "ordinal": 10,
          "type_info": "Text"
        },
        {
          "name": "business_name",
          "ordinal": 11,
          "type_info": "Varchar"
        },
        {
          "name": "otp_hash",
          "ordinal": 12,
          "type_info": "Text"
        },
        {
          "name": "otp_expiry",
          "ordinal": 13,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        true,
        true,
        null,
        true,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "SELECT username, account_type as \"account_type: ResourceType\", password, first_name, last_name, backup_email_local, backup_email_domain_id as \"backup_email_domain_id: Uuid\", backup_phone_country_code, backup_phone_number, business_email_local, CASE WHEN business_domain_name IS NULL THEN NULL ELSE CONCAT(business_domain_name, '.', business_domain_tld) END as \"business_domain_name: String\", business_name, otp_hash, otp_expiry FROM user_to_sign_up WHERE business_domain_name = $1;"
  },
  "860c561776aaf1f078eb0392b11b2be437f2cf6847a00b4d7214a158514664c4": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE INDEX role_permissions_resource_idx_role_id_resource_id ON role_permissions_resource (role_id, resource_id);"
  },
  "86b65641c9298e4ee92844aef07c16d79fd401584f2a84b30361efa91114e24c": {
    "describe": {
      "columns": [
        {
          "name": "backup_phone_country_code!",
          "ordinal": 0,
          "type_info": "Bpchar"
        },
        {
          "name": "backup_phone_number!",
          "ordinal": 1,
          "type_info": "Varchar"
        }
      ],
      "nullable": [
        true,
        true
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT \"user\".backup_phone_country_code as \"backup_phone_country_code!\", \"user\".backup_phone_number as \"backup_phone_number!\" FROM \"user\" WHERE \"user\".id = $1 AND \"user\".backup_phone_number IS NOT NULL AND \"user\".backup_phone_country_code IS NOT NULL;"
  },
  "87bca736fca728f58dad62df4bc2c4973eaad8c008f9b456c629907210a26ce3": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Uuid"
        ]
      }
    },
    "query": "DELETE FROM personal_email WHERE user_id = $1 AND local = $2 AND domain_id = $3;"
  },
  "8a7f673204b386ab84508b8bd966898a6fb940501f2caa676285b90295d9a7bf": {
    "describe": {
      "columns": [
        {
          "name": "permission_id: Uuid",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "resource_id: Uuid",
          "ordinal": 1,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT permission_id as \"permission_id: Uuid\", resource_id as \"resource_id: Uuid\" FROM role_permissions_resource WHERE role_id = $1;"
  },
  "8ba7e810211002c1b6033836493c2f48f72dbf7718a0ee8571cf200f07bbeb4d": {
    "describe": {
      "columns": [
        {
          "name": "port",
          "ordinal": 0,
          "type_info": "Int4"
        },
        {
          "name": "port_type: ExposedPortType",
          "ordinal": 1,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "http"
                ]
              },
              "name": "exposed_port_type"
            }
          }
        }
      ],
      "nullable": [
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT port, port_type as \"port_type: ExposedPortType\" FROM deployment_exposed_port WHERE deployment_id = $1;"
  },
  "8d0a4c011fc58624c93d87270ff0cc7db7a41927801b42f826871cc11a37ce02": {
    "describe": {
      "columns": [
        {
          "name": "name!",
          "ordinal": 0,
          "type_info": "Text"
        },
        {
          "name": "id: _",
          "ordinal": 1,
          "type_info": "Uuid"
        },
        {
          "name": "domain_type: _",
          "ordinal": 2,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "personal",
                  "business"
                ]
              },
              "name": "resource_owner_type"
            }
          }
        },
        {
          "name": "is_verified",
          "ordinal": 3,
          "type_info": "Bool"
        },
        {
          "name": "nameserver_type: _",
          "ordinal": 4,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "internal",
                  "external"
                ]
              },
              "name": "domain_nameserver_type"
            }
          }
        }
      ],
      "nullable": [
        null,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT CONCAT(domain.name, '.', domain.tld) as \"name!\", workspace_domain.id as \"id: _\", workspace_domain.domain_type as \"domain_type: _\", workspace_domain.is_verified, workspace_domain.nameserver_type as \"nameserver_type: _\" FROM domain INNER JOIN workspace_domain ON workspace_domain.id = domain.id INNER JOIN resource ON domain.id = resource.id WHERE resource.owner_id = $1 AND domain.name NOT LIKE CONCAT( 'patr-deleted: ', REPLACE(domain.id::TEXT, '-', ''), '@%' );"
  },
  "8d72ae0818e4164c031c48aefd83eab24188d066b54ef81050d670d08804ff7e": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "DELETE FROM deployment_environment_variable WHERE deployment_id = $1;"
  },
  "8e8442a69038da41e5966a479775fb1d9dbe1408096ccc93695d0c4713eb59b1": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "DELETE FROM user_to_sign_up WHERE username = $1;"
  },
  "8f40c85c9a884c7baefc91aace67efcf5d1966aa9589f1b2d408e3f27cadd6e9": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE resource( id UUID CONSTRAINT resource_pk PRIMARY KEY, name VARCHAR(100) NOT NULL, resource_type_id UUID NOT NULL CONSTRAINT resource_fk_resource_type_id REFERENCES resource_type(id), owner_id UUID NOT NULL CONSTRAINT resource_fk_owner_id REFERENCES workspace(id) DEFERRABLE INITIALLY IMMEDIATE, created BIGINT NOT NULL CONSTRAINT resource_created_chk_unsigned CHECK(created >= 0), CONSTRAINT resource_uq_id_owner_id UNIQUE(id, owner_id) );"
  },
  "921f273464daa5ef484188bee12a11595787136e84881a14a1fb5c0fb8bde841": {
    "describe": {
      "columns": [
        {
          "name": "count!",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT COUNT(*) as \"count!\" FROM deployment_static_site WHERE status != 'deleted';"
  },
  "927bf61ea95f553c57c6baf13b645a0d62e1b3c61c082e9f424dae2d534d44b0": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE permission( id UUID CONSTRAINT permission_pk PRIMARY KEY, name VARCHAR(100) NOT NULL CONSTRAINT permission_uq_name UNIQUE, description VARCHAR(500) );"
  },
  "92b0392819d776b7f7f829b44a8f9c1ab3be7b05599518d662ee53e8155d42a8": {
    "describe": {
      "columns": [
        {
          "name": "name",
          "ordinal": 0,
          "type_info": "Varchar"
        },
        {
          "name": "value",
          "ordinal": 1,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT name, value FROM deployment_environment_variable WHERE deployment_id = $1;"
  },
  "945ce475669a020ae6f11f8b175cd2b0f8dc5b11e71ac1124f0d3890482ad195": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      }
    },
    "query": "INSERT INTO patr_controlled_domain (domain_id, zone_identifier, nameserver_type) VALUES ($1, $2, 'internal');"
  },
  "9581388fb7bb98001ffa0a401a9b5e263bea871ef4cb5f1305b65af163ed3205": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE INDEX deployment_idx_image_name_image_tag ON deployment (image_name, image_tag);"
  },
  "9619d6b989536b51299ed94b0c88316ac91290cd6bfcee615f9f252699f77add": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Bpchar",
          "Text"
        ]
      }
    },
    "query": "DELETE FROM user_unverified_phone_number WHERE user_id = $1 AND country_code = $2 AND phone_number = $3;"
  },
  "96b3517ef88f76e14a7f25c2ee6c94502f52a8e72314b6ba8e5e2010e9c06965": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE workspace_user( user_id UUID NOT NULL CONSTRAINT workspace_user_fk_user_id REFERENCES \"user\"(id), workspace_id UUID NOT NULL CONSTRAINT workspace_user_fk_workspace_id REFERENCES workspace(id), role_id UUID NOT NULL CONSTRAINT workspace_user_fk_role_id REFERENCES role(id), CONSTRAINT workspace_user_pk PRIMARY KEY(user_id, workspace_id, role_id) );"
  },
  "96d872d5fca63dbb31d6903e6184d2371018059ff8211ba52458d1d8359be5c2": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Text",
          "Int8"
        ]
      }
    },
    "query": "INSERT INTO docker_registry_repository_tag ( repository_id, tag, manifest_digest, last_updated ) VALUES ($1, $2, $3, $4) ON CONFLICT (repository_id, tag) DO UPDATE SET manifest_digest = $3, last_updated = $4;"
  },
  "96e525b047f0838a7c25a1277bae273d2ce2aaf541f0b2aad82404728baecc42": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TYPE RESOURCE_OWNER_TYPE AS ENUM( 'personal', 'business' );"
  },
  "97dc58af5c9c3baed320a573d34a5069c2f7919b6a3ace08bdbbf1a2e90b4789": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "DELETE FROM managed_url WHERE id = $1;"
  },
  "985017bf290c3b482b9ecf7c939085b9f344b97e9ef6f57696fe91e7affb5e91": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Varchar",
          "Uuid"
        ]
      }
    },
    "query": "UPDATE \"user\" SET location = $1 WHERE id = $2;"
  },
  "9a3de7f88487616a70b025316dfa10b5ec412d40d7c15567e0dd9d19c369a3c1": {
    "describe": {
      "columns": [
        {
          "name": "login_id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "refresh_token",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "token_expiry",
          "ordinal": 2,
          "type_info": "Int8"
        },
        {
          "name": "user_id",
          "ordinal": 3,
          "type_info": "Uuid"
        },
        {
          "name": "last_login",
          "ordinal": 4,
          "type_info": "Int8"
        },
        {
          "name": "last_activity",
          "ordinal": 5,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT * FROM user_login WHERE login_id = $1;"
  },
  "9b88d7c5fc101c3ee54f19f893dcd561664e63b7206aa46df6a7868ae52d5157": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE INDEX workspace_idx_active ON workspace (active);"
  },
  "9b967d734dd6b74e206a70026d38917c0e8a81fec88e56ec341715c660adeb5b": {
    "describe": {
      "columns": [
        {
          "name": "size!",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT COALESCE(SUM(size), 0)::BIGINT as \"size!\" FROM docker_registry_repository_manifest WHERE repository_id = $1;"
  },
  "9c3a8439eb72bacedd686bc01944398392c09f761ddc8fc7fac2fa3e97f74f3b": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE INDEX role_permissions_resource_type_idx_role_id ON role_permissions_resource_type (role_id);"
  },
  "9cb75ca4350e85d7f64c67ae910c92754cf9931fc4a3bacefb9794190a2ca926": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE deployment_environment_variable( deployment_id UUID CONSTRAINT deployment_environment_variable_fk_deployment_id REFERENCES deployment(id), name VARCHAR(256) NOT NULL, value TEXT NOT NULL, CONSTRAINT deployment_environment_variable_pk PRIMARY KEY(deployment_id, name) );"
  },
  "9d12957af2506956a6c245b5822233f06bb1b51740cc77867c9269d16d53c635": {
    "describe": {
      "columns": [
        {
          "name": "id: Uuid",
          "ordinal": 0,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT id as \"id: Uuid\" FROM \"user\" ORDER BY created LIMIT 1;"
  },
  "9e3736b6e5d9a9db4281d8ce42a2fa507275cbb428769ab441069341dc304212": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE role_permissions_resource( role_id UUID CONSTRAINT role_permissions_resource_fk_role_id REFERENCES role(id), permission_id UUID CONSTRAINT role_permissions_resource_fk_permission_id REFERENCES permission(id), resource_id UUID CONSTRAINT role_permissions_resource_fk_resource_id REFERENCES resource(id), CONSTRAINT role_permissions_resource_pk PRIMARY KEY(role_id, permission_id, resource_id) );"
  },
  "9e8e2ff3a720e95dfb284e5fe053621df3a009d454eb5c571d73782e59507efb": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "DELETE FROM docker_registry_repository WHERE id = $1;"
  },
  "9eb0993ca671ecb32e1ed2303b5bd741a025fb8b0c7ce6a1600cc64f57eb8002": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "DELETE FROM personal_domain WHERE id = $1;"
  },
  "9fd9a0789b91eb2be01664d4ce94d89303376e356cf1d188ba64b7b1b3ccf732": {
    "describe": {
      "columns": [
        {
          "name": "table_catalog",
          "ordinal": 0,
          "type_info": "Name"
        },
        {
          "name": "table_schema",
          "ordinal": 1,
          "type_info": "Name"
        },
        {
          "name": "table_name",
          "ordinal": 2,
          "type_info": "Name"
        },
        {
          "name": "table_type",
          "ordinal": 3,
          "type_info": "Varchar"
        },
        {
          "name": "self_referencing_column_name",
          "ordinal": 4,
          "type_info": "Name"
        },
        {
          "name": "reference_generation",
          "ordinal": 5,
          "type_info": "Varchar"
        },
        {
          "name": "user_defined_type_catalog",
          "ordinal": 6,
          "type_info": "Name"
        },
        {
          "name": "user_defined_type_schema",
          "ordinal": 7,
          "type_info": "Name"
        },
        {
          "name": "user_defined_type_name",
          "ordinal": 8,
          "type_info": "Name"
        },
        {
          "name": "is_insertable_into",
          "ordinal": 9,
          "type_info": "Varchar"
        },
        {
          "name": "is_typed",
          "ordinal": 10,
          "type_info": "Varchar"
        },
        {
          "name": "commit_action",
          "ordinal": 11,
          "type_info": "Varchar"
        }
      ],
      "nullable": [
        true,
        true,
        true,
        true,
        true,
        true,
        true,
        true,
        true,
        true,
        true,
        true
      ],
      "parameters": {
        "Left": [
          "Name"
        ]
      }
    },
    "query": "SELECT * FROM information_schema.tables WHERE table_catalog = $1 AND table_schema = 'public' AND table_type = 'BASE TABLE' AND table_name != 'spatial_ref_sys';"
  },
  "a1ef5b3c2269453d465e5f47f7bd9a8d8e7cd237085cf1a59a4c55ddd093c269": {
    "describe": {
      "columns": [
        {
          "name": "id: _",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "cpu_count",
          "ordinal": 1,
          "type_info": "Int2"
        },
        {
          "name": "memory_count",
          "ordinal": 2,
          "type_info": "Int4"
        }
      ],
      "nullable": [
        false,
        false,
        false
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT id as \"id: _\", cpu_count, memory_count FROM deployment_machine_type;"
  },
  "a3abf15ceb610eac63cbccf25ff04116545f97f57c3c36a7fe9e75a139e74bd8": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "ALTER TABLE \"user\" ADD CONSTRAINT user_fk_id_backup_phone_country_code_backup_phone_number FOREIGN KEY ( id, backup_phone_country_code, backup_phone_number ) REFERENCES user_phone_number ( user_id, country_code, number ) DEFERRABLE INITIALLY IMMEDIATE;"
  },
  "a3d44c2d7c66de013a3510d3f42bf75f60a71f34682522a2882471f9a1f4414e": {
    "describe": {
      "columns": [
        {
          "name": "permission_id: Uuid",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "resource_type_id: Uuid",
          "ordinal": 1,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT permission_id as \"permission_id: Uuid\", resource_type_id as \"resource_type_id: Uuid\" FROM role_permissions_resource_type WHERE role_id = $1;"
  },
  "a4028e975c9a3b0e987b630a0feb55cd997133113d75bdcf99aeaded3fd52a45": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "INSERT INTO domain_tld (tld) VALUES ($1) ON CONFLICT DO NOTHING;"
  },
  "a4a2f1cf647e8612f0b461bc85e215e590fc186f0ef948c3d2c2786e7c7fd50f": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "name",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "description",
          "ordinal": 2,
          "type_info": "Varchar"
        }
      ],
      "nullable": [
        false,
        false,
        true
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT * FROM permission WHERE id = $1;"
  },
  "a69106420eb20523380486866b32d9b4d3c45c39b139274c4aeb9442bb823300": {
    "describe": {
      "columns": [
        {
          "name": "count!: i64",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT COUNT(personal_email.domain_id) as \"count!: i64\" FROM personal_email WHERE personal_email.domain_id = $1;"
  },
  "a6acdee1fa68c112945b563340df60c889352360679741bff183a48b635e69e6": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid",
          {
            "Custom": {
              "kind": "Simple",
              "name": "citext"
            }
          }
        ]
      }
    },
    "query": "INSERT INTO docker_registry_repository (id, workspace_id, name) VALUES ($1, $2, $3);"
  },
  "a780a4512b2ca58787f293e3033771d289cd7b0308573b4271865e3d63121215": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "DELETE FROM password_reset_request WHERE user_id = $1;"
  },
  "a891128368b9b3e6a1eb48cb77c81672a824c51ec6b76f7542306b20e69e50bd": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          {
            "Custom": {
              "kind": "Simple",
              "name": "citext"
            }
          },
          "Uuid"
        ]
      }
    },
    "query": "INSERT INTO deployment_static_site ( id, name, status, workspace_id ) VALUES ($1, $2, 'created', $3);"
  },
  "a8a7007ee50997217cb6dc4b255d07ef808011b38de93e4da586ff7dc09d49d7": {
    "describe": {
      "columns": [
        {
          "name": "count!",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT COUNT(*) as \"count!\" FROM \"user\";"
  },
  "a96073b72c29dee2028e0e62e6896f294cd6e6aae843c2de17db78b35b7a3a6c": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int2",
          "Uuid"
        ]
      }
    },
    "query": "UPDATE deployment SET max_horizontal_scale = $1 WHERE id = $2;"
  },
  "a989868983bf253bdd13f74c908e93274257d2fb39458d402bceb522fa2e63ca": {
    "describe": {
      "columns": [
        {
          "name": "id: _",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "name!: _",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "registry",
          "ordinal": 2,
          "type_info": "Varchar"
        },
        {
          "name": "repository_id: _",
          "ordinal": 3,
          "type_info": "Uuid"
        },
        {
          "name": "image_name",
          "ordinal": 4,
          "type_info": "Varchar"
        },
        {
          "name": "image_tag",
          "ordinal": 5,
          "type_info": "Varchar"
        },
        {
          "name": "status: _",
          "ordinal": 6,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "created",
                  "pushed",
                  "deploying",
                  "running",
                  "stopped",
                  "errored",
                  "deleted"
                ]
              },
              "name": "deployment_status"
            }
          }
        },
        {
          "name": "workspace_id: _",
          "ordinal": 7,
          "type_info": "Uuid"
        },
        {
          "name": "region: _",
          "ordinal": 8,
          "type_info": "Uuid"
        },
        {
          "name": "min_horizontal_scale",
          "ordinal": 9,
          "type_info": "Int2"
        },
        {
          "name": "max_horizontal_scale",
          "ordinal": 10,
          "type_info": "Int2"
        },
        {
          "name": "machine_type: _",
          "ordinal": 11,
          "type_info": "Uuid"
        },
        {
          "name": "deploy_on_push",
          "ordinal": 12,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        false,
        null,
        false,
        true,
        true,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT id as \"id: _\", name::TEXT as \"name!: _\", registry, repository_id as \"repository_id: _\", image_name, image_tag, status as \"status: _\", workspace_id as \"workspace_id: _\", region as \"region: _\", min_horizontal_scale, max_horizontal_scale, machine_type as \"machine_type: _\", deploy_on_push FROM deployment WHERE repository_id = $1 AND status != 'deleted';"
  },
  "a98cea2a8f8fc45db9251140e9bdedf0f23cfb31386c6a9ff0b4496068407532": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          {
            "Custom": {
              "kind": "Simple",
              "name": "citext"
            }
          }
        ]
      }
    },
    "query": "UPDATE docker_registry_repository SET name = $2 WHERE id = $1;"
  },
  "a9eb08956c2e59f4d701e4baa32dafa78dca6ba244d23a5594fab33478abc372": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE workspace( id UUID CONSTRAINT workspace_pk PRIMARY KEY, name CITEXT NOT NULL CONSTRAINT workspace_uq_name UNIQUE, super_admin_id UUID NOT NULL CONSTRAINT workspace_fk_super_admin_id REFERENCES \"user\"(id), active BOOLEAN NOT NULL DEFAULT FALSE );"
  },
  "ac1034b956efa62c01ba79bff480479ba4614fa20e9fb63304173b92b3dbe01d": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE EXTENSION IF NOT EXISTS citext;"
  },
  "ad9f625141ccfa8ec3b29922b39c40e46897cef99ceef6f74032c5ec5eb5c268": {
    "describe": {
      "columns": [
        {
          "name": "username",
          "ordinal": 0,
          "type_info": "Varchar"
        },
        {
          "name": "account_type: ResourceType",
          "ordinal": 1,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "personal",
                  "business"
                ]
              },
              "name": "resource_owner_type"
            }
          }
        },
        {
          "name": "password",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "first_name",
          "ordinal": 3,
          "type_info": "Varchar"
        },
        {
          "name": "last_name",
          "ordinal": 4,
          "type_info": "Varchar"
        },
        {
          "name": "backup_email_local",
          "ordinal": 5,
          "type_info": "Varchar"
        },
        {
          "name": "backup_email_domain_id: Uuid",
          "ordinal": 6,
          "type_info": "Uuid"
        },
        {
          "name": "backup_phone_country_code",
          "ordinal": 7,
          "type_info": "Bpchar"
        },
        {
          "name": "backup_phone_number",
          "ordinal": 8,
          "type_info": "Varchar"
        },
        {
          "name": "business_email_local",
          "ordinal": 9,
          "type_info": "Varchar"
        },
        {
          "name": "business_domain_name: String",
          "ordinal": 10,
          "type_info": "Text"
        },
        {
          "name": "business_name",
          "ordinal": 11,
          "type_info": "Varchar"
        },
        {
          "name": "otp_hash",
          "ordinal": 12,
          "type_info": "Text"
        },
        {
          "name": "otp_expiry",
          "ordinal": 13,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        true,
        true,
        null,
        true,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "SELECT user_to_sign_up.username, user_to_sign_up.account_type as \"account_type: ResourceType\", user_to_sign_up.password, user_to_sign_up.first_name, user_to_sign_up.last_name, user_to_sign_up.backup_email_local, user_to_sign_up.backup_email_domain_id as \"backup_email_domain_id: Uuid\", user_to_sign_up.backup_phone_country_code, user_to_sign_up.backup_phone_number, user_to_sign_up.business_email_local, CASE WHEN user_to_sign_up.business_domain_name IS NULL THEN NULL ELSE CONCAT( user_to_sign_up.business_domain_name, '.', user_to_sign_up.business_domain_tld ) END as \"business_domain_name: String\", user_to_sign_up.business_name, user_to_sign_up.otp_hash, user_to_sign_up.otp_expiry FROM user_to_sign_up INNER JOIN domain ON domain.id = user_to_sign_up.backup_email_domain_id WHERE CONCAT( user_to_sign_up.backup_email_local, '@', domain.name, '.', domain.tld ) = $1;"
  },
  "ae556a5d14ab0cf36d232e02541061a83be104a834bc8531ce1b4bebbac0d1d9": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          {
            "Custom": {
              "kind": {
                "Enum": [
                  "personal",
                  "business"
                ]
              },
              "name": "resource_owner_type"
            }
          },
          "Text"
        ]
      }
    },
    "query": "INSERT INTO domain (id, name, type, tld) VALUES ($1, $2, $3, $4);"
  },
  "aec6e34747f88716757f9bda17cfea7cef75d08125220026cbea614587c05706": {
    "describe": {
      "columns": [
        {
          "name": "id: _",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "name!: _",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "db_name",
          "ordinal": 2,
          "type_info": "Varchar"
        },
        {
          "name": "engine: _",
          "ordinal": 3,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "postgres",
                  "mysql"
                ]
              },
              "name": "managed_database_engine"
            }
          }
        },
        {
          "name": "version",
          "ordinal": 4,
          "type_info": "Text"
        },
        {
          "name": "num_nodes",
          "ordinal": 5,
          "type_info": "Int4"
        },
        {
          "name": "database_plan: _",
          "ordinal": 6,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "nano",
                  "micro",
                  "small",
                  "medium",
                  "large",
                  "xlarge",
                  "xxlarge",
                  "mammoth"
                ]
              },
              "name": "managed_database_plan"
            }
          }
        },
        {
          "name": "region",
          "ordinal": 7,
          "type_info": "Text"
        },
        {
          "name": "status: _",
          "ordinal": 8,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "creating",
                  "running",
                  "stopped",
                  "errored",
                  "deleted"
                ]
              },
              "name": "managed_database_status"
            }
          }
        },
        {
          "name": "host",
          "ordinal": 9,
          "type_info": "Text"
        },
        {
          "name": "port",
          "ordinal": 10,
          "type_info": "Int4"
        },
        {
          "name": "username",
          "ordinal": 11,
          "type_info": "Text"
        },
        {
          "name": "password",
          "ordinal": 12,
          "type_info": "Text"
        },
        {
          "name": "workspace_id: _",
          "ordinal": 13,
          "type_info": "Uuid"
        },
        {
          "name": "digitalocean_db_id",
          "ordinal": 14,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        null,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        true
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT id as \"id: _\", name::TEXT as \"name!: _\", db_name, engine as \"engine: _\", version, num_nodes, database_plan as \"database_plan: _\", region, status as \"status: _\", host, port, username, password, workspace_id as \"workspace_id: _\", digitalocean_db_id FROM managed_database WHERE workspace_id = $1 AND status != 'deleted';"
  },
  "af57b6e2b163068221fc77de6a45fffa44527b93a8a1232a795ef76db6474cbe": {
    "describe": {
      "columns": [
        {
          "name": "id: _",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "name!: _",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "registry",
          "ordinal": 2,
          "type_info": "Varchar"
        },
        {
          "name": "repository_id: _",
          "ordinal": 3,
          "type_info": "Uuid"
        },
        {
          "name": "image_name",
          "ordinal": 4,
          "type_info": "Varchar"
        },
        {
          "name": "image_tag",
          "ordinal": 5,
          "type_info": "Varchar"
        },
        {
          "name": "status: _",
          "ordinal": 6,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "created",
                  "pushed",
                  "deploying",
                  "running",
                  "stopped",
                  "errored",
                  "deleted"
                ]
              },
              "name": "deployment_status"
            }
          }
        },
        {
          "name": "workspace_id: _",
          "ordinal": 7,
          "type_info": "Uuid"
        },
        {
          "name": "region: _",
          "ordinal": 8,
          "type_info": "Uuid"
        },
        {
          "name": "min_horizontal_scale",
          "ordinal": 9,
          "type_info": "Int2"
        },
        {
          "name": "max_horizontal_scale",
          "ordinal": 10,
          "type_info": "Int2"
        },
        {
          "name": "machine_type: _",
          "ordinal": 11,
          "type_info": "Uuid"
        },
        {
          "name": "deploy_on_push",
          "ordinal": 12,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        false,
        null,
        false,
        true,
        true,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          {
            "Custom": {
              "kind": "Simple",
              "name": "citext"
            }
          },
          "Uuid"
        ]
      }
    },
    "query": "SELECT id as \"id: _\", name::TEXT as \"name!: _\", registry, repository_id as \"repository_id: _\", image_name, image_tag, status as \"status: _\", workspace_id as \"workspace_id: _\", region as \"region: _\", min_horizontal_scale, max_horizontal_scale, machine_type as \"machine_type: _\", deploy_on_push FROM deployment WHERE name = $1 AND workspace_id = $2 AND status != 'deleted';"
  },
  "af58419038b2d4b4e66cc7589d6c0d065b04c7ed230ba38f6574742fbc11ca8f": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "ALTER TABLE workspace ADD CONSTRAINT workspace_fk_id FOREIGN KEY(id) REFERENCES resource(id) DEFERRABLE INITIALLY IMMEDIATE;"
  },
  "b060d857b5acafdf9ce47b83483c0e1087382bd3f0ffc18959943170bec27f22": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Int8",
          "Int8"
        ]
      }
    },
    "query": "INSERT INTO docker_registry_repository_manifest ( repository_id, manifest_digest, size, created ) VALUES ($1, $2, $3, $4) ON CONFLICT DO NOTHING;"
  },
  "b2570af8ca7311aff26e71673f7b4a7e10881cc888e41a64b8b8dac482d0e992": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE user_controlled_domain( domain_id UUID NOT NULL CONSTRAINT user_controlled_domain_pk PRIMARY KEY, nameserver_type DOMAIN_NAMESERVER_TYPE NOT NULL CONSTRAINT user_controlled_domain_chk_nameserver_type CHECK( nameserver_type = 'external' ), CONSTRAINT user_controlled_domain_fk_domain_id_nameserver_type FOREIGN KEY(domain_id, nameserver_type) REFERENCES workspace_domain(id, nameserver_type) );"
  },
  "b27e78f8804b797ac37d45e828f0070405b23e9018b59ad40534b6fe8b853527": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text",
          "Uuid"
        ]
      }
    },
    "query": "UPDATE \"user\" SET password = $1 WHERE id = $2;"
  },
  "b2b0dddb1d6ccc72898c82bdc5e6f99946bb2e03e66d5c104f879d3e03b7c18c": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE INDEX workspace_user_idx_user_id_workspace_id ON workspace_user (user_id, workspace_id);"
  },
  "b2fdf60a7346c285cacdc083afb3a525d7de1d09a3835bcb046d1eb32e5700e0": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int8",
          "Int8",
          "Uuid"
        ]
      }
    },
    "query": "UPDATE user_login SET token_expiry = $1, last_activity = $2 WHERE login_id = $3;"
  },
  "b47eedf97c7d77d6c60a68960460d37a161858459255a2a8d09b3a69d080b70f": {
    "describe": {
      "columns": [
        {
          "name": "login_id: Uuid",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "refresh_token",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "token_expiry",
          "ordinal": 2,
          "type_info": "Int8"
        },
        {
          "name": "user_id: Uuid",
          "ordinal": 3,
          "type_info": "Uuid"
        },
        {
          "name": "last_login",
          "ordinal": 4,
          "type_info": "Int8"
        },
        {
          "name": "last_activity",
          "ordinal": 5,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid"
        ]
      }
    },
    "query": "SELECT login_id as \"login_id: Uuid\", refresh_token, token_expiry, user_id as \"user_id: Uuid\", last_login, last_activity FROM user_login WHERE login_id = $1 AND user_id = $2;"
  },
  "b4adc7f1228c69cf983d7c1cc8af1a7720a0a7df2d1ea9d2d9aa1a434e40782f": {
    "describe": {
      "columns": [
        {
          "name": "login_id: Uuid",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "refresh_token",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "token_expiry",
          "ordinal": 2,
          "type_info": "Int8"
        },
        {
          "name": "user_id: Uuid",
          "ordinal": 3,
          "type_info": "Uuid"
        },
        {
          "name": "last_login",
          "ordinal": 4,
          "type_info": "Int8"
        },
        {
          "name": "last_activity",
          "ordinal": 5,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT login_id as \"login_id: Uuid\", refresh_token, token_expiry, user_id as \"user_id: Uuid\", last_login, last_activity FROM user_login WHERE login_id = $1;"
  },
  "b4d2a52eacd8db7502f452aa9fddab45bd6f171581cd217c99b32a1727cf2155": {
    "describe": {
      "columns": [
        {
          "name": "workspace_id: Uuid",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "role_id: Uuid",
          "ordinal": 1,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT workspace_id as \"workspace_id: Uuid\", role_id as \"role_id: Uuid\" FROM workspace_user WHERE user_id = $1 ORDER BY workspace_id;"
  },
  "b58f7e72cf1b0546b90c11156eab1f172cd7a29a5feced1958df542766a28531": {
    "describe": {
      "columns": [
        {
          "name": "username",
          "ordinal": 0,
          "type_info": "Varchar"
        },
        {
          "name": "account_type: ResourceType",
          "ordinal": 1,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "personal",
                  "business"
                ]
              },
              "name": "resource_owner_type"
            }
          }
        },
        {
          "name": "password",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "first_name",
          "ordinal": 3,
          "type_info": "Varchar"
        },
        {
          "name": "last_name",
          "ordinal": 4,
          "type_info": "Varchar"
        },
        {
          "name": "backup_email_local",
          "ordinal": 5,
          "type_info": "Varchar"
        },
        {
          "name": "backup_email_domain_id: Uuid",
          "ordinal": 6,
          "type_info": "Uuid"
        },
        {
          "name": "backup_phone_country_code",
          "ordinal": 7,
          "type_info": "Bpchar"
        },
        {
          "name": "backup_phone_number",
          "ordinal": 8,
          "type_info": "Varchar"
        },
        {
          "name": "business_email_local",
          "ordinal": 9,
          "type_info": "Varchar"
        },
        {
          "name": "business_domain_name: String",
          "ordinal": 10,
          "type_info": "Text"
        },
        {
          "name": "business_name",
          "ordinal": 11,
          "type_info": "Varchar"
        },
        {
          "name": "otp_hash",
          "ordinal": 12,
          "type_info": "Text"
        },
        {
          "name": "otp_expiry",
          "ordinal": 13,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        true,
        true,
        null,
        true,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "SELECT username, account_type as \"account_type: ResourceType\", password, first_name, last_name, backup_email_local, backup_email_domain_id as \"backup_email_domain_id: Uuid\", backup_phone_country_code, backup_phone_number, business_email_local, CASE WHEN business_domain_name IS NULL THEN NULL ELSE CONCAT(business_domain_name, '.', business_domain_tld) END as \"business_domain_name: String\", business_name, otp_hash, otp_expiry FROM user_to_sign_up WHERE username = $1;"
  },
  "b6f931178976c85e3bfe39217bbaf227a53a99af6f87bbca250d275fe02590c9": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "ALTER TABLE deployment_static_site ADD CONSTRAINT deployment_static_site_fk_id_workspace_id FOREIGN KEY(id, workspace_id) REFERENCES resource(id, owner_id);"
  },
  "b79c1ad5a898a5fb9d24f0782c9f1990888899670a40f6d6bca7abc7161b4f67": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          {
            "Custom": {
              "kind": "Simple",
              "name": "citext"
            }
          },
          "Uuid"
        ]
      }
    },
    "query": "UPDATE workspace SET name = $1 WHERE id = $2;"
  },
  "b7a2dc7d7d0fc0381be680ae1610ebee3aab01b7bf6a4a2365cd7a3f7c994a0e": {
    "describe": {
      "columns": [
        {
          "name": "id: _",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "name!: _",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "registry",
          "ordinal": 2,
          "type_info": "Varchar"
        },
        {
          "name": "repository_id: _",
          "ordinal": 3,
          "type_info": "Uuid"
        },
        {
          "name": "image_name",
          "ordinal": 4,
          "type_info": "Varchar"
        },
        {
          "name": "image_tag",
          "ordinal": 5,
          "type_info": "Varchar"
        },
        {
          "name": "status: _",
          "ordinal": 6,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "created",
                  "pushed",
                  "deploying",
                  "running",
                  "stopped",
                  "errored",
                  "deleted"
                ]
              },
              "name": "deployment_status"
            }
          }
        },
        {
          "name": "workspace_id: _",
          "ordinal": 7,
          "type_info": "Uuid"
        },
        {
          "name": "region: _",
          "ordinal": 8,
          "type_info": "Uuid"
        },
        {
          "name": "min_horizontal_scale",
          "ordinal": 9,
          "type_info": "Int2"
        },
        {
          "name": "max_horizontal_scale",
          "ordinal": 10,
          "type_info": "Int2"
        },
        {
          "name": "machine_type: _",
          "ordinal": 11,
          "type_info": "Uuid"
        },
        {
          "name": "deploy_on_push",
          "ordinal": 12,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        false,
        null,
        false,
        true,
        true,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          {
            "Custom": {
              "kind": "Simple",
              "name": "citext"
            }
          },
          "Text",
          "Uuid"
        ]
      }
    },
    "query": "SELECT deployment.id as \"id: _\", deployment.name::TEXT as \"name!: _\", deployment.registry, deployment.repository_id as \"repository_id: _\", deployment.image_name, deployment.image_tag, deployment.status as \"status: _\", deployment.workspace_id as \"workspace_id: _\", deployment.region as \"region: _\", deployment.min_horizontal_scale, deployment.max_horizontal_scale, deployment.machine_type as \"machine_type: _\", deployment.deploy_on_push FROM deployment LEFT JOIN docker_registry_repository ON docker_registry_repository.id = deployment.repository_id WHERE ( ( deployment.registry = 'registry.patr.cloud' AND docker_registry_repository.name = $1 ) OR ( deployment.registry != 'registry.patr.cloud' AND deployment.image_name = $1 ) ) AND deployment.image_tag = $2 AND deployment.workspace_id = $3 AND deployment.status != 'deleted';"
  },
  "b80c3e5c6e1620ccee068d08214bc0c787967400a6a10f45c6065ba22bea4369": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "SET CONSTRAINTS ALL DEFERRED;"
  },
  "b9152ca043c03160c4d78ea054b408b083e9b10d0617b67443a71180265b3e79": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TYPE DEPLOYMENT_CLOUD_PROVIDER AS ENUM( 'digitalocean' );"
  },
  "b931d4453304ee3c18f34c2567a7559cac74878cd209266bcfb195669a70c29b": {
    "describe": {
      "columns": [
        {
          "name": "id: Uuid",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "username",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "password",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "first_name",
          "ordinal": 3,
          "type_info": "Varchar"
        },
        {
          "name": "last_name",
          "ordinal": 4,
          "type_info": "Varchar"
        },
        {
          "name": "dob",
          "ordinal": 5,
          "type_info": "Int8"
        },
        {
          "name": "bio",
          "ordinal": 6,
          "type_info": "Varchar"
        },
        {
          "name": "location",
          "ordinal": 7,
          "type_info": "Varchar"
        },
        {
          "name": "created",
          "ordinal": 8,
          "type_info": "Int8"
        },
        {
          "name": "backup_email_local",
          "ordinal": 9,
          "type_info": "Varchar"
        },
        {
          "name": "backup_email_domain_id: Uuid",
          "ordinal": 10,
          "type_info": "Uuid"
        },
        {
          "name": "backup_phone_country_code",
          "ordinal": 11,
          "type_info": "Bpchar"
        },
        {
          "name": "backup_phone_number",
          "ordinal": 12,
          "type_info": "Varchar"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        false,
        true,
        true,
        true,
        true
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "SELECT \"user\".id as \"id: Uuid\", \"user\".username, \"user\".password, \"user\".first_name, \"user\".last_name, \"user\".dob, \"user\".bio, \"user\".location, \"user\".created, \"user\".backup_email_local, \"user\".backup_email_domain_id as \"backup_email_domain_id: Uuid\", \"user\".backup_phone_country_code, \"user\".backup_phone_number FROM \"user\" LEFT JOIN personal_email ON personal_email.user_id = \"user\".id LEFT JOIN business_email ON business_email.user_id = \"user\".id LEFT JOIN domain ON domain.id = personal_email.domain_id OR domain.id = business_email.domain_id WHERE CONCAT( personal_email.local, '@', domain.name, '.', domain.tld ) = $1 OR CONCAT( business_email.local, '@', domain.name, '.', domain.tld ) = $1;"
  },
  "b9357a0670c6269e397b5c88dad2278ee579b678ff57c99f049d17026d2660a5": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      }
    },
    "query": "DELETE FROM docker_registry_repository_manifest WHERE repository_id = $1 AND manifest_digest = $2;"
  },
  "b9d97701e22c7948c38793c3124de8a5e0224d85d918ea202ecc90bb1236a829": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE INDEX deployment_idx_name ON deployment (name);"
  },
  "ba06b0883acb619408607baf49ebc888fcfab7f912c5360db611fce1a255a69e": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "ALTER TABLE deployment ADD CONSTRAINT deployment_fk_id_workspace_id FOREIGN KEY(id, workspace_id) REFERENCES resource(id, owner_id);"
  },
  "ba9bd7a1dc576127a8132d0fbada1e9242c2b2b8441f29a131eed0537bbbdfc8": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "SET CONSTRAINTS ALL IMMEDIATE;"
  },
  "bb1465ae6d54d793b94cc0d96f56cd520c14744c0419f469245692b43069cb27": {
    "describe": {
      "columns": [
        {
          "name": "local",
          "ordinal": 0,
          "type_info": "Varchar"
        },
        {
          "name": "domain_id: Uuid",
          "ordinal": 1,
          "type_info": "Uuid"
        },
        {
          "name": "user_id: Uuid",
          "ordinal": 2,
          "type_info": "Uuid"
        },
        {
          "name": "verification_token_hash",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "verification_token_expiry",
          "ordinal": 4,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "SELECT user_unverified_personal_email.local, user_unverified_personal_email.domain_id as \"domain_id: Uuid\", user_unverified_personal_email.user_id as \"user_id: Uuid\", user_unverified_personal_email.verification_token_hash, user_unverified_personal_email.verification_token_expiry FROM user_unverified_personal_email INNER JOIN domain ON domain.id = user_unverified_personal_email.domain_id WHERE CONCAT(local, '@', domain.name, '.', domain.tld) = $1;"
  },
  "bc99fb8fb755978abf04e2db1da08b6236b07afd722505bd031cbc1e6a1f281e": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE INDEX user_to_sign_up_idx_username_otp_expiry ON user_to_sign_up (username, otp_expiry);"
  },
  "bd587eb77417104191d600bee26bcebeefbb4b8686b14e226285479196d04cfc": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      }
    },
    "query": "DELETE FROM docker_registry_repository_tag WHERE repository_id = $1 AND tag = $2;"
  },
  "bdaeb51981c627273df25d9f429211412a10aecdf420ea483c71fa45c480a52f": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TYPE MANAGED_DATABASE_ENGINE AS ENUM( 'postgres', 'mysql' );"
  },
  "be816fa44f70a6aed2285bf950575d5939a16b3d61d3009772afee9ad7a22cb3": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          {
            "Custom": {
              "kind": "Simple",
              "name": "citext"
            }
          },
          "Uuid"
        ]
      }
    },
    "query": "UPDATE managed_database SET name = $1 WHERE id = $2;"
  },
  "bfe39187b7925d9987415d6f1430adb8ea31e32dbbf15528aaebf81923e1d1fe": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE user_login( login_id UUID CONSTRAINT user_login_uq_login_id UNIQUE, refresh_token TEXT NOT NULL, token_expiry BIGINT NOT NULL CONSTRAINT user_login_chk_token_expiry_unsigned CHECK(token_expiry >= 0), user_id UUID NOT NULL CONSTRAINT user_login_fk_user_id REFERENCES \"user\"(id), last_login BIGINT NOT NULL CONSTRAINT user_login_chk_last_login_unsigned CHECK(last_login >= 0), last_activity BIGINT NOT NULL CONSTRAINT user_login_chk_last_activity_unsigned CHECK(last_activity >= 0), CONSTRAINT user_login_pk PRIMARY KEY(login_id, user_id) );"
  },
  "c3d05668be6df2b6d172acd24d451651ebd1df89d7b1cf38c656cb03b2fda6a3": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          {
            "Custom": {
              "kind": {
                "Enum": [
                  "digitalocean"
                ]
              },
              "name": "deployment_cloud_provider"
            }
          },
          "Float8",
          "Float8",
          "Uuid"
        ]
      }
    },
    "query": "INSERT INTO deployment_region ( id, name, provider, location, parent_region_id ) VALUES ($1, $2, $3, ST_SetSRID(POINT($4, $5)::GEOMETRY, 4326), $6);"
  },
  "c3f1c60ad17961d3b98545490b8940e3b772464c6123c57cf336f39b2a6cd95a": {
    "describe": {
      "columns": [
        {
          "name": "count!",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT COUNT(*) as \"count!\" FROM deployment_static_site WHERE status = 'deleted';"
  },
  "c7266afd5fc274fcd6c5dd97631ce514cbdbcbe541c6f29c797e64cea66ddc09": {
    "describe": {
      "columns": [
        {
          "name": "id: _",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "name",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "description",
          "ordinal": 2,
          "type_info": "Varchar"
        },
        {
          "name": "owner_id: _",
          "ordinal": 3,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        false,
        false,
        true,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT id as \"id: _\", name, description, owner_id as \"owner_id: _\" FROM role WHERE id = $1;"
  },
  "c7726ad0cf307f6f0f8e321f914f7caeafbed517d7c3968ed3f17ee82803a720": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text",
          "Int4",
          "Int8",
          "Bool",
          "Uuid"
        ]
      }
    },
    "query": "UPDATE patr_domain_dns_record SET value = $1, priority = $2, ttl = $3, proxied = $4 WHERE id = $5;"
  },
  "c85fb45f8bd815e198234a2fc743832c9a5ead7666c1150819dd06acff100df0": {
    "describe": {
      "columns": [
        {
          "name": "id: Uuid",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "username",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "password",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "first_name",
          "ordinal": 3,
          "type_info": "Varchar"
        },
        {
          "name": "last_name",
          "ordinal": 4,
          "type_info": "Varchar"
        },
        {
          "name": "dob",
          "ordinal": 5,
          "type_info": "Int8"
        },
        {
          "name": "bio",
          "ordinal": 6,
          "type_info": "Varchar"
        },
        {
          "name": "location",
          "ordinal": 7,
          "type_info": "Varchar"
        },
        {
          "name": "created",
          "ordinal": 8,
          "type_info": "Int8"
        },
        {
          "name": "backup_email_local",
          "ordinal": 9,
          "type_info": "Varchar"
        },
        {
          "name": "backup_email_domain_id: Uuid",
          "ordinal": 10,
          "type_info": "Uuid"
        },
        {
          "name": "backup_phone_country_code",
          "ordinal": 11,
          "type_info": "Bpchar"
        },
        {
          "name": "backup_phone_number",
          "ordinal": 12,
          "type_info": "Varchar"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        false,
        true,
        true,
        true,
        true
      ],
      "parameters": {
        "Left": [
          "Bpchar",
          "Text"
        ]
      }
    },
    "query": "SELECT \"user\".id as \"id: Uuid\", \"user\".username, \"user\".password, \"user\".first_name, \"user\".last_name, \"user\".dob, \"user\".bio, \"user\".location, \"user\".created, \"user\".backup_email_local, \"user\".backup_email_domain_id as \"backup_email_domain_id: Uuid\", \"user\".backup_phone_country_code, \"user\".backup_phone_number FROM \"user\" INNER JOIN user_phone_number ON \"user\".id = user_phone_number.user_id WHERE user_phone_number.country_code = $1 AND user_phone_number.number = $2;"
  },
  "ca60cc0ae9e218485ef43ac8e8dd496780f22f180cc579029c623628421fd26e": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE INDEX workspace_user_idx_user_id ON workspace_user (user_id);"
  },
  "cc5052043d15b31259977b31b0cc857411b204b64180714e0db89cffcb68fe46": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int8",
          "Uuid"
        ]
      }
    },
    "query": "UPDATE \"user\" SET dob = $1 WHERE id = $2;"
  },
  "cdb7e6beee050fd108b0b8966a75045b383014f735c26cf1fd17e0cd0ecb0a60": {
    "describe": {
      "columns": [
        {
          "name": "name!",
          "ordinal": 0,
          "type_info": "Text"
        },
        {
          "name": "id: _",
          "ordinal": 1,
          "type_info": "Uuid"
        },
        {
          "name": "domain_type: _",
          "ordinal": 2,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "personal",
                  "business"
                ]
              },
              "name": "resource_owner_type"
            }
          }
        }
      ],
      "nullable": [
        null,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT CONCAT(domain.name, '.', domain.tld) as \"name!\", personal_domain.id as \"id: _\", personal_domain.domain_type as \"domain_type: _\" FROM personal_domain INNER JOIN domain ON domain.id = personal_domain.id WHERE domain.id = $1;"
  },
  "ce3a937deaf8d80e3e6652b82ddf24dda93a226576277d4f7a8d74a82605b35b": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Uuid",
          "Text",
          {
            "Custom": {
              "kind": {
                "Enum": [
                  "proxy_to_deployment",
                  "proxy_to_static_site",
                  "proxy_url",
                  "redirect"
                ]
              },
              "name": "managed_url_type"
            }
          },
          "Uuid",
          "Int4",
          "Uuid",
          "Text",
          "Uuid"
        ]
      }
    },
    "query": "INSERT INTO managed_url ( id, sub_domain, domain_id, path, url_type, deployment_id, port, static_site_id, url, workspace_id ) VALUES ( $1, $2, $3, $4, $5, $6, $7, $8, $9, $10 );"
  },
  "ce5f94c07e5c7f5f624f8f47a1d02c75ed66c92eb9b8b32fcc05c107f9e1ad0f": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE patr_domain_dns_record( id UUID CONSTRAINT patr_domain_dns_record_pk PRIMARY KEY, record_identifier TEXT NOT NULL, domain_id UUID NOT NULL, name TEXT NOT NULL CONSTRAINT patr_domain_dns_record_chk_name_is_valid CHECK( name ~ '^(\\*)|((\\*\\.)?(([a-z0-9_]|[a-z0-9_][a-z0-9_\\-]*[a-z0-9_])\\.)*([a-z0-9_]|[a-z0-9_][a-z0-9_\\-]*[a-z0-9_]))$' OR name = '@' ), type DNS_RECORD_TYPE NOT NULL, value TEXT NOT NULL, priority INTEGER, ttl BIGINT NOT NULL, proxied BOOLEAN, CONSTRAINT patr_domain_dns_record_fk_domain_id FOREIGN KEY(domain_id) REFERENCES patr_controlled_domain(domain_id), CONSTRAINT patr_domain_dns_record_chk_values_valid CHECK( ( type = 'MX' AND priority IS NOT NULL ) OR ( type != 'MX' AND priority IS NULL ) ), CONSTRAINT patr_domain_dns_record_uq_domain_id_name_type_value_priority UNIQUE(domain_id, name, type, value, priority), CONSTRAINT patr_domain_dns_record_chk_proxied_is_valid CHECK( ( (type = 'A' OR type = 'AAAA' OR type = 'CNAME') AND proxied IS NOT NULL ) OR ( (type = 'MX' OR type = 'TXT') AND proxied IS NULL ) ) );"
  },
  "cf89fc51ab1464b12fc7e5f4add548647aac5c811c10851239fa91bbb95ec319": {
    "describe": {
      "columns": [
        {
          "name": "count!",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT COUNT(*) as \"count!\" FROM managed_database WHERE status != 'deleted';"
  },
  "cfd180154dfd5b879680410589c04e9a3ad919cc8510e487dfc368229e2190b6": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          {
            "Custom": {
              "kind": "Simple",
              "name": "citext"
            }
          },
          "Varchar",
          "Varchar",
          "Varchar",
          "Uuid",
          "Uuid",
          "Int2",
          "Int2",
          "Uuid",
          "Bool"
        ]
      }
    },
    "query": "INSERT INTO deployment ( id, name, registry, repository_id, image_name, image_tag, status, workspace_id, region, min_horizontal_scale, max_horizontal_scale, machine_type, deploy_on_push ) VALUES ( $1, $2, $3, NULL, $4, $5, 'created', $6, $7, $8, $9, $10, $11 );"
  },
  "cfd39580e99a44d324aabce19dc5d87c7aeb887d3a56c8c921ee5f0298580e22": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          {
            "Custom": {
              "kind": "Simple",
              "name": "citext"
            }
          },
          "Varchar",
          {
            "Custom": {
              "kind": {
                "Enum": [
                  "postgres",
                  "mysql"
                ]
              },
              "name": "managed_database_engine"
            }
          },
          "Text",
          "Int4",
          {
            "Custom": {
              "kind": {
                "Enum": [
                  "nano",
                  "micro",
                  "small",
                  "medium",
                  "large",
                  "xlarge",
                  "xxlarge",
                  "mammoth"
                ]
              },
              "name": "managed_database_plan"
            }
          },
          "Text",
          "Text",
          "Int4",
          "Text",
          "Text",
          "Uuid",
          "Text"
        ]
      }
    },
    "query": "INSERT INTO managed_database ( id, name, db_name, engine, version, num_nodes, database_plan, region, status, host, port, username, password, workspace_id, digitalocean_db_id ) VALUES ( $1, $2, $3, $4, $5, $6, $7, $8, 'creating', $9, $10, $11, $12, $13, $14 );"
  },
  "cfe90f397141fe6f605a54f2036a466cb0b5bc000b7ad716e6d271980d91dfe8": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "DELETE FROM patr_domain_dns_record WHERE id = $1;"
  },
  "d053057cd4d2bef5776a82a37cdf49a8147fff23182d6d1254c9fc30f1def33b": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "ALTER TABLE \"user\" ADD CONSTRAINT user_fk_id_backup_email_local_backup_email_domain_id FOREIGN KEY ( id, backup_email_local, backup_email_domain_id ) REFERENCES personal_email ( user_id, local, domain_id ) DEFERRABLE INITIALLY IMMEDIATE;"
  },
  "d15e0c71ea9090a1495c254f1dba5f067d31ff4e03fceea295be94f8b4eb3914": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Varchar",
          "Uuid"
        ]
      }
    },
    "query": "INSERT INTO business_email (user_id, local, domain_id) VALUES ($1, $2, $3);"
  },
  "d2ca892138dda0bf1f349785a946da0be3f47a06a3f22ffdd6c7607299ee9fb0": {
    "describe": {
      "columns": [
        {
          "name": "tag",
          "ordinal": 0,
          "type_info": "Text"
        },
        {
          "name": "last_updated",
          "ordinal": 1,
          "type_info": "Int8"
        },
        {
          "name": "manifest_digest",
          "ordinal": 2,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      }
    },
    "query": "SELECT tag, last_updated, manifest_digest FROM docker_registry_repository_tag WHERE repository_id = $1 AND tag = $2;"
  },
  "d2d8468280def3ef5920cbe67665fd046e4a50a408454c78442fa6015fbf03af": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "ALTER TABLE managed_url ADD CONSTRAINT managed_url_fk_domain_id FOREIGN KEY(domain_id) REFERENCES workspace_domain(id), ADD CONSTRAINT managed_url_fk_domain_id_workspace_id FOREIGN KEY(domain_id, workspace_id) REFERENCES resource(id, owner_id), ADD CONSTRAINT managed_url_fk_deployment_id_port FOREIGN KEY(deployment_id, port) REFERENCES deployment_exposed_port(deployment_id, port), ADD CONSTRAINT managed_url_fk_deployment_id_workspace_id FOREIGN KEY(deployment_id, workspace_id) REFERENCES deployment(id, workspace_id), ADD CONSTRAINT managed_url_fk_static_site_id_workspace_id FOREIGN KEY(static_site_id, workspace_id) REFERENCES deployment_static_site(id, workspace_id), ADD CONSTRAINT managed_url_fk_id_workspace_id FOREIGN KEY(id, workspace_id) REFERENCES resource(id, owner_id);"
  },
  "d7547e8a9cba4b11e5c2cc4558ea436d609f0c4cdf65c06c70cf4f300e2dafce": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text",
          "Uuid"
        ]
      }
    },
    "query": "UPDATE domain SET name = $1 WHERE id = $2;"
  },
  "d79988d4260a269130ee6b5a02f6b937e5f01652e3e25cddf8590f3373bd5b14": {
    "describe": {
      "columns": [
        {
          "name": "count",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT COUNT(*) as \"count\" FROM managed_url WHERE domain_id = $1 AND sub_domain NOT LIKE CONCAT( 'patr-deleted: ', REPLACE(id::TEXT, '-', ''), '@%' );"
  },
  "d8025ea32bd00497ab2e0b817f283edaac5f41d132887ce359f758fb7ff689a8": {
    "describe": {
      "columns": [
        {
          "name": "id: Uuid",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "workspace_id: Uuid",
          "ordinal": 1,
          "type_info": "Uuid"
        },
        {
          "name": "name!: String",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "size!",
          "ordinal": 3,
          "type_info": "Numeric"
        }
      ],
      "nullable": [
        false,
        false,
        null,
        null
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT id as \"id: Uuid\", workspace_id as \"workspace_id: Uuid\", name::TEXT as \"name!: String\", COALESCE(size, 0) as \"size!\" FROM docker_registry_repository LEFT JOIN ( SELECT SUM(size) as size, repository_id FROM docker_registry_repository_manifest GROUP BY repository_id ) docker_registry_repository_manifest ON docker_registry_repository_manifest.repository_id = docker_registry_repository.id WHERE workspace_id = $1 AND name NOT LIKE 'patr-deleted:%';"
  },
  "d855be524f5d626e1d40358b55e487b367473da4728a18242664950c5c44b244": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE INDEX workspace_domain_idx_is_verified ON workspace_domain (is_verified);"
  },
  "d8561b79d923e7eb13f8200ef234e40df7f8ff60b0a56623231cd801914a12ae": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE INDEX workspace_idx_super_admin_id ON workspace (super_admin_id);"
  },
  "d9ab542f26064cd3798be53f2c1c85e109ef352cbd69f38ada8f317426cd404c": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      }
    },
    "query": "UPDATE managed_url SET sub_domain = $2 WHERE id = $1;"
  },
  "da00466a405deab718aa4aace88a0fdacbf06e051fb0b2ff17baa35b0cf10c89": {
    "describe": {
      "columns": [
        {
          "name": "id: _",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "name!: _",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "super_admin_id: _",
          "ordinal": 2,
          "type_info": "Uuid"
        },
        {
          "name": "active",
          "ordinal": 3,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        false,
        null,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT id as \"id: _\", name::TEXT as \"name!: _\", super_admin_id as \"super_admin_id: _\", active FROM workspace WHERE super_admin_id = $1;"
  },
  "da1189d39d4d092b648061fd074d1e847a2142cd3a13efd0bb18abd92978baca": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE managed_database( id UUID CONSTRAINT managed_database_pk PRIMARY KEY, name CITEXT NOT NULL CONSTRAINT managed_database_chk_name_is_trimmed CHECK( name = TRIM(name) ), db_name VARCHAR(255) NOT NULL CONSTRAINT managed_database_chk_db_name_is_trimmed CHECK( db_name = TRIM(db_name) ), engine MANAGED_DATABASE_ENGINE NOT NULL, version TEXT NOT NULL, num_nodes INTEGER NOT NULL, database_plan MANAGED_DATABASE_PLAN NOT NULL, region TEXT NOT NULL, status MANAGED_DATABASE_STATUS NOT NULL, host TEXT NOT NULL, port INTEGER NOT NULL, username TEXT NOT NULL, password TEXT NOT NULL, workspace_id UUID NOT NULL, digitalocean_db_id TEXT CONSTRAINT managed_database_uq_digitalocean_db_id UNIQUE, CONSTRAINT managed_database_uq_name_workspace_id UNIQUE(name, workspace_id) );"
  },
  "da3a2a4c83ec7e8493498fd89100204a9e32d02efd05ed9a75da9783998eb39e": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE docker_registry_repository_tag( repository_id UUID NOT NULL CONSTRAINT docker_registry_repository_tag_fk_repository_id REFERENCES docker_registry_repository(id), tag TEXT NOT NULL, manifest_digest TEXT NOT NULL, last_updated BIGINT NOT NULL CONSTRAINT docker_registry_repository_tag_chk_last_updated_unsigned CHECK( last_updated >= 0 ), CONSTRAINT docker_registry_repository_tag_pk PRIMARY KEY( repository_id, tag ), CONSTRAINT docker_registry_repository_tag_fk_repository_id_manifest_digest FOREIGN KEY(repository_id, manifest_digest) REFERENCES docker_registry_repository_manifest( repository_id, manifest_digest ) );"
  },
  "dca6992cc85f4d617680b1e89577f622f75a94f85adbe7e5142eb8b056e115b2": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          {
            "Custom": {
              "kind": "Simple",
              "name": "citext"
            }
          },
          "Uuid"
        ]
      }
    },
    "query": "UPDATE deployment SET name = $1 WHERE id = $2;"
  },
  "dca7ef80973e51ffe78bd9f717ae1cbcd73aaf19b3530b322a77c9d39edf26fb": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TYPE MANAGED_DATABASE_PLAN AS ENUM( 'nano', 'micro', 'small', 'medium', 'large', 'xlarge', 'xxlarge', 'mammoth' );"
  },
  "dcef80ed1c70d96c83c8496ab1c60acffcd05a39359b6731c1b7f74d7f3ae413": {
    "describe": {
      "columns": [
        {
          "name": "id: _",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "name!: _",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "status: _",
          "ordinal": 2,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "created",
                  "pushed",
                  "deploying",
                  "running",
                  "stopped",
                  "errored",
                  "deleted"
                ]
              },
              "name": "deployment_status"
            }
          }
        },
        {
          "name": "workspace_id: _",
          "ordinal": 3,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        false,
        null,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT id as \"id: _\", name::TEXT as \"name!: _\", status as \"status: _\", workspace_id as \"workspace_id: _\" FROM deployment_static_site WHERE id = $1 AND status != 'deleted';"
  },
  "dd227e4051b6f768477c66b2ddfa2617832787a776c1f3e9b7fc1a23ed45ddd4": {
    "describe": {
      "columns": [
        {
          "name": "tag",
          "ordinal": 0,
          "type_info": "Text"
        },
        {
          "name": "manifest_digest",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "last_updated",
          "ordinal": 2,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT tag, manifest_digest, last_updated FROM docker_registry_repository_tag WHERE repository_id = $1;"
  },
  "dd7882d7a050b27d0474f90e0b4335e7b604155c424347a65123b56a2379284d": {
    "describe": {
      "columns": [
        {
          "name": "domain_id: _",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "zone_identifier",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "nameserver_type: _",
          "ordinal": 2,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "internal",
                  "external"
                ]
              },
              "name": "domain_nameserver_type"
            }
          }
        }
      ],
      "nullable": [
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT domain_id as \"domain_id: _\", zone_identifier, nameserver_type as \"nameserver_type: _\" FROM patr_controlled_domain WHERE domain_id = $1;"
  },
  "ddf2963936615eb58225ace43d720c4c708e1abced58c94dc7a8d9b83c0f6321": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "DELETE FROM workspace_user WHERE role_id = $1;"
  },
  "de74ae7f29c027a8f87b7ddea32144fd590d3e4591e17fdc8f5fc80afcf1f299": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "ALTER TABLE docker_registry_repository ADD CONSTRAINT docker_registry_repository_fk_id_workspace_id FOREIGN KEY(id, workspace_id) REFERENCES resource(id, owner_id);"
  },
  "df168dc51dc8a4cdaa40d09b1efb644e0c3637bfb0eb4072a1cf9895b5cbea56": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "DELETE FROM deployment_exposed_port WHERE deployment_id = $1;"
  },
  "df36e2ceaf21f2d013406c873646c95c106b64e49665f309738b14201df9ec56": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE INDEX user_login_idx_user_id ON user_login (user_id);"
  },
  "e00ba20ea9ff654465b2212550e00cfd2af001338161b3003005ab81b3ca834e": {
    "describe": {
      "columns": [
        {
          "name": "id: _",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "name",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "description",
          "ordinal": 2,
          "type_info": "Varchar"
        },
        {
          "name": "owner_id: _",
          "ordinal": 3,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        false,
        false,
        true,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT id as \"id: _\", name, description, owner_id as \"owner_id: _\" FROM role WHERE owner_id = $1;"
  },
  "e19ad7f33249639afbd94cfb3bdc1f2c3e4648afd5cd2722cb12154782bba49b": {
    "describe": {
      "columns": [
        {
          "name": "count!",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT COUNT(*) as \"count!\" FROM managed_url WHERE url_type = 'proxy_to_static_site';"
  },
  "e1e05f1f8492611667e34b2fe445d7efeeee27a9f3e6be26239f862a3bd3321a": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Varchar",
          "Text"
        ]
      }
    },
    "query": "INSERT INTO deployment_environment_variable ( deployment_id, name, value ) VALUES ($1, $2, $3);"
  },
  "e2db0a9168e8b5a614acb541de96cefe751c666b9a8380e039c6be6523e0dfc4": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Bpchar",
          "Varchar",
          "Uuid"
        ]
      }
    },
    "query": "UPDATE \"user\" SET backup_phone_country_code = $1, backup_phone_number = $2 WHERE id = $3;"
  },
  "e313defa3d63bb79a1b84bbac09a430197050238b4076f03a1d8b90f0788f769": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "DELETE FROM domain WHERE id = $1;"
  },
  "e44c154107c5fb3d88b9c38b24ac19303760e8d8fde96510bb66ea9932b29e22": {
    "describe": {
      "columns": [
        {
          "name": "id: _",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "record_identifier",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "domain_id: _",
          "ordinal": 2,
          "type_info": "Uuid"
        },
        {
          "name": "name",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "type: _",
          "ordinal": 4,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "A",
                  "MX",
                  "TXT",
                  "AAAA",
                  "CNAME"
                ]
              },
              "name": "dns_record_type"
            }
          }
        },
        {
          "name": "value",
          "ordinal": 5,
          "type_info": "Text"
        },
        {
          "name": "priority",
          "ordinal": 6,
          "type_info": "Int4"
        },
        {
          "name": "ttl",
          "ordinal": 7,
          "type_info": "Int8"
        },
        {
          "name": "proxied",
          "ordinal": 8,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        true,
        false,
        true
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT patr_domain_dns_record.id as \"id: _\", patr_domain_dns_record.record_identifier, patr_domain_dns_record.domain_id as \"domain_id: _\", patr_domain_dns_record.name, patr_domain_dns_record.type as \"type: _\", patr_domain_dns_record.value, patr_domain_dns_record.priority, patr_domain_dns_record.ttl, patr_domain_dns_record.proxied FROM patr_domain_dns_record INNER JOIN domain ON patr_domain_dns_record.domain_id = domain.id WHERE patr_domain_dns_record.domain_id = $1 AND domain.name NOT LIKE CONCAT( 'patr-deleted: ', REPLACE(domain.id::TEXT, '-', ''), '@%' );"
  },
  "e4805f15b676574e2c451b7d51596f91e87e45562004e82e4e5a7cb17948cd55": {
    "describe": {
      "columns": [
        {
          "name": "count!",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT COUNT(*) as \"count!\" FROM managed_url WHERE url_type = 'proxy_to_deployment';"
  },
  "e5d15755b015b3c4f87308a59c8c625ad75a29974645d8e24875d8daa1919901": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "DELETE FROM docker_registry_repository_tag WHERE repository_id = $1;"
  },
  "e612e850c570bbc931e8a3fcbd7b87c54257d739d9a4a3dfbd367961edea354b": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Varchar",
          "Uuid"
        ]
      }
    },
    "query": "UPDATE \"user\" SET first_name = $1 WHERE id = $2;"
  },
  "e67c1e6f96aec49750ea347b36199d17f7e58efbff15d77a740c47a6deae9db5": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Varchar",
          "Uuid"
        ]
      }
    },
    "query": "UPDATE \"user\" SET bio = $1 WHERE id = $2;"
  },
  "e7d6cf952896ce06839104dfb8248258d52715766573a5659ce7e889a2b9aa00": {
    "describe": {
      "columns": [
        {
          "name": "id: _",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "sub_domain",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "domain_id: _",
          "ordinal": 2,
          "type_info": "Uuid"
        },
        {
          "name": "path",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "url_type: _",
          "ordinal": 4,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "proxy_to_deployment",
                  "proxy_to_static_site",
                  "proxy_url",
                  "redirect"
                ]
              },
              "name": "managed_url_type"
            }
          }
        },
        {
          "name": "deployment_id: _",
          "ordinal": 5,
          "type_info": "Uuid"
        },
        {
          "name": "port",
          "ordinal": 6,
          "type_info": "Int4"
        },
        {
          "name": "static_site_id: _",
          "ordinal": 7,
          "type_info": "Uuid"
        },
        {
          "name": "url",
          "ordinal": 8,
          "type_info": "Text"
        },
        {
          "name": "workspace_id: _",
          "ordinal": 9,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        true,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT id as \"id: _\", sub_domain, domain_id as \"domain_id: _\", path, url_type as \"url_type: _\", deployment_id as \"deployment_id: _\", port, static_site_id as \"static_site_id: _\", url, workspace_id as \"workspace_id: _\" FROM managed_url WHERE id = $1 AND sub_domain NOT LIKE CONCAT( 'patr-deleted: ', REPLACE(id::TEXT, '-', ''), '@%' );"
  },
  "e838972a49d95650b469757b993bedfd88a875d6ea455abb1d3e97ded2bb492c": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE INDEX personal_email_idx_user_id ON personal_email (user_id);"
  },
  "e91e543e8d8395c1862678749ecbb1a23ae3d2df055111d862745c8c7cb165e3": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid"
        ]
      }
    },
    "query": "DELETE FROM user_login WHERE login_id = $1 AND user_id = $2;"
  },
  "e9d0764903c5d929f560f8069e0e610181f2724a5642fe65ba3a94dcba724460": {
    "describe": {
      "columns": [
        {
          "name": "last_updated!",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT GREATEST( resource.created, ( SELECT COALESCE(created, 0) FROM docker_registry_repository_manifest WHERE repository_id = $1 ORDER BY created DESC LIMIT 1 ), ( SELECT COALESCE(last_updated, 0) FROM docker_registry_repository_tag WHERE repository_id = $1 ORDER BY created DESC LIMIT 1 ) ) as \"last_updated!\" FROM resource WHERE resource.id = $1;"
  },
  "eae55af4308b23ddda0f1baddb26ab64d833bd6135785f365fbc23b89e29ef2c": {
    "describe": {
      "columns": [
        {
          "name": "id: _",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "name!",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "type: _",
          "ordinal": 2,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "personal",
                  "business"
                ]
              },
              "name": "resource_owner_type"
            }
          }
        }
      ],
      "nullable": [
        false,
        null,
        false
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "SELECT id as \"id: _\", CONCAT(domain.name, '.', domain.tld) as \"name!\", type as \"type: _\" FROM domain WHERE CONCAT(domain.name, '.', domain.tld) = $1 AND domain.name NOT LIKE CONCAT( 'patr-deleted: ', REPLACE(domain.id::TEXT, '-', ''), '@%' );"
  },
  "ed03b82d7f2dae1014156e82999b9804b120f50fbd13d06969daca39c47e3c88": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE password_reset_request( user_id UUID CONSTRAINT password_reset_request_pk PRIMARY KEY CONSTRAINT password_reset_request_fk_user_id REFERENCES \"user\"(id), token TEXT NOT NULL, token_expiry BIGINT NOT NULL CONSTRAINT password_reset_request_token_expiry_chk_unsigned CHECK(token_expiry >= 0) );"
  },
  "ed964d5972036bd49e17512f2588da16a94a81f63db84cdd4a5713b9adeca9be": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE personal_email( user_id UUID NOT NULL CONSTRAINT personal_email_fk_user_id REFERENCES \"user\"(id) DEFERRABLE INITIALLY IMMEDIATE, local VARCHAR(64) NOT NULL CONSTRAINT personal_email_chk_local_is_lower_case CHECK( local = LOWER(local) ), domain_id UUID NOT NULL CONSTRAINT personal_email_fk_domain_id REFERENCES personal_domain(id), CONSTRAINT personal_email_pk PRIMARY KEY(local, domain_id), CONSTRAINT personal_email_uq_user_id_local_domain_id UNIQUE(user_id, local, domain_id) );"
  },
  "edbe8c3a433fff62d9b3c03cc7ec2750a6ea433379d0a57b5c374ee3ab892c8c": {
    "describe": {
      "columns": [
        {
          "name": "id: Uuid",
          "ordinal": 0,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT id as \"id: Uuid\" FROM deployment_region WHERE id = $1;"
  },
  "ee6a880bffc00568efcbb542dce5d2413468402d8a17d135aaf6e36a07e79e66": {
    "describe": {
      "columns": [
        {
          "name": "local",
          "ordinal": 0,
          "type_info": "Varchar"
        },
        {
          "name": "domain_id: Uuid",
          "ordinal": 1,
          "type_info": "Uuid"
        },
        {
          "name": "user_id: Uuid",
          "ordinal": 2,
          "type_info": "Uuid"
        },
        {
          "name": "verification_token_hash",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "verification_token_expiry",
          "ordinal": 4,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      }
    },
    "query": "SELECT user_unverified_personal_email.local, user_unverified_personal_email.domain_id as \"domain_id: Uuid\", user_unverified_personal_email.user_id as \"user_id: Uuid\", user_unverified_personal_email.verification_token_hash, user_unverified_personal_email.verification_token_expiry FROM user_unverified_personal_email INNER JOIN domain ON domain.id = user_unverified_personal_email.domain_id WHERE user_id = $1 AND CONCAT(local, '@', domain.name, '.', domain.tld) = $2;"
  },
  "f09ba7816097607f7f07421f1d8fe5bfae9d0fee58b6fd2715448e069e98750f": {
    "describe": {
      "columns": [
        {
          "name": "login_id: Uuid",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "refresh_token",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "token_expiry",
          "ordinal": 2,
          "type_info": "Int8"
        },
        {
          "name": "user_id: Uuid",
          "ordinal": 3,
          "type_info": "Uuid"
        },
        {
          "name": "last_login",
          "ordinal": 4,
          "type_info": "Int8"
        },
        {
          "name": "last_activity",
          "ordinal": 5,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      }
    },
    "query": "SELECT login_id as \"login_id: Uuid\", refresh_token, token_expiry, user_id as \"user_id: Uuid\", last_login, last_activity FROM user_login WHERE user_id = $1 AND refresh_token = $2;"
  },
  "f0f61d6c683953e8f0ad3c94e7493b7f2fe5520d7d98420eed7c6fdab0d1ecc2": {
    "describe": {
      "columns": [
        {
          "name": "count!",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT COUNT(*) as \"count!\" FROM user_to_sign_up;"
  },
  "f1ad06e8b6423fcb0f36b98d4420f34133e8def9aa625e84c9a43d91429a2a79": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Varchar",
          "Varchar",
          "Uuid"
        ]
      }
    },
    "query": "INSERT INTO role (id, name, description, owner_id) VALUES ($1, $2, $3, $4);"
  },
  "f1d56cc131a51cd86b1e753db28051dd3306c91a100e8973e6ac7f941b3012d2": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Varchar"
        ]
      }
    },
    "query": "INSERT INTO resource_type (id, name, description) VALUES ($1, $2, NULL);"
  },
  "f4b563086869478fb23e33f2b2b76c74ba71561f61443053053ae9591126a81e": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Varchar"
        ]
      }
    },
    "query": "UPDATE resource SET name = $2 WHERE id = $1;"
  },
  "f5b7bf00eb407d889619e638614750a5deab18378edd398c074adb012b209f75": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE INDEX user_idx_created ON \"user\" (created);"
  },
  "f5dc0fe6c462dd9658c2a0a358fb20ed7da3b85fa0bc49b3e72db40200788833": {
    "describe": {
      "columns": [
        {
          "name": "id!: _",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "sub_domain!: _",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "domain_id!: _",
          "ordinal": 2,
          "type_info": "Uuid"
        },
        {
          "name": "path!: _",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "url_type!: _",
          "ordinal": 4,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "proxy_to_deployment",
                  "proxy_to_static_site",
                  "proxy_url",
                  "redirect"
                ]
              },
              "name": "managed_url_type"
            }
          }
        },
        {
          "name": "deployment_id: _",
          "ordinal": 5,
          "type_info": "Uuid"
        },
        {
          "name": "port",
          "ordinal": 6,
          "type_info": "Int4"
        },
        {
          "name": "static_site_id: _",
          "ordinal": 7,
          "type_info": "Uuid"
        },
        {
          "name": "url",
          "ordinal": 8,
          "type_info": "Text"
        },
        {
          "name": "workspace_id!: _",
          "ordinal": 9,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid"
        ]
      }
    },
    "query": "WITH RECURSIVE managed_url_list AS ( SELECT managed_url.* FROM managed_url INNER JOIN domain ON managed_url.domain_id = domain.id WHERE managed_url.static_site_id = $1 AND managed_url.url_type = 'proxy_to_static_site' UNION ALL SELECT managed_url.* FROM managed_url INNER JOIN domain ON managed_url.domain_id = domain.id JOIN managed_url_list ON managed_url.url LIKE CONCAT( managed_url.sub_domain, '.', domain.name, '.', domain.tld, CASE managed_url.path WHEN '/' THEN '%' ELSE CONCAT(managed_url.path, '%') END ) WHERE managed_url.url_type = 'redirect' OR managed_url.url_type = 'proxy_url' ) SELECT id as \"id!: _\", sub_domain as \"sub_domain!: _\", domain_id as \"domain_id!: _\", path as \"path!: _\", url_type as \"url_type!: _\", deployment_id as \"deployment_id: _\", port, static_site_id as \"static_site_id: _\", url, workspace_id as \"workspace_id!: _\" FROM managed_url_list WHERE managed_url_list.workspace_id = $2 AND managed_url_list.sub_domain NOT LIKE CONCAT( 'patr-deleted: ', REPLACE(id::TEXT, '-', ''), '@%' );"
  },
  "f677f0f49f5509a73a29aa93a7525c287fdc8601417c0b671f6a2848cdcc1265": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "DELETE FROM role WHERE id = $1;"
  },
  "f6cc8d79f2c2f52757cc15fd59ac42c6d1ea67fc8232fed1260895a5d418492a": {
    "describe": {
      "columns": [
        {
          "name": "permission_id: Uuid",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "resource_id: Uuid",
          "ordinal": 1,
          "type_info": "Uuid"
        },
        {
          "name": "name",
          "ordinal": 2,
          "type_info": "Varchar"
        },
        {
          "name": "description",
          "ordinal": 3,
          "type_info": "Varchar"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        true
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT permission_id as \"permission_id: Uuid\", resource_id as \"resource_id: Uuid\", name, description FROM role_permissions_resource INNER JOIN permission ON role_permissions_resource.permission_id = permission.id WHERE role_permissions_resource.role_id = $1;"
  },
  "f6fd226a2dbddcdaa814f0e47874e447b759180761627cdc941cbe554a07abe5": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE deployment( id UUID CONSTRAINT deployment_pk PRIMARY KEY, name CITEXT NOT NULL CONSTRAINT deployment_chk_name_is_trimmed CHECK( name = TRIM(name) ), registry VARCHAR(255) NOT NULL DEFAULT 'registry.patr.cloud', repository_id UUID, image_name VARCHAR(512), image_tag VARCHAR(255) NOT NULL, status DEPLOYMENT_STATUS NOT NULL DEFAULT 'created', workspace_id UUID NOT NULL, region UUID NOT NULL CONSTRAINT deployment_fk_region REFERENCES deployment_region(id), min_horizontal_scale SMALLINT NOT NULL CONSTRAINT deployment_chk_min_horizontal_scale_u8 CHECK( min_horizontal_scale >= 0 AND min_horizontal_scale <= 256 ) DEFAULT 1, max_horizontal_scale SMALLINT NOT NULL CONSTRAINT deployment_chk_max_horizontal_scale_u8 CHECK( max_horizontal_scale >= 0 AND max_horizontal_scale <= 256 ) DEFAULT 1, machine_type UUID NOT NULL CONSTRAINT deployment_fk_machine_type REFERENCES deployment_machine_type(id), deploy_on_push BOOLEAN NOT NULL DEFAULT TRUE, CONSTRAINT deployment_fk_repository_id_workspace_id FOREIGN KEY(repository_id, workspace_id) REFERENCES docker_registry_repository(id, workspace_id), CONSTRAINT deployment_uq_name_workspace_id UNIQUE(name, workspace_id), CONSTRAINT deployment_uq_id_workspace_id UNIQUE(id, workspace_id), CONSTRAINT deployment_chk_repository_id_is_valid CHECK( ( registry = 'registry.patr.cloud' AND image_name IS NULL AND repository_id IS NOT NULL ) OR ( registry != 'registry.patr.cloud' AND image_name IS NOT NULL AND repository_id IS NULL ) ), CONSTRAINT deployment_chk_image_tag_is_valid CHECK( image_tag != '' ) );"
  },
  "f8b70ccc8687361430f17086e79357a1d2d97c79f40fabd3f39d44ffe7d95cba": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE domain_tld( tld TEXT CONSTRAINT domain_tld_pk PRIMARY KEY CONSTRAINT domain_tld_chk_is_length_valid CHECK( LENGTH(tld) >= 2 AND LENGTH(tld) <= 63 ) CONSTRAINT domain_tld_chk_is_tld_valid CHECK( tld ~ '^(([a-z0-9])|([a-z0-9][a-z0-9\\-\\.]*[a-z0-9]))$' ) );"
  },
  "f97a6aa74e29fce79cf925131c1d9600abb217529d44954f2044e5b11d43ef17": {
    "describe": {
      "columns": [
        {
          "name": "permission_id: Uuid",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "resource_type_id: Uuid",
          "ordinal": 1,
          "type_info": "Uuid"
        },
        {
          "name": "name",
          "ordinal": 2,
          "type_info": "Varchar"
        },
        {
          "name": "description",
          "ordinal": 3,
          "type_info": "Varchar"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        true
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT permission_id as \"permission_id: Uuid\", resource_type_id as \"resource_type_id: Uuid\", name, description FROM role_permissions_resource_type INNER JOIN permission ON role_permissions_resource_type.permission_id = permission.id WHERE role_permissions_resource_type.role_id = $1;"
  },
  "fa9213a72b19a2d2ddedbf3309082989a735933d738146936c5a852521f327f9": {
    "describe": {
      "columns": [
        {
          "name": "id: _",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "name!: _",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "db_name",
          "ordinal": 2,
          "type_info": "Varchar"
        },
        {
          "name": "engine: _",
          "ordinal": 3,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "postgres",
                  "mysql"
                ]
              },
              "name": "managed_database_engine"
            }
          }
        },
        {
          "name": "version",
          "ordinal": 4,
          "type_info": "Text"
        },
        {
          "name": "num_nodes",
          "ordinal": 5,
          "type_info": "Int4"
        },
        {
          "name": "database_plan: _",
          "ordinal": 6,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "nano",
                  "micro",
                  "small",
                  "medium",
                  "large",
                  "xlarge",
                  "xxlarge",
                  "mammoth"
                ]
              },
              "name": "managed_database_plan"
            }
          }
        },
        {
          "name": "region",
          "ordinal": 7,
          "type_info": "Text"
        },
        {
          "name": "status: _",
          "ordinal": 8,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "creating",
                  "running",
                  "stopped",
                  "errored",
                  "deleted"
                ]
              },
              "name": "managed_database_status"
            }
          }
        },
        {
          "name": "host",
          "ordinal": 9,
          "type_info": "Text"
        },
        {
          "name": "port",
          "ordinal": 10,
          "type_info": "Int4"
        },
        {
          "name": "username",
          "ordinal": 11,
          "type_info": "Text"
        },
        {
          "name": "password",
          "ordinal": 12,
          "type_info": "Text"
        },
        {
          "name": "workspace_id: _",
          "ordinal": 13,
          "type_info": "Uuid"
        },
        {
          "name": "digitalocean_db_id",
          "ordinal": 14,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        null,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        true
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT id as \"id: _\", name::TEXT as \"name!: _\", db_name, engine as \"engine: _\", version, num_nodes, database_plan as \"database_plan: _\", region, status as \"status: _\", host, port, username, password, workspace_id as \"workspace_id: _\", digitalocean_db_id FROM managed_database WHERE id = $1 AND status != 'deleted';"
  },
  "fb098c06747fe3fd6d3eca864e64909152465ef3782b280e2c19655c4b1db506": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int2",
          "Uuid"
        ]
      }
    },
    "query": "UPDATE deployment SET min_horizontal_scale = $1 WHERE id = $2;"
  },
  "fd6f74dc93b7cfcd5d584acc13313746d393c17c98bf5488b0580e4313ac9735": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "CREATE TABLE \"user\"( id UUID CONSTRAINT user_pk PRIMARY KEY, username VARCHAR(100) NOT NULL CONSTRAINT user_uq_username UNIQUE CONSTRAINT user_chk_username_is_valid CHECK( /* Username is a-z, 0-9, _, cannot begin or end with a . or - */ username ~ '^[a-z0-9_][a-z0-9_\\.\\-]*[a-z0-9_]$' AND username NOT LIKE '%..%' AND username NOT LIKE '%.-%' AND username NOT LIKE '%-.%' ), password TEXT NOT NULL, first_name VARCHAR(100) NOT NULL, last_name VARCHAR(100) NOT NULL, dob BIGINT DEFAULT NULL CONSTRAINT user_chk_dob_unsigned CHECK(dob >= 0), bio VARCHAR(128) DEFAULT NULL, location VARCHAR(128) DEFAULT NULL, created BIGINT NOT NULL CONSTRAINT user_chk_created_unsigned CHECK(created >= 0), /* Recovery options */ backup_email_local VARCHAR(64) CONSTRAINT user_chk_backup_email_is_lower_case CHECK( backup_email_local = LOWER(backup_email_local) ), backup_email_domain_id UUID, backup_phone_country_code CHAR(2) CONSTRAINT user_chk_backup_phone_country_code_is_upper_case CHECK( backup_phone_country_code = UPPER(backup_phone_country_code) ), backup_phone_number VARCHAR(15), CONSTRAINT user_uq_backup_email_local_backup_email_domain_id UNIQUE(backup_email_local, backup_email_domain_id), CONSTRAINT user_uq_backup_phone_country_code_backup_phone_number UNIQUE(backup_phone_country_code, backup_phone_number), CONSTRAINT user_chk_bckp_eml_or_bckp_phn_present CHECK( ( backup_email_local IS NOT NULL AND backup_email_domain_id IS NOT NULL ) OR ( backup_phone_country_code IS NOT NULL AND backup_phone_number IS NOT NULL ) ) );"
  },
  "fe7039298e561adb7a76335a34120aac3fad8cffdd207bbf4d631c6dce8bf040": {
    "describe": {
      "columns": [
        {
          "name": "username",
          "ordinal": 0,
          "type_info": "Varchar"
        },
        {
          "name": "account_type: ResourceType",
          "ordinal": 1,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "personal",
                  "business"
                ]
              },
              "name": "resource_owner_type"
            }
          }
        },
        {
          "name": "password",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "first_name",
          "ordinal": 3,
          "type_info": "Varchar"
        },
        {
          "name": "last_name",
          "ordinal": 4,
          "type_info": "Varchar"
        },
        {
          "name": "backup_email_local",
          "ordinal": 5,
          "type_info": "Varchar"
        },
        {
          "name": "backup_email_domain_id: Uuid",
          "ordinal": 6,
          "type_info": "Uuid"
        },
        {
          "name": "backup_phone_country_code",
          "ordinal": 7,
          "type_info": "Bpchar"
        },
        {
          "name": "backup_phone_number",
          "ordinal": 8,
          "type_info": "Varchar"
        },
        {
          "name": "business_email_local",
          "ordinal": 9,
          "type_info": "Varchar"
        },
        {
          "name": "business_domain_name: String",
          "ordinal": 10,
          "type_info": "Text"
        },
        {
          "name": "business_name",
          "ordinal": 11,
          "type_info": "Varchar"
        },
        {
          "name": "otp_hash",
          "ordinal": 12,
          "type_info": "Text"
        },
        {
          "name": "otp_expiry",
          "ordinal": 13,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        true,
        true,
        null,
        true,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "SELECT username, account_type as \"account_type: ResourceType\", password, first_name, last_name, backup_email_local, backup_email_domain_id as \"backup_email_domain_id: Uuid\", backup_phone_country_code, backup_phone_number, business_email_local, CASE WHEN business_domain_name IS NULL THEN NULL ELSE CONCAT(business_domain_name, '.', business_domain_tld) END as \"business_domain_name: String\", business_name, otp_hash, otp_expiry FROM user_to_sign_up WHERE business_name = $1;"
  },
  "fe8c22df6cd21020bbbb9d77bffbc3d1df0940c2b50b7868682f802781c0ea61": {
    "describe": {
      "columns": [
        {
          "name": "id: _",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "name!: _",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "registry",
          "ordinal": 2,
          "type_info": "Varchar"
        },
        {
          "name": "repository_id: _",
          "ordinal": 3,
          "type_info": "Uuid"
        },
        {
          "name": "image_name",
          "ordinal": 4,
          "type_info": "Varchar"
        },
        {
          "name": "image_tag",
          "ordinal": 5,
          "type_info": "Varchar"
        },
        {
          "name": "status: _",
          "ordinal": 6,
          "type_info": {
            "Custom": {
              "kind": {
                "Enum": [
                  "created",
                  "pushed",
                  "deploying",
                  "running",
                  "stopped",
                  "errored",
                  "deleted"
                ]
              },
              "name": "deployment_status"
            }
          }
        },
        {
          "name": "workspace_id: _",
          "ordinal": 7,
          "type_info": "Uuid"
        },
        {
          "name": "region: _",
          "ordinal": 8,
          "type_info": "Uuid"
        },
        {
          "name": "min_horizontal_scale",
          "ordinal": 9,
          "type_info": "Int2"
        },
        {
          "name": "max_horizontal_scale",
          "ordinal": 10,
          "type_info": "Int2"
        },
        {
          "name": "machine_type: _",
          "ordinal": 11,
          "type_info": "Uuid"
        },
        {
          "name": "deploy_on_push",
          "ordinal": 12,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        false,
        null,
        false,
        true,
        true,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT id as \"id: _\", name::TEXT as \"name!: _\", registry, repository_id as \"repository_id: _\", image_name, image_tag, status as \"status: _\", workspace_id as \"workspace_id: _\", region as \"region: _\", min_horizontal_scale, max_horizontal_scale, machine_type as \"machine_type: _\", deploy_on_push FROM deployment WHERE id = $1 AND status != 'deleted';"
  },
  "ff0cf1576493f7e907c29f9072ccec26e6a9700e4c4bcf089d646da02cc7744e": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          {
            "Custom": {
              "kind": {
                "Enum": [
                  "created",
                  "pushed",
                  "deploying",
                  "running",
                  "stopped",
                  "errored",
                  "deleted"
                ]
              },
              "name": "deployment_status"
            }
          },
          "Uuid"
        ]
      }
    },
    "query": "UPDATE deployment_static_site SET status = $1 WHERE id = $2;"
  },
  "ffcddc533aeab290a8826a1bfe3be3ac2016dc9837430aa1ecc52cbad7957376": {
    "describe": {
      "columns": [
        {
          "name": "count!",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT COUNT(*) as \"count!\" FROM deployment WHERE status != 'deleted';"
  }
}