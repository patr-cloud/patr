{
  "db_name": "PostgreSQL",
  "query": "ALTER TABLE region ADD CONSTRAINT region_fk_workspace_id FOREIGN KEY(workspace_id) REFERENCES workspace(id), ADD CONSTRAINT region_chk_status CHECK( ( status = 'creating' ) OR ( status = 'active' AND ingress_hostname IS NOT NULL AND cloudflare_certificate_id IS NOT NULL AND config_file IS NOT NULL AND disconnected_at IS NULL ) OR ( status = 'errored' ) OR ( status = 'deleted' AND deleted IS NOT NULL ) OR ( status = 'disconnected' AND ingress_hostname IS NOT NULL AND cloudflare_certificate_id IS NOT NULL AND config_file IS NOT NULL AND disconnected_at IS NOT NULL ) OR ( status = 'coming_soon' ) ), ADD CONSTRAINT region_fk_id_workspace_id FOREIGN KEY (id, workspace_id) REFERENCES resource(id, owner_id);",
  "describe": {
    "columns": [],
    "parameters": {
      "Left": []
    },
    "nullable": []
  },
  "hash": "eb91a4007c1764df6dcd64307e3c1a16a170d0766afe4f81b423710d3cb934cd"
}
