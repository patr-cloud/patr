version: 0.1
log:
  level: debug
  formatter: json
storage:
  # cache:
  #   blobdescriptor: redis
  # dev
  filesystem:
    rootdirectory: /data
  delete: 
    enabled: true
  # prod
  # s3:
  #   accesskey:
  #   secretkey:
  #   region:
  #   regionendpoint:
  #   bucket:
  #   encrypt:
  #   keyid:clear
  #   secure: true
  #   v4auth:
  #   chunksize:
  #   multipartcopychunksize:
  #   multipartcopymaxconcurrency:
  #   multipartcopythresholdsize:
  #   rootdirectory:
http:
  addr: :5000
  headers:
    X-Content-Type-Options: [nosniff]
auth:
  # silly:
  #   realm: http://localhost:3000/auth/docker-registry-token
  #   service: Docker Registry
  token:
    realm: http://localhost:3000/auth/docker-registry-token
    service: Docker registry
    issuer: localhost:3000
    rootcertbundle: /certs/ecdsa.pubkey.crt
#
# TLS will be handled through reverse proxy
#http:
#    tls:
#        certificate: /certs/server.crt
#        key: /certs/server.key
# health:
#   storagedriver:
#     enabled: true
#     interval: 10s
#     threshold: 3
notifications:
  endpoints:
    - name: vicara
      url: http://localhost:3000/webhook/docker-registry/notification
      headers:
        Authorization: [MqpqDtC719U0CbbyESQbtquzpkiEiz9xQJ21s6bdG27d6eYJbsIamnA2DU55D8T1]
      timeout: 30m
      threshold: 5
      backoff: 1m
  events: 
    includereferences: true

